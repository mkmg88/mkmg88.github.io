<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>韩雪冬网站效果 - 妙味课堂 - www.miaov.com</title>
<!--[if lte IE 6]>
<script src="js/DD_belatedPNG_0.0.8a.js" type="text/javascript"></script>
    <script type="text/javascript">
        DD_belatedPNG.fix('span');
    </script>
<![endif]-->
<link href="style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="move.js"></script>
<script>

window.onload = function(){
	var box = document.getElementById('automatic');
	var oPrev = getClass('prev_div',box)[0];
	var oNext = getClass('next_div',box)[0];
	var aLi = box.getElementsByTagName('ul')[0].getElementsByTagName('li');
	//把样式存入复合数组
	var arr = [];
	for(var i = 0; i < aLi.length; i++){
		var oImg = aLi[i].getElementsByTagName('img')[0];
		arr.push([parseInt(getStyle(aLi[i],'left')), parseInt(getStyle(aLi[i],'top')), getStyle(aLi[i],'opacity')*100, getStyle(aLi[i],'zIndex'), parseInt(getStyle(oImg,'width'))]);
	}
	//把样式再分别赋给元素
	function hTab(){
		for(var i = 0; i < aLi.length; i++){

			var oImg = aLi[i].getElementsByTagName('img')[0];

			aLi[i].style.zIndex = arr[i][3];
			starMove(aLi[i],{ left : arr[i][0], top : arr[i][1], opacity : arr[i][2] });
			starMove(oImg,{ width : arr[i][4] });
		}
	}
	oPrev.onclick = function(){
		arr.push(arr[0]);  //样式数组调整位置（把第一个调到最后一个）
		arr.shift();
		hTab();   //执行样式赋给函数
	}
	oNext.onclick = function(){
		arr.unshift(arr[aLi.length - 1]);  //样式数组调整位置（把最后一个调到第一个）
		arr.pop();
		hTab();   //执行样式赋给函数
	}
}

function getClass(className,parent){
	var arr1 = parent.getElementsByTagName('*');
	var arr2 = [];
	for(var i = 0; i < arr1.length; i++){
		if(arr1[i].className == className) arr2.push(arr1[i]);
	}
	return arr2;
}
function getStyle(obj,attr){
	if(window.getComputedStyle){
		return window.getComputedStyle(obj,null)[attr];
	}else{
		return obj.currentStyle[attr];
	}
}
</script>
</head>

<body>

<div id="automatic">
	
	<div class="prev_div"></div>
    <a class="prev" href="###">
        <span class="ico1"></span>
        <span class="ico"></span>
        <span class="txt"></span>
    </a>
	
	<div class="next_div"></div>
    <a class="next" href="###">
        <span class="ico1"></span>
        <span class="ico"></span>
        <span class="txt"></span>
    </a>

    <ul>
        <li class="pos_0"><a href="###"><img src="images/8.jpg" width="100" alt="" longdesc="###" /></a></li>
        <li class="pos_1"><a href="###"><img src="images/1.jpg" width="270" alt="" longdesc="###" /></a></li>
        <li class="pos_2"><a href="###"><img src="images/2.jpg" width="510" alt="" longdesc="###" /></a></li>
        <li class="pos_3"><a href="###"><img src="images/3.jpg" width="680" alt="" longdesc="###" /></a></li>
        <li class="pos_4"><a href="###"><img src="images/4.jpg" width="510" alt="" longdesc="###" /></a></li>
        <li class="pos_5"><a href="###"><img src="images/5.jpg" width="270" alt="" longdesc="###" /></a></li>
        <li class="pos_6"><a href="###"><img src="images/6.jpg" width="270" alt="" longdesc="###" /></a></li>
        <li class="pos_6"><a href="###"><img src="images/7.jpg" width="270" alt="" longdesc="###" /></a></li>
    </ul>

</div>
</body>
</html>
