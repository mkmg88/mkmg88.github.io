<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>弹出层demo</title>
</head>
<style>
* {
	margin: 0;
	padding: 0;
}
html {
	height: 100%;
}
body {
	width: 100%;
	height: 1200px;
	background: url(images/body.png) no-repeat center top;
}
#mask {
	height: 100%;
	width: 100%;
	position: absolute;
	left: 0;
	top: 0;
	background: #000;
	opacity: 0.5;
	filter: alpha(opacity=50);
	display: none;
}
#searchTip {
	width: 980px;
	height: 800px;
	position: absolute;
	left: 50%;
	margin-left: -490px;
	display: none;
}
#searchTip div {
	position: absolute;
	display: none;
}
#searchTip div a {
	position: absolute;
	width: 95px;
	height: 32px;
	text-indent: -999px;
	overflow: hidden;
	cursor: pointer;
}
#searchTip div span {
	position: absolute;
	width: 30px;
	height: 30px;
	text-indent: -999px;
	overflow: hidden;
	cursor: pointer;
	
}

.step1 {width: 745px; height: 329px; background: url(images/guide11.png) 0 0 no-repeat; top: 131px; left: -9px;
}
.step1 a {
	top: 231px;
	left: 490px;
}
.step1 span {
	top: 144px;
	left: 683px;
}

.step2{ background:url(images/guide21.png); width:647px; height:405px;top:2px; left:324px;}
.step2 a{top:308px; left:146px;}
.step2 span{ top:196px; right:285px; }

.step3{ background:url(images/guide31.png); width:654px; height:257px;top:294px; left:318px;}
.step3 a{top:155px; left:400px; }
.step3 span{ top:44px; right:35px; }

.step4{ background:url(images/guide41.png); width:558px; height:348px;top:78px; left:155px;}
.step4 a{top:246px; left:304px;}
.step4 span{ top:135px; right:35px; }

.step5{ background:url(images/guide51.png); width:397px; height:342px;top:79px; left:250px;}
.step5 a{top:245px; left:153px;}


</style>
<script>
window.onload = function(){
	var oMask = document.getElementById('mask');
	var oSearch = document.getElementById('searchTip');
	var aStep = oSearch.getElementsByTagName('div');
	var aA = oSearch.getElementsByTagName('a');
	var aClose = oSearch.getElementsByTagName('span');

	//get cookie
	var res = document.cookie.substring(5);

	
	if(res != 'www.open.com.cn'){

		oMask.style.display = oSearch.style.display = aStep[0].style.display = 'block';

		//next
		for(var i=0; i<aStep.length; i++){
			aA[i].index = i;
			aA[i].onclick = function(){
				this.parentNode.style.display = 'none';
				if(this.index < aStep.length - 1){
					aStep[this.index + 1].style.display = 'block';
				}else if(this.index == aStep.length - 1){
					oMask.style.display = oSearch.style.display = 'none';
				}
			}
		}

		//close
		for(var i=0; i<aClose.length; i++){
			aClose[i].onclick = function(){
				oMask.style.display = oSearch.style.display = 'none';
			}
		}

		//add cookie
		var oDate = new Date;
		oDate.setDate(oDate.getDate()+30);
		document.cookie = 'name=www.open.com.cn;expires='+oDate;
	}

	

}
</script>
<body>

	<div id="mask"></div>
	<div id="searchTip">
		<div class="step1"><a href="javascript:;">下一步</a><span title="关闭">关闭</span></div>
		<div class="step2"><a href="javascript:;">下一步</a><span title="关闭">关闭</span></div>
		<div class="step3"><a href="javascript:;">下一步</a><span title="关闭">关闭</span></div>
		<div class="step4"><a href="javascript:;">下一步</a><span title="关闭">关闭</span></div>
		<div class="step5"><a href="javascript:;">下一步</a></div>
	</div>

</body>
</html>