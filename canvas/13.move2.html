<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>阴影</title>
    <style>
        body {
            background: #ccc;
        }
        canvas {
            background: #fff;
        }
    </style>
</head>

<body>

    <canvas id="canvas" width="400" height="400"></canvas>

    <script>
 
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');


    var speed = 2;
    var radio = 30;
    var r = 10;
    var radians,xzz,yzz;
    context.fillStyle = 'red';


    function move(p1){
        updateBall();

        var x = p1.x + xzz;
        var y = p1.y + yzz;
        draw(x,y,r,'red');





        setTimeout(function fn(){
            x = x + xzz;
            y = y + yzz;
            draw(x,y,r,'red');

            if(x > canvas.width || x  < 0){
                radio = 180 - radio;
            }else if(y > canvas.height || y < 0){
                radio = 360 - radio;
            }
            updateBall();

            setTimeout(fn,13);
        },13);
        
    }


    function updateBall(){
        radians = radio*Math.PI/180;
        xzz = Math.cos(radians)*speed;
        yzz = Math.sin(radians)*speed;
    }

    function draw(x,y,r,color){
        context.clearRect(0,0,canvas.width,canvas.height);
        context.beginPath();
        context.fillStyle = color || '#000';
        context.arc(x,y,r,0, Math.PI/2*180, false);
        context.closePath();
        context.fill();
    }


    move({x:30,y:30});
    

 

    

    </script>
</body>

</html>
