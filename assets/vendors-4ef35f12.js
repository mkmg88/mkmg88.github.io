var Eh=Object.defineProperty,Ah=Object.defineProperties;var Rh=Object.getOwnPropertyDescriptors;var xi=Object.getOwnPropertySymbols;var qs=Object.prototype.hasOwnProperty,Ks=Object.prototype.propertyIsEnumerable;var js=(t,e,r)=>e in t?Eh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,te=(t,e)=>{for(var r in e||(e={}))qs.call(e,r)&&js(t,r,e[r]);if(xi)for(var r of xi(e))Ks.call(e,r)&&js(t,r,e[r]);return t},Ws=(t,e)=>Ah(t,Rh(e));var zs=(t,e)=>{var r={};for(var i in t)qs.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&xi)for(var i of xi(t))e.indexOf(i)<0&&Ks.call(t,i)&&(r[i]=t[i]);return r};function Yi(t,e){const r=Object.create(null),i=t.split(",");for(let a=0;a<i.length;a++)r[i[a]]=!0;return e?a=>!!r[a.toLowerCase()]:a=>!!r[a]}const mt={},Ye=[],Qt=()=>{},Fh=()=>!1,Mh=/^on[^a-z]/,pi=t=>Mh.test(t),rs=t=>t.startsWith("onUpdate:"),St=Object.assign,is=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Oh=Object.prototype.hasOwnProperty,_t=(t,e)=>Oh.call(t,e),nt=Array.isArray,$e=t=>nr(t)==="[object Map]",He=t=>nr(t)==="[object Set]",Ys=t=>nr(t)==="[object Date]",kh=t=>nr(t)==="[object RegExp]",ct=t=>typeof t=="function",xt=t=>typeof t=="string",ai=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",ns=t=>yt(t)&&ct(t.then)&&ct(t.catch),Io=Object.prototype.toString,nr=t=>Io.call(t),Nh=t=>nr(t).slice(8,-1),Go=t=>nr(t)==="[object Object]",ss=t=>xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zr=Yi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$i=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Lh=/-(\w)/g,Bt=$i(t=>t.replace(Lh,(e,r)=>r?r.toUpperCase():"")),Dh=/\B([A-Z])/g,$t=$i(t=>t.replace(Dh,"-$1").toLowerCase()),vi=$i(t=>t.charAt(0).toUpperCase()+t.slice(1)),ti=$i(t=>t?`on${vi(t)}`:""),tr=(t,e)=>!Object.is(t,e),Xe=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Ui=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Bi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vi=t=>{const e=xt(t)?Number(t):NaN;return isNaN(e)?t:e};let $s;const Ln=()=>$s||($s=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),Ih="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",Gh=Yi(Ih);function _i(t){if(nt(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],a=xt(i)?Hh(i):_i(i);if(a)for(const n in a)e[n]=a[n]}return e}else{if(xt(t))return t;if(yt(t))return t}}const Uh=/;(?![^(]*\))/g,Bh=/:([^]+)/,Vh=/\/\*[^]*?\*\//g;function Hh(t){const e={};return t.replace(Vh,"").split(Uh).forEach(r=>{if(r){const i=r.split(Bh);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function mi(t){let e="";if(xt(t))e=t;else if(nt(t))for(let r=0;r<t.length;r++){const i=mi(t[r]);i&&(e+=i+" ")}else if(yt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function jh(t){if(!t)return null;let{class:e,style:r}=t;return e&&!xt(e)&&(t.class=mi(e)),r&&(t.style=_i(r)),t}const qh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kh=Yi(qh);function Uo(t){return!!t||t===""}function Wh(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=be(t[i],e[i]);return r}function be(t,e){if(t===e)return!0;let r=Ys(t),i=Ys(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=ai(t),i=ai(e),r||i)return t===e;if(r=nt(t),i=nt(e),r||i)return r&&i?Wh(t,e):!1;if(r=yt(t),i=yt(e),r||i){if(!r||!i)return!1;const a=Object.keys(t).length,n=Object.keys(e).length;if(a!==n)return!1;for(const s in t){const o=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(o&&!l||!o&&l||!be(t[s],e[s]))return!1}}return String(t)===String(e)}function Xi(t,e){return t.findIndex(r=>be(r,e))}const zh=t=>xt(t)?t:t==null?"":nt(t)||yt(t)&&(t.toString===Io||!ct(t.toString))?JSON.stringify(t,Bo,2):String(t),Bo=(t,e)=>e&&e.__v_isRef?Bo(t,e.value):$e(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,a])=>(r[`${i} =>`]=a,r),{})}:He(e)?{[`Set(${e.size})`]:[...e.values()]}:yt(e)&&!nt(e)&&!Go(e)?String(e):e;let Kt;class as{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Kt,!e&&Kt&&(this.index=(Kt.scopes||(Kt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Kt;try{return Kt=this,e()}finally{Kt=r}}}on(){Kt=this}off(){Kt=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function Yh(t){return new as(t)}function Vo(t,e=Kt){e&&e.active&&e.effects.push(t)}function Ho(){return Kt}function $h(t){Kt&&Kt.cleanups.push(t)}const os=t=>{const e=new Set(t);return e.w=0,e.n=0,e},jo=t=>(t.w&Se)>0,qo=t=>(t.n&Se)>0,Xh=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Se},Jh=t=>{const{deps:e}=t;if(e.length){let r=0;for(let i=0;i<e.length;i++){const a=e[i];jo(a)&&!qo(a)?a.delete(t):e[r++]=a,a.w&=~Se,a.n&=~Se}e.length=r}},Hi=new WeakMap;let Xr=0,Se=1;const Dn=30;let Xt;const ke=Symbol(""),In=Symbol("");class yi{constructor(e,r=null,i){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Vo(this,i)}run(){if(!this.active)return this.fn();let e=Xt,r=me;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Xt,Xt=this,me=!0,Se=1<<++Xr,Xr<=Dn?Xh(this):Xs(this),this.fn()}finally{Xr<=Dn&&Jh(this),Se=1<<--Xr,Xt=this.parent,me=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Xt===this?this.deferStop=!0:this.active&&(Xs(this),this.onStop&&this.onStop(),this.active=!1)}}function Xs(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function Qh(t,e){t.effect&&(t=t.effect.fn);const r=new yi(t);e&&(St(r,e),e.scope&&Vo(r,e.scope)),(!e||!e.lazy)&&r.run();const i=r.run.bind(r);return i.effect=r,i}function Zh(t){t.effect.stop()}let me=!0;const Ko=[];function sr(){Ko.push(me),me=!1}function ar(){const t=Ko.pop();me=t===void 0?!0:t}function Vt(t,e,r){if(me&&Xt){let i=Hi.get(t);i||Hi.set(t,i=new Map);let a=i.get(r);a||i.set(r,a=os()),Wo(a)}}function Wo(t,e){let r=!1;Xr<=Dn?qo(t)||(t.n|=Se,r=!jo(t)):r=!t.has(Xt),r&&(t.add(Xt),Xt.deps.push(t))}function ce(t,e,r,i,a,n){const s=Hi.get(t);if(!s)return;let o=[];if(e==="clear")o=[...s.values()];else if(r==="length"&&nt(t)){const l=Number(i);s.forEach((u,_)=>{(_==="length"||_>=l)&&o.push(u)})}else switch(r!==void 0&&o.push(s.get(r)),e){case"add":nt(t)?ss(r)&&o.push(s.get("length")):(o.push(s.get(ke)),$e(t)&&o.push(s.get(In)));break;case"delete":nt(t)||(o.push(s.get(ke)),$e(t)&&o.push(s.get(In)));break;case"set":$e(t)&&o.push(s.get(ke));break}if(o.length===1)o[0]&&Gn(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);Gn(os(l))}}function Gn(t,e){const r=nt(t)?t:[...t];for(const i of r)i.computed&&Js(i);for(const i of r)i.computed||Js(i)}function Js(t,e){(t!==Xt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function tc(t,e){var r;return(r=Hi.get(t))==null?void 0:r.get(e)}const ec=Yi("__proto__,__v_isRef,__isVue"),zo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ai)),rc=Ji(),ic=Ji(!1,!0),nc=Ji(!0),sc=Ji(!0,!0),Qs=ac();function ac(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=pt(this);for(let n=0,s=this.length;n<s;n++)Vt(i,"get",n+"");const a=i[e](...r);return a===-1||a===!1?i[e](...r.map(pt)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){sr();const i=pt(this)[e].apply(this,r);return ar(),i}}),t}function oc(t){const e=pt(this);return Vt(e,"has",t),e.hasOwnProperty(t)}function Ji(t=!1,e=!1){return function(i,a,n){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&n===(t?e?tl:Zo:e?Qo:Jo).get(i))return i;const s=nt(i);if(!t){if(s&&_t(Qs,a))return Reflect.get(Qs,a,n);if(a==="hasOwnProperty")return oc}const o=Reflect.get(i,a,n);return(ai(a)?zo.has(a):ec(a))||(t||Vt(i,"get",a),e)?o:Rt(o)?s&&ss(a)?o:o.value:yt(o)?t?hs(o):tn(o):o}}const lc=Yo(),hc=Yo(!0);function Yo(t=!1){return function(r,i,a,n){let s=r[i];if(Ge(s)&&Rt(s)&&!Rt(a))return!1;if(!t&&(!oi(a)&&!Ge(a)&&(s=pt(s),a=pt(a)),!nt(r)&&Rt(s)&&!Rt(a)))return s.value=a,!0;const o=nt(r)&&ss(i)?Number(i)<r.length:_t(r,i),l=Reflect.set(r,i,a,n);return r===pt(n)&&(o?tr(a,s)&&ce(r,"set",i,a):ce(r,"add",i,a)),l}}function cc(t,e){const r=_t(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&r&&ce(t,"delete",e,void 0),i}function uc(t,e){const r=Reflect.has(t,e);return(!ai(e)||!zo.has(e))&&Vt(t,"has",e),r}function fc(t){return Vt(t,"iterate",nt(t)?"length":ke),Reflect.ownKeys(t)}const $o={get:rc,set:lc,deleteProperty:cc,has:uc,ownKeys:fc},Xo={get:nc,set(t,e){return!0},deleteProperty(t,e){return!0}},dc=St({},$o,{get:ic,set:hc}),gc=St({},Xo,{get:sc}),ls=t=>t,Qi=t=>Reflect.getPrototypeOf(t);function Pi(t,e,r=!1,i=!1){t=t.__v_raw;const a=pt(t),n=pt(e);r||(e!==n&&Vt(a,"get",e),Vt(a,"get",n));const{has:s}=Qi(a),o=i?ls:r?fs:li;if(s.call(a,e))return o(t.get(e));if(s.call(a,n))return o(t.get(n));t!==a&&t.get(e)}function Ti(t,e=!1){const r=this.__v_raw,i=pt(r),a=pt(t);return e||(t!==a&&Vt(i,"has",t),Vt(i,"has",a)),t===a?r.has(t):r.has(t)||r.has(a)}function Ei(t,e=!1){return t=t.__v_raw,!e&&Vt(pt(t),"iterate",ke),Reflect.get(t,"size",t)}function Zs(t){t=pt(t);const e=pt(this);return Qi(e).has.call(e,t)||(e.add(t),ce(e,"add",t,t)),this}function ta(t,e){e=pt(e);const r=pt(this),{has:i,get:a}=Qi(r);let n=i.call(r,t);n||(t=pt(t),n=i.call(r,t));const s=a.call(r,t);return r.set(t,e),n?tr(e,s)&&ce(r,"set",t,e):ce(r,"add",t,e),this}function ea(t){const e=pt(this),{has:r,get:i}=Qi(e);let a=r.call(e,t);a||(t=pt(t),a=r.call(e,t)),i&&i.call(e,t);const n=e.delete(t);return a&&ce(e,"delete",t,void 0),n}function ra(){const t=pt(this),e=t.size!==0,r=t.clear();return e&&ce(t,"clear",void 0,void 0),r}function Ai(t,e){return function(i,a){const n=this,s=n.__v_raw,o=pt(s),l=e?ls:t?fs:li;return!t&&Vt(o,"iterate",ke),s.forEach((u,_)=>i.call(a,l(u),l(_),n))}}function Ri(t,e,r){return function(...i){const a=this.__v_raw,n=pt(a),s=$e(n),o=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=a[t](...i),_=r?ls:e?fs:li;return!e&&Vt(n,"iterate",l?In:ke),{next(){const{value:p,done:m}=u.next();return m?{value:p,done:m}:{value:o?[_(p[0]),_(p[1])]:_(p),done:m}},[Symbol.iterator](){return this}}}}function de(t){return function(...e){return t==="delete"?!1:this}}function pc(){const t={get(n){return Pi(this,n)},get size(){return Ei(this)},has:Ti,add:Zs,set:ta,delete:ea,clear:ra,forEach:Ai(!1,!1)},e={get(n){return Pi(this,n,!1,!0)},get size(){return Ei(this)},has:Ti,add:Zs,set:ta,delete:ea,clear:ra,forEach:Ai(!1,!0)},r={get(n){return Pi(this,n,!0)},get size(){return Ei(this,!0)},has(n){return Ti.call(this,n,!0)},add:de("add"),set:de("set"),delete:de("delete"),clear:de("clear"),forEach:Ai(!0,!1)},i={get(n){return Pi(this,n,!0,!0)},get size(){return Ei(this,!0)},has(n){return Ti.call(this,n,!0)},add:de("add"),set:de("set"),delete:de("delete"),clear:de("clear"),forEach:Ai(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=Ri(n,!1,!1),r[n]=Ri(n,!0,!1),e[n]=Ri(n,!1,!0),i[n]=Ri(n,!0,!0)}),[t,r,e,i]}const[vc,_c,mc,yc]=pc();function Zi(t,e){const r=e?t?yc:mc:t?_c:vc;return(i,a,n)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?i:Reflect.get(_t(r,a)&&a in i?r:i,a,n)}const bc={get:Zi(!1,!1)},Sc={get:Zi(!1,!0)},Cc={get:Zi(!0,!1)},wc={get:Zi(!0,!0)},Jo=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,tl=new WeakMap;function xc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pc(t){return t.__v_skip||!Object.isExtensible(t)?0:xc(Nh(t))}function tn(t){return Ge(t)?t:en(t,!1,$o,bc,Jo)}function el(t){return en(t,!1,dc,Sc,Qo)}function hs(t){return en(t,!0,Xo,Cc,Zo)}function Tc(t){return en(t,!0,gc,wc,tl)}function en(t,e,r,i,a){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=a.get(t);if(n)return n;const s=Pc(t);if(s===0)return t;const o=new Proxy(t,s===2?i:r);return a.set(t,o),o}function Ne(t){return Ge(t)?Ne(t.__v_raw):!!(t&&t.__v_isReactive)}function Ge(t){return!!(t&&t.__v_isReadonly)}function oi(t){return!!(t&&t.__v_isShallow)}function cs(t){return Ne(t)||Ge(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function us(t){return Ui(t,"__v_skip",!0),t}const li=t=>yt(t)?tn(t):t,fs=t=>yt(t)?hs(t):t;function ds(t){me&&Xt&&(t=pt(t),Wo(t.dep||(t.dep=os())))}function rn(t,e){t=pt(t);const r=t.dep;r&&Gn(r)}function Rt(t){return!!(t&&t.__v_isRef===!0)}function Je(t){return rl(t,!1)}function Ec(t){return rl(t,!0)}function rl(t,e){return Rt(t)?t:new Ac(t,e)}class Ac{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:pt(e),this._value=r?e:li(e)}get value(){return ds(this),this._value}set value(e){const r=this.__v_isShallow||oi(e)||Ge(e);e=r?e:pt(e),tr(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:li(e),rn(this))}}function Rc(t){rn(t)}function gs(t){return Rt(t)?t.value:t}function Fc(t){return ct(t)?t():gs(t)}const Mc={get:(t,e,r)=>gs(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const a=t[e];return Rt(a)&&!Rt(r)?(a.value=r,!0):Reflect.set(t,e,r,i)}};function ps(t){return Ne(t)?t:new Proxy(t,Mc)}class Oc{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=e(()=>ds(this),()=>rn(this));this._get=r,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function kc(t){return new Oc(t)}function Nc(t){const e=nt(t)?new Array(t.length):{};for(const r in t)e[r]=il(t,r);return e}class Lc{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return tc(pt(this._object),this._key)}}class Dc{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ic(t,e,r){return Rt(t)?t:ct(t)?new Dc(t):yt(t)&&arguments.length>1?il(t,e,r):Je(t)}function il(t,e,r){const i=t[e];return Rt(i)?i:new Lc(t,e,r)}class Gc{constructor(e,r,i,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new yi(e,()=>{this._dirty||(this._dirty=!0,rn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=i}get value(){const e=pt(this);return ds(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Uc(t,e,r=!1){let i,a;const n=ct(t);return n?(i=t,a=Qt):(i=t.get,a=t.set),new Gc(i,a,n||!a,r)}function Bc(t,...e){}function Vc(t,e){}function he(t,e,r,i){let a;try{a=i?t(...i):t()}catch(n){je(n,e,r)}return a}function zt(t,e,r,i){if(ct(t)){const n=he(t,e,r,i);return n&&ns(n)&&n.catch(s=>{je(s,e,r)}),n}const a=[];for(let n=0;n<t.length;n++)a.push(zt(t[n],e,r,i));return a}function je(t,e,r,i=!0){const a=e?e.vnode:null;if(e){let n=e.parent;const s=e.proxy,o=r;for(;n;){const u=n.ec;if(u){for(let _=0;_<u.length;_++)if(u[_](t,s,o)===!1)return}n=n.parent}const l=e.appContext.config.errorHandler;if(l){he(l,null,10,[t,s,o]);return}}Hc(t,r,a,i)}function Hc(t,e,r,i=!0){console.error(t)}let hi=!1,Un=!1;const Nt=[];let re=0;const Qe=[];let oe=null,Fe=0;const nl=Promise.resolve();let vs=null;function _s(t){const e=vs||nl;return t?e.then(this?t.bind(this):t):e}function jc(t){let e=re+1,r=Nt.length;for(;e<r;){const i=e+r>>>1;ci(Nt[i])<t?e=i+1:r=i}return e}function nn(t){(!Nt.length||!Nt.includes(t,hi&&t.allowRecurse?re+1:re))&&(t.id==null?Nt.push(t):Nt.splice(jc(t.id),0,t),sl())}function sl(){!hi&&!Un&&(Un=!0,vs=nl.then(al))}function qc(t){const e=Nt.indexOf(t);e>re&&Nt.splice(e,1)}function ms(t){nt(t)?Qe.push(...t):(!oe||!oe.includes(t,t.allowRecurse?Fe+1:Fe))&&Qe.push(t),sl()}function ia(t,e=hi?re+1:0){for(;e<Nt.length;e++){const r=Nt[e];r&&r.pre&&(Nt.splice(e,1),e--,r())}}function ji(t){if(Qe.length){const e=[...new Set(Qe)];if(Qe.length=0,oe){oe.push(...e);return}for(oe=e,oe.sort((r,i)=>ci(r)-ci(i)),Fe=0;Fe<oe.length;Fe++)oe[Fe]();oe=null,Fe=0}}const ci=t=>t.id==null?1/0:t.id,Kc=(t,e)=>{const r=ci(t)-ci(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function al(t){Un=!1,hi=!0,Nt.sort(Kc);const e=Qt;try{for(re=0;re<Nt.length;re++){const r=Nt[re];r&&r.active!==!1&&he(r,null,14)}}finally{re=0,Nt.length=0,ji(),hi=!1,vs=null,(Nt.length||Qe.length)&&al()}}let We,Fi=[];function ol(t,e){var r,i;We=t,We?(We.enabled=!0,Fi.forEach(({event:a,args:n})=>We.emit(a,...n)),Fi=[]):typeof window!="undefined"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{ol(n,e)}),setTimeout(()=>{We||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Fi=[])},3e3)):Fi=[]}function Wc(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||mt;let a=r;const n=e.startsWith("update:"),s=n&&e.slice(7);if(s&&s in i){const _=`${s==="modelValue"?"model":s}Modifiers`,{number:p,trim:m}=i[_]||mt;m&&(a=r.map(v=>xt(v)?v.trim():v)),p&&(a=r.map(Bi))}let o,l=i[o=ti(e)]||i[o=ti(Bt(e))];!l&&n&&(l=i[o=ti($t(e))]),l&&zt(l,t,6,a);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,zt(u,t,6,a)}}function ll(t,e,r=!1){const i=e.emitsCache,a=i.get(t);if(a!==void 0)return a;const n=t.emits;let s={},o=!1;if(!ct(t)){const l=u=>{const _=ll(u,e,!0);_&&(o=!0,St(s,_))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!n&&!o?(yt(t)&&i.set(t,null),null):(nt(n)?n.forEach(l=>s[l]=null):St(s,n),yt(t)&&i.set(t,s),s)}function sn(t,e){return!t||!pi(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,$t(e))||_t(t,e))}let Ft=null,an=null;function ui(t){const e=Ft;return Ft=t,an=t&&t.type.__scopeId||null,e}function zc(t){an=t}function Yc(){an=null}const $c=t=>ys;function ys(t,e=Ft,r){if(!e||t._n)return t;const i=(...a)=>{i._d&&Wn(-1);const n=ui(e);let s;try{s=t(...a)}finally{ui(n),i._d&&Wn(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function Di(t){const{type:e,vnode:r,proxy:i,withProxy:a,props:n,propsOptions:[s],slots:o,attrs:l,emit:u,render:_,renderCache:p,data:m,setupState:v,ctx:d,inheritAttrs:y}=t;let S,x;const c=ui(t);try{if(r.shapeFlag&4){const g=a||i;S=Wt(_.call(g,g,p,n,v,m,d)),x=l}else{const g=e;S=Wt(g.length>1?g(n,{attrs:l,slots:o,emit:u}):g(n,null)),x=e.props?l:Jc(l)}}catch(g){ni.length=0,je(g,t,1),S=wt(Lt)}let h=S;if(x&&y!==!1){const g=Object.keys(x),{shapeFlag:C}=h;g.length&&C&7&&(s&&g.some(rs)&&(x=Qc(x,s)),h=ie(h,x))}return r.dirs&&(h=ie(h),h.dirs=h.dirs?h.dirs.concat(r.dirs):r.dirs),r.transition&&(h.transition=r.transition),S=h,ui(c),S}function Xc(t){let e;for(let r=0;r<t.length;r++){const i=t[r];if(Ce(i)){if(i.type!==Lt||i.children==="v-if"){if(e)return;e=i}}else return}return e}const Jc=t=>{let e;for(const r in t)(r==="class"||r==="style"||pi(r))&&((e||(e={}))[r]=t[r]);return e},Qc=(t,e)=>{const r={};for(const i in t)(!rs(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function Zc(t,e,r){const{props:i,children:a,component:n}=t,{props:s,children:o,patchFlag:l}=e,u=n.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?na(i,s,u):!!s;if(l&8){const _=e.dynamicProps;for(let p=0;p<_.length;p++){const m=_[p];if(s[m]!==i[m]&&!sn(u,m))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:i===s?!1:i?s?na(i,s,u):!0:!!s;return!1}function na(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let a=0;a<i.length;a++){const n=i[a];if(e[n]!==t[n]&&!sn(r,n))return!0}return!1}function bs({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const hl=t=>t.__isSuspense,tu={name:"Suspense",__isSuspense:!0,process(t,e,r,i,a,n,s,o,l,u){t==null?ru(e,r,i,a,n,s,o,l,u):iu(t,e,r,i,a,s,o,l,u)},hydrate:nu,create:Ss,normalize:su},eu=tu;function fi(t,e){const r=t.props&&t.props[e];ct(r)&&r()}function ru(t,e,r,i,a,n,s,o,l){const{p:u,o:{createElement:_}}=l,p=_("div"),m=t.suspense=Ss(t,a,i,e,p,r,n,s,o,l);u(null,m.pendingBranch=t.ssContent,p,null,i,m,n,s),m.deps>0?(fi(t,"onPending"),fi(t,"onFallback"),u(null,t.ssFallback,e,r,i,null,n,s),Ze(m,t.ssFallback)):m.resolve(!1,!0)}function iu(t,e,r,i,a,n,s,o,{p:l,um:u,o:{createElement:_}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const m=e.ssContent,v=e.ssFallback,{activeBranch:d,pendingBranch:y,isInFallback:S,isHydrating:x}=p;if(y)p.pendingBranch=m,Jt(m,y)?(l(y,m,p.hiddenContainer,null,a,p,n,s,o),p.deps<=0?p.resolve():S&&(l(d,v,r,i,a,null,n,s,o),Ze(p,v))):(p.pendingId++,x?(p.isHydrating=!1,p.activeBranch=y):u(y,a,p),p.deps=0,p.effects.length=0,p.hiddenContainer=_("div"),S?(l(null,m,p.hiddenContainer,null,a,p,n,s,o),p.deps<=0?p.resolve():(l(d,v,r,i,a,null,n,s,o),Ze(p,v))):d&&Jt(m,d)?(l(d,m,r,i,a,p,n,s,o),p.resolve(!0)):(l(null,m,p.hiddenContainer,null,a,p,n,s,o),p.deps<=0&&p.resolve()));else if(d&&Jt(m,d))l(d,m,r,i,a,p,n,s,o),Ze(p,m);else if(fi(e,"onPending"),p.pendingBranch=m,p.pendingId++,l(null,m,p.hiddenContainer,null,a,p,n,s,o),p.deps<=0)p.resolve();else{const{timeout:c,pendingId:h}=p;c>0?setTimeout(()=>{p.pendingId===h&&p.fallback(v)},c):c===0&&p.fallback(v)}}function Ss(t,e,r,i,a,n,s,o,l,u,_=!1){const{p,m,um:v,n:d,o:{parentNode:y,remove:S}}=u;let x;const c=au(t);c&&e!=null&&e.pendingBranch&&(x=e.pendingId,e.deps++);const h=t.props?Vi(t.props.timeout):void 0,g={vnode:t,parent:e,parentComponent:r,isSVG:s,container:i,hiddenContainer:a,anchor:n,deps:0,pendingId:0,timeout:typeof h=="number"?h:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:_,isUnmounted:!1,effects:[],resolve(C=!1,A=!1){const{vnode:M,activeBranch:w,pendingBranch:E,pendingId:P,effects:R,parentComponent:k,container:f}=g;if(g.isHydrating)g.isHydrating=!1;else if(!C){const F=w&&E.transition&&E.transition.mode==="out-in";F&&(w.transition.afterLeave=()=>{P===g.pendingId&&m(E,f,N,0)});let{anchor:N}=g;w&&(N=d(w),v(w,k,g,!0)),F||m(E,f,N,0)}Ze(g,E),g.pendingBranch=null,g.isInFallback=!1;let b=g.parent,T=!1;for(;b;){if(b.pendingBranch){b.effects.push(...R),T=!0;break}b=b.parent}T||ms(R),g.effects=[],c&&e&&e.pendingBranch&&x===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),fi(M,"onResolve")},fallback(C){if(!g.pendingBranch)return;const{vnode:A,activeBranch:M,parentComponent:w,container:E,isSVG:P}=g;fi(A,"onFallback");const R=d(M),k=()=>{g.isInFallback&&(p(null,C,E,R,w,null,P,o,l),Ze(g,C))},f=C.transition&&C.transition.mode==="out-in";f&&(M.transition.afterLeave=k),g.isInFallback=!0,v(M,w,null,!0),f||k()},move(C,A,M){g.activeBranch&&m(g.activeBranch,C,A,M),g.container=C},next(){return g.activeBranch&&d(g.activeBranch)},registerDep(C,A){const M=!!g.pendingBranch;M&&g.deps++;const w=C.vnode.el;C.asyncDep.catch(E=>{je(E,C,0)}).then(E=>{if(C.isUnmounted||g.isUnmounted||g.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:P}=C;zn(C,E,!1),w&&(P.el=w);const R=!w&&C.subTree.el;A(C,P,y(w||C.subTree.el),w?null:d(C.subTree),g,s,l),R&&S(R),bs(C,P.el),M&&--g.deps===0&&g.resolve()})},unmount(C,A){g.isUnmounted=!0,g.activeBranch&&v(g.activeBranch,r,C,A),g.pendingBranch&&v(g.pendingBranch,r,C,A)}};return g}function nu(t,e,r,i,a,n,s,o,l){const u=e.suspense=Ss(e,i,r,t.parentNode,document.createElement("div"),null,a,n,s,o,!0),_=l(t,u.pendingBranch=e.ssContent,r,u,n,s);return u.deps===0&&u.resolve(!1,!0),_}function su(t){const{shapeFlag:e,children:r}=t,i=e&32;t.ssContent=sa(i?r.default:r),t.ssFallback=i?sa(r.fallback):wt(Lt)}function sa(t){let e;if(ct(t)){const r=Ve&&t._c;r&&(t._d=!1,fn()),t=t(),r&&(t._d=!0,e=Ut,Ul())}return nt(t)&&(t=Xc(t)),t=Wt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function cl(t,e){e&&e.pendingBranch?nt(t)?e.effects.push(...t):e.effects.push(t):ms(t)}function Ze(t,e){t.activeBranch=e;const{vnode:r,parentComponent:i}=t,a=r.el=e.el;i&&i.subTree===r&&(i.vnode.el=a,bs(i,a))}function au(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function ou(t,e){return bi(t,null,e)}function ul(t,e){return bi(t,null,{flush:"post"})}function lu(t,e){return bi(t,null,{flush:"sync"})}const Mi={};function Le(t,e,r){return bi(t,e,r)}function bi(t,e,{immediate:r,deep:i,flush:a,onTrack:n,onTrigger:s}=mt){var o;const l=Ho()===((o=At)==null?void 0:o.scope)?At:null;let u,_=!1,p=!1;if(Rt(t)?(u=()=>t.value,_=oi(t)):Ne(t)?(u=()=>t,i=!0):nt(t)?(p=!0,_=t.some(g=>Ne(g)||oi(g)),u=()=>t.map(g=>{if(Rt(g))return g.value;if(Ne(g))return Oe(g);if(ct(g))return he(g,l,2)})):ct(t)?e?u=()=>he(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return m&&m(),zt(t,l,3,[v])}:u=Qt,e&&i){const g=u;u=()=>Oe(g())}let m,v=g=>{m=c.onStop=()=>{he(g,l,4)}},d;if(rr)if(v=Qt,e?r&&zt(e,l,3,[u(),p?[]:void 0,v]):u(),a==="sync"){const g=Ql();d=g.__watcherHandles||(g.__watcherHandles=[])}else return Qt;let y=p?new Array(t.length).fill(Mi):Mi;const S=()=>{if(c.active)if(e){const g=c.run();(i||_||(p?g.some((C,A)=>tr(C,y[A])):tr(g,y)))&&(m&&m(),zt(e,l,3,[g,y===Mi?void 0:p&&y[0]===Mi?[]:y,v]),y=g)}else c.run()};S.allowRecurse=!!e;let x;a==="sync"?x=S:a==="post"?x=()=>Ot(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),x=()=>nn(S));const c=new yi(u,x);e?r?S():y=c.run():a==="post"?Ot(c.run.bind(c),l&&l.suspense):c.run();const h=()=>{c.stop(),l&&l.scope&&is(l.scope.effects,c)};return d&&d.push(h),h}function hu(t,e,r){const i=this.proxy,a=xt(t)?t.includes(".")?fl(i,t):()=>i[t]:t.bind(i,i);let n;ct(e)?n=e:(n=e.handler,r=e);const s=At;we(this);const o=bi(a,n.bind(i),r);return s?we(s):ye(),o}function fl(t,e){const r=e.split(".");return()=>{let i=t;for(let a=0;a<r.length&&i;a++)i=i[r[a]];return i}}function Oe(t,e){if(!yt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Rt(t))Oe(t.value,e);else if(nt(t))for(let r=0;r<t.length;r++)Oe(t[r],e);else if(He(t)||$e(t))t.forEach(r=>{Oe(r,e)});else if(Go(t))for(const r in t)Oe(t[r],e);return t}function cu(t,e){const r=Ft;if(r===null)return t;const i=gn(r)||r.proxy,a=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[s,o,l,u=mt]=e[n];s&&(ct(s)&&(s={mounted:s,updated:s}),s.deep&&Oe(o),a.push({dir:s,instance:i,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function ee(t,e,r,i){const a=t.dirs,n=e&&e.dirs;for(let s=0;s<a.length;s++){const o=a[s];n&&(o.oldValue=n[s].value);let l=o.dir[i];l&&(sr(),zt(l,r,8,[t.el,o,t,e]),ar())}}function Cs(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ci(()=>{t.isMounted=!0}),cn(()=>{t.isUnmounting=!0}),t}const Yt=[Function,Array],ws={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yt,onEnter:Yt,onAfterEnter:Yt,onEnterCancelled:Yt,onBeforeLeave:Yt,onLeave:Yt,onAfterLeave:Yt,onLeaveCancelled:Yt,onBeforeAppear:Yt,onAppear:Yt,onAfterAppear:Yt,onAppearCancelled:Yt},uu={name:"BaseTransition",props:ws,setup(t,{slots:e}){const r=fe(),i=Cs();let a;return()=>{const n=e.default&&on(e.default(),!0);if(!n||!n.length)return;let s=n[0];if(n.length>1){for(const y of n)if(y.type!==Lt){s=y;break}}const o=pt(t),{mode:l}=o;if(i.isLeaving)return mn(s);const u=aa(s);if(!u)return mn(s);const _=er(u,o,i,r);Ue(u,_);const p=r.subTree,m=p&&aa(p);let v=!1;const{getTransitionKey:d}=u.type;if(d){const y=d();a===void 0?a=y:y!==a&&(a=y,v=!0)}if(m&&m.type!==Lt&&(!Jt(u,m)||v)){const y=er(m,o,i,r);if(Ue(m,y),l==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},mn(s);l==="in-out"&&u.type!==Lt&&(y.delayLeave=(S,x,c)=>{const h=gl(i,m);h[String(m.key)]=m,S._leaveCb=()=>{x(),S._leaveCb=void 0,delete _.delayedLeave},_.delayedLeave=c})}return s}}},dl=uu;function gl(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function er(t,e,r,i){const{appear:a,mode:n,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:_,onBeforeLeave:p,onLeave:m,onAfterLeave:v,onLeaveCancelled:d,onBeforeAppear:y,onAppear:S,onAfterAppear:x,onAppearCancelled:c}=e,h=String(t.key),g=gl(r,t),C=(w,E)=>{w&&zt(w,i,9,E)},A=(w,E)=>{const P=E[1];C(w,E),nt(w)?w.every(R=>R.length<=1)&&P():w.length<=1&&P()},M={mode:n,persisted:s,beforeEnter(w){let E=o;if(!r.isMounted)if(a)E=y||o;else return;w._leaveCb&&w._leaveCb(!0);const P=g[h];P&&Jt(t,P)&&P.el._leaveCb&&P.el._leaveCb(),C(E,[w])},enter(w){let E=l,P=u,R=_;if(!r.isMounted)if(a)E=S||l,P=x||u,R=c||_;else return;let k=!1;const f=w._enterCb=b=>{k||(k=!0,b?C(R,[w]):C(P,[w]),M.delayedLeave&&M.delayedLeave(),w._enterCb=void 0)};E?A(E,[w,f]):f()},leave(w,E){const P=String(t.key);if(w._enterCb&&w._enterCb(!0),r.isUnmounting)return E();C(p,[w]);let R=!1;const k=w._leaveCb=f=>{R||(R=!0,E(),f?C(d,[w]):C(v,[w]),w._leaveCb=void 0,g[P]===t&&delete g[P])};g[P]=t,m?A(m,[w,k]):k()},clone(w){return er(w,e,r,i)}};return M}function mn(t){if(Si(t))return t=ie(t),t.children=null,t}function aa(t){return Si(t)?t.children?t.children[0]:void 0:t}function Ue(t,e){t.shapeFlag&6&&t.component?Ue(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function on(t,e=!1,r){let i=[],a=0;for(let n=0;n<t.length;n++){let s=t[n];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:n);s.type===kt?(s.patchFlag&128&&a++,i=i.concat(on(s.children,e,o))):(e||s.type!==Lt)&&i.push(o!=null?ie(s,{key:o}):s)}if(a>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}function xs(t,e){return ct(t)?(()=>St({name:t.name},e,{setup:t}))():t}const De=t=>!!t.type.__asyncLoader;function fu(t){ct(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:i,delay:a=200,timeout:n,suspensible:s=!0,onError:o}=t;let l=null,u,_=0;const p=()=>(_++,l=null,m()),m=()=>{let v;return l||(v=l=e().catch(d=>{if(d=d instanceof Error?d:new Error(String(d)),o)return new Promise((y,S)=>{o(d,()=>y(p()),()=>S(d),_+1)});throw d}).then(d=>v!==l&&l?l:(d&&(d.__esModule||d[Symbol.toStringTag]==="Module")&&(d=d.default),u=d,d)))};return xs({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return u},setup(){const v=At;if(u)return()=>yn(u,v);const d=c=>{l=null,je(c,v,13,!i)};if(s&&v.suspense||rr)return m().then(c=>()=>yn(c,v)).catch(c=>(d(c),()=>i?wt(i,{error:c}):null));const y=Je(!1),S=Je(),x=Je(!!a);return a&&setTimeout(()=>{x.value=!1},a),n!=null&&setTimeout(()=>{if(!y.value&&!S.value){const c=new Error(`Async component timed out after ${n}ms.`);d(c),S.value=c}},n),m().then(()=>{y.value=!0,v.parent&&Si(v.parent.vnode)&&nn(v.parent.update)}).catch(c=>{d(c),S.value=c}),()=>{if(y.value&&u)return yn(u,v);if(S.value&&i)return wt(i,{error:S.value});if(r&&!x.value)return wt(r)}}})}function yn(t,e){const{ref:r,props:i,children:a,ce:n}=e.vnode,s=wt(t,i,a);return s.ref=r,s.ce=n,delete e.vnode.ce,s}const Si=t=>t.type.__isKeepAlive,du={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=fe(),i=r.ctx;if(!i.renderer)return()=>{const c=e.default&&e.default();return c&&c.length===1?c[0]:c};const a=new Map,n=new Set;let s=null;const o=r.suspense,{renderer:{p:l,m:u,um:_,o:{createElement:p}}}=i,m=p("div");i.activate=(c,h,g,C,A)=>{const M=c.component;u(c,h,g,0,o),l(M.vnode,c,h,g,M,o,C,c.slotScopeIds,A),Ot(()=>{M.isDeactivated=!1,M.a&&Xe(M.a);const w=c.props&&c.props.onVnodeMounted;w&&Gt(w,M.parent,c)},o)},i.deactivate=c=>{const h=c.component;u(c,m,null,1,o),Ot(()=>{h.da&&Xe(h.da);const g=c.props&&c.props.onVnodeUnmounted;g&&Gt(g,h.parent,c),h.isDeactivated=!0},o)};function v(c){bn(c),_(c,r,o,!0)}function d(c){a.forEach((h,g)=>{const C=$n(h.type);C&&(!c||!c(C))&&y(g)})}function y(c){const h=a.get(c);!s||!Jt(h,s)?v(h):s&&bn(s),a.delete(c),n.delete(c)}Le(()=>[t.include,t.exclude],([c,h])=>{c&&d(g=>Jr(c,g)),h&&d(g=>!Jr(h,g))},{flush:"post",deep:!0});let S=null;const x=()=>{S!=null&&a.set(S,Sn(r.subTree))};return Ci(x),hn(x),cn(()=>{a.forEach(c=>{const{subTree:h,suspense:g}=r,C=Sn(h);if(c.type===C.type&&c.key===C.key){bn(C);const A=C.component.da;A&&Ot(A,g);return}v(c)})}),()=>{if(S=null,!e.default)return null;const c=e.default(),h=c[0];if(c.length>1)return s=null,c;if(!Ce(h)||!(h.shapeFlag&4)&&!(h.shapeFlag&128))return s=null,h;let g=Sn(h);const C=g.type,A=$n(De(g)?g.type.__asyncResolved||{}:C),{include:M,exclude:w,max:E}=t;if(M&&(!A||!Jr(M,A))||w&&A&&Jr(w,A))return s=g,h;const P=g.key==null?C:g.key,R=a.get(P);return g.el&&(g=ie(g),h.shapeFlag&128&&(h.ssContent=g)),S=P,R?(g.el=R.el,g.component=R.component,g.transition&&Ue(g,g.transition),g.shapeFlag|=512,n.delete(P),n.add(P)):(n.add(P),E&&n.size>parseInt(E,10)&&y(n.values().next().value)),g.shapeFlag|=256,s=g,hl(h.type)?h:g}}},gu=du;function Jr(t,e){return nt(t)?t.some(r=>Jr(r,e)):xt(t)?t.split(",").includes(e):kh(t)?t.test(e):!1}function pl(t,e){_l(t,"a",e)}function vl(t,e){_l(t,"da",e)}function _l(t,e,r=At){const i=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(ln(e,i,r),r){let a=r.parent;for(;a&&a.parent;)Si(a.parent.vnode)&&pu(i,e,r,a),a=a.parent}}function pu(t,e,r,i){const a=ln(e,t,i,!0);un(()=>{is(i[e],a)},r)}function bn(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Sn(t){return t.shapeFlag&128?t.ssContent:t}function ln(t,e,r=At,i=!1){if(r){const a=r[t]||(r[t]=[]),n=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;sr(),we(r);const o=zt(e,r,t,s);return ye(),ar(),o});return i?a.unshift(n):a.push(n),n}}const ue=t=>(e,r=At)=>(!rr||t==="sp")&&ln(t,(...i)=>e(...i),r),ml=ue("bm"),Ci=ue("m"),yl=ue("bu"),hn=ue("u"),cn=ue("bum"),un=ue("um"),bl=ue("sp"),Sl=ue("rtg"),Cl=ue("rtc");function wl(t,e=At){ln("ec",t,e)}const Ps="components",vu="directives";function _u(t,e){return Ts(Ps,t,!0,e)||t}const xl=Symbol.for("v-ndc");function mu(t){return xt(t)?Ts(Ps,t,!1)||t:t||xl}function yu(t){return Ts(vu,t)}function Ts(t,e,r=!0,i=!1){const a=Ft||At;if(a){const n=a.type;if(t===Ps){const o=$n(n,!1);if(o&&(o===e||o===Bt(e)||o===vi(Bt(e))))return n}const s=oa(a[t]||n[t],e)||oa(a.appContext[t],e);return!s&&i?n:s}}function oa(t,e){return t&&(t[e]||t[Bt(e)]||t[vi(Bt(e))])}function bu(t,e,r,i){let a;const n=r&&r[i];if(nt(t)||xt(t)){a=new Array(t.length);for(let s=0,o=t.length;s<o;s++)a[s]=e(t[s],s,void 0,n&&n[s])}else if(typeof t=="number"){a=new Array(t);for(let s=0;s<t;s++)a[s]=e(s+1,s,void 0,n&&n[s])}else if(yt(t))if(t[Symbol.iterator])a=Array.from(t,(s,o)=>e(s,o,void 0,n&&n[o]));else{const s=Object.keys(t);a=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const u=s[o];a[o]=e(t[u],u,o,n&&n[o])}}else a=[];return r&&(r[i]=a),a}function Su(t,e){for(let r=0;r<e.length;r++){const i=e[r];if(nt(i))for(let a=0;a<i.length;a++)t[i[a].name]=i[a].fn;else i&&(t[i.name]=i.key?(...a)=>{const n=i.fn(...a);return n&&(n.key=i.key),n}:i.fn)}return t}function Cu(t,e,r={},i,a){if(Ft.isCE||Ft.parent&&De(Ft.parent)&&Ft.parent.isCE)return e!=="default"&&(r.name=e),wt("slot",r,i&&i());let n=t[e];n&&n._c&&(n._d=!1),fn();const s=n&&Pl(n(r)),o=Fs(kt,{key:r.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&t._===1?64:-2);return!a&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),n&&n._c&&(n._d=!0),o}function Pl(t){return t.some(e=>Ce(e)?!(e.type===Lt||e.type===kt&&!Pl(e.children)):!0)?t:null}function wu(t,e){const r={};for(const i in t)r[e&&/[A-Z]/.test(i)?`on:${i}`:ti(i)]=t[i];return r}const Bn=t=>t?Kl(t)?gn(t)||t.proxy:Bn(t.parent):null,ei=St(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Bn(t.parent),$root:t=>Bn(t.root),$emit:t=>t.emit,$options:t=>Es(t),$forceUpdate:t=>t.f||(t.f=()=>nn(t.update)),$nextTick:t=>t.n||(t.n=_s.bind(t.proxy)),$watch:t=>hu.bind(t)}),Cn=(t,e)=>t!==mt&&!t.__isScriptSetup&&_t(t,e),Vn={get({_:t},e){const{ctx:r,setupState:i,data:a,props:n,accessCache:s,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const v=s[e];if(v!==void 0)switch(v){case 1:return i[e];case 2:return a[e];case 4:return r[e];case 3:return n[e]}else{if(Cn(i,e))return s[e]=1,i[e];if(a!==mt&&_t(a,e))return s[e]=2,a[e];if((u=t.propsOptions[0])&&_t(u,e))return s[e]=3,n[e];if(r!==mt&&_t(r,e))return s[e]=4,r[e];Hn&&(s[e]=0)}}const _=ei[e];let p,m;if(_)return e==="$attrs"&&Vt(t,"get",e),_(t);if((p=o.__cssModules)&&(p=p[e]))return p;if(r!==mt&&_t(r,e))return s[e]=4,r[e];if(m=l.config.globalProperties,_t(m,e))return m[e]},set({_:t},e,r){const{data:i,setupState:a,ctx:n}=t;return Cn(a,e)?(a[e]=r,!0):i!==mt&&_t(i,e)?(i[e]=r,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:a,propsOptions:n}},s){let o;return!!r[s]||t!==mt&&_t(t,s)||Cn(e,s)||(o=n[0])&&_t(o,s)||_t(i,s)||_t(ei,s)||_t(a.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:_t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},xu=St({},Vn,{get(t,e){if(e!==Symbol.unscopables)return Vn.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Gh(e)}});function Pu(){return null}function Tu(){return null}function Eu(t){}function Au(t){}function Ru(){return null}function Fu(){}function Mu(t,e){return null}function Ou(){return Tl().slots}function ku(){return Tl().attrs}function Nu(t,e,r){const i=fe();if(r&&r.local){const a=Je(t[e]);return Le(()=>t[e],n=>a.value=n),Le(a,n=>{n!==t[e]&&i.emit(`update:${e}`,n)}),a}else return{__v_isRef:!0,get value(){return t[e]},set value(a){i.emit(`update:${e}`,a)}}}function Tl(){const t=fe();return t.setupContext||(t.setupContext=Yl(t))}function di(t){return nt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function Lu(t,e){const r=di(t);for(const i in e){if(i.startsWith("__skip"))continue;let a=r[i];a?nt(a)||ct(a)?a=r[i]={type:a,default:e[i]}:a.default=e[i]:a===null&&(a=r[i]={default:e[i]}),a&&e[`__skip_${i}`]&&(a.skipFactory=!0)}return r}function Du(t,e){return!t||!e?t||e:nt(t)&&nt(e)?t.concat(e):St({},di(t),di(e))}function Iu(t,e){const r={};for(const i in t)e.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>t[i]});return r}function Gu(t){const e=fe();let r=t();return ye(),ns(r)&&(r=r.catch(i=>{throw we(e),i})),[r,()=>we(e)]}let Hn=!0;function Uu(t){const e=Es(t),r=t.proxy,i=t.ctx;Hn=!1,e.beforeCreate&&la(e.beforeCreate,t,"bc");const{data:a,computed:n,methods:s,watch:o,provide:l,inject:u,created:_,beforeMount:p,mounted:m,beforeUpdate:v,updated:d,activated:y,deactivated:S,beforeDestroy:x,beforeUnmount:c,destroyed:h,unmounted:g,render:C,renderTracked:A,renderTriggered:M,errorCaptured:w,serverPrefetch:E,expose:P,inheritAttrs:R,components:k,directives:f,filters:b}=e;if(u&&Bu(u,i,null),s)for(const N in s){const I=s[N];ct(I)&&(i[N]=I.bind(r))}if(a){const N=a.call(r,r);yt(N)&&(t.data=tn(N))}if(Hn=!0,n)for(const N in n){const I=n[N],U=ct(I)?I.bind(r,r):ct(I.get)?I.get.bind(r,r):Qt,G=!ct(I)&&ct(I.set)?I.set.bind(r):Qt,Y=$l({get:U,set:G});Object.defineProperty(i,N,{enumerable:!0,configurable:!0,get:()=>Y.value,set:V=>Y.value=V})}if(o)for(const N in o)El(o[N],i,r,N);if(l){const N=ct(l)?l.call(r):l;Reflect.ownKeys(N).forEach(I=>{Rl(I,N[I])})}_&&la(_,t,"c");function F(N,I){nt(I)?I.forEach(U=>N(U.bind(r))):I&&N(I.bind(r))}if(F(ml,p),F(Ci,m),F(yl,v),F(hn,d),F(pl,y),F(vl,S),F(wl,w),F(Cl,A),F(Sl,M),F(cn,c),F(un,g),F(bl,E),nt(P))if(P.length){const N=t.exposed||(t.exposed={});P.forEach(I=>{Object.defineProperty(N,I,{get:()=>r[I],set:U=>r[I]=U})})}else t.exposed||(t.exposed={});C&&t.render===Qt&&(t.render=C),R!=null&&(t.inheritAttrs=R),k&&(t.components=k),f&&(t.directives=f)}function Bu(t,e,r=Qt){nt(t)&&(t=jn(t));for(const i in t){const a=t[i];let n;yt(a)?"default"in a?n=ri(a.from||i,a.default,!0):n=ri(a.from||i):n=ri(a),Rt(n)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n.value,set:s=>n.value=s}):e[i]=n}}function la(t,e,r){zt(nt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function El(t,e,r,i){const a=i.includes(".")?fl(r,i):()=>r[i];if(xt(t)){const n=e[t];ct(n)&&Le(a,n)}else if(ct(t))Le(a,t.bind(r));else if(yt(t))if(nt(t))t.forEach(n=>El(n,e,r,i));else{const n=ct(t.handler)?t.handler.bind(r):e[t.handler];ct(n)&&Le(a,n,t)}}function Es(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:a,optionsCache:n,config:{optionMergeStrategies:s}}=t.appContext,o=n.get(e);let l;return o?l=o:!a.length&&!r&&!i?l=e:(l={},a.length&&a.forEach(u=>qi(l,u,s,!0)),qi(l,e,s)),yt(e)&&n.set(e,l),l}function qi(t,e,r,i=!1){const{mixins:a,extends:n}=e;n&&qi(t,n,r,!0),a&&a.forEach(s=>qi(t,s,r,!0));for(const s in e)if(!(i&&s==="expose")){const o=Vu[s]||r&&r[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const Vu={data:ha,props:ca,emits:ca,methods:Qr,computed:Qr,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:Qr,directives:Qr,watch:ju,provide:ha,inject:Hu};function ha(t,e){return e?t?function(){return St(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function Hu(t,e){return Qr(jn(t),jn(e))}function jn(t){if(nt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Dt(t,e){return t?[...new Set([].concat(t,e))]:e}function Qr(t,e){return t?St(Object.create(null),t,e):e}function ca(t,e){return t?nt(t)&&nt(e)?[...new Set([...t,...e])]:St(Object.create(null),di(t),di(e!=null?e:{})):e}function ju(t,e){if(!t)return e;if(!e)return t;const r=St(Object.create(null),t);for(const i in e)r[i]=Dt(t[i],e[i]);return r}function Al(){return{app:null,config:{isNativeTag:Fh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qu=0;function Ku(t,e){return function(i,a=null){ct(i)||(i=St({},i)),a!=null&&!yt(a)&&(a=null);const n=Al(),s=new Set;let o=!1;const l=n.app={_uid:qu++,_component:i,_props:a,_container:null,_context:n,_instance:null,version:th,get config(){return n.config},set config(u){},use(u,..._){return s.has(u)||(u&&ct(u.install)?(s.add(u),u.install(l,..._)):ct(u)&&(s.add(u),u(l,..._))),l},mixin(u){return n.mixins.includes(u)||n.mixins.push(u),l},component(u,_){return _?(n.components[u]=_,l):n.components[u]},directive(u,_){return _?(n.directives[u]=_,l):n.directives[u]},mount(u,_,p){if(!o){const m=wt(i,a);return m.appContext=n,_&&e?e(m,u):t(m,u,p),o=!0,l._container=u,u.__vue_app__=l,gn(m.component)||m.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,_){return n.provides[u]=_,l},runWithContext(u){gi=l;try{return u()}finally{gi=null}}};return l}}let gi=null;function Rl(t,e){if(At){let r=At.provides;const i=At.parent&&At.parent.provides;i===r&&(r=At.provides=Object.create(i)),r[t]=e}}function ri(t,e,r=!1){const i=At||Ft;if(i||gi){const a=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:gi._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return r&&ct(e)?e.call(i&&i.proxy):e}}function Wu(){return!!(At||Ft||gi)}function zu(t,e,r,i=!1){const a={},n={};Ui(n,dn,1),t.propsDefaults=Object.create(null),Fl(t,e,a,n);for(const s in t.propsOptions[0])s in a||(a[s]=void 0);r?t.props=i?a:el(a):t.type.props?t.props=a:t.props=n,t.attrs=n}function Yu(t,e,r,i){const{props:a,attrs:n,vnode:{patchFlag:s}}=t,o=pt(a),[l]=t.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const _=t.vnode.dynamicProps;for(let p=0;p<_.length;p++){let m=_[p];if(sn(t.emitsOptions,m))continue;const v=e[m];if(l)if(_t(n,m))v!==n[m]&&(n[m]=v,u=!0);else{const d=Bt(m);a[d]=qn(l,o,d,v,t,!1)}else v!==n[m]&&(n[m]=v,u=!0)}}}else{Fl(t,e,a,n)&&(u=!0);let _;for(const p in o)(!e||!_t(e,p)&&((_=$t(p))===p||!_t(e,_)))&&(l?r&&(r[p]!==void 0||r[_]!==void 0)&&(a[p]=qn(l,o,p,void 0,t,!0)):delete a[p]);if(n!==o)for(const p in n)(!e||!_t(e,p))&&(delete n[p],u=!0)}u&&ce(t,"set","$attrs")}function Fl(t,e,r,i){const[a,n]=t.propsOptions;let s=!1,o;if(e)for(let l in e){if(Zr(l))continue;const u=e[l];let _;a&&_t(a,_=Bt(l))?!n||!n.includes(_)?r[_]=u:(o||(o={}))[_]=u:sn(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,s=!0)}if(n){const l=pt(r),u=o||mt;for(let _=0;_<n.length;_++){const p=n[_];r[p]=qn(a,l,p,u[p],t,!_t(u,p))}}return s}function qn(t,e,r,i,a,n){const s=t[r];if(s!=null){const o=_t(s,"default");if(o&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&ct(l)){const{propsDefaults:u}=a;r in u?i=u[r]:(we(a),i=u[r]=l.call(null,e),ye())}else i=l}s[0]&&(n&&!o?i=!1:s[1]&&(i===""||i===$t(r))&&(i=!0))}return i}function Ml(t,e,r=!1){const i=e.propsCache,a=i.get(t);if(a)return a;const n=t.props,s={},o=[];let l=!1;if(!ct(t)){const _=p=>{l=!0;const[m,v]=Ml(p,e,!0);St(s,m),v&&o.push(...v)};!r&&e.mixins.length&&e.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}if(!n&&!l)return yt(t)&&i.set(t,Ye),Ye;if(nt(n))for(let _=0;_<n.length;_++){const p=Bt(n[_]);ua(p)&&(s[p]=mt)}else if(n)for(const _ in n){const p=Bt(_);if(ua(p)){const m=n[_],v=s[p]=nt(m)||ct(m)?{type:m}:St({},m);if(v){const d=ga(Boolean,v.type),y=ga(String,v.type);v[0]=d>-1,v[1]=y<0||d<y,(d>-1||_t(v,"default"))&&o.push(p)}}}const u=[s,o];return yt(t)&&i.set(t,u),u}function ua(t){return t[0]!=="$"}function fa(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function da(t,e){return fa(t)===fa(e)}function ga(t,e){return nt(e)?e.findIndex(r=>da(r,t)):ct(e)&&da(e,t)?0:-1}const Ol=t=>t[0]==="_"||t==="$stable",As=t=>nt(t)?t.map(Wt):[Wt(t)],$u=(t,e,r)=>{if(e._n)return e;const i=ys((...a)=>As(e(...a)),r);return i._c=!1,i},kl=(t,e,r)=>{const i=t._ctx;for(const a in t){if(Ol(a))continue;const n=t[a];if(ct(n))e[a]=$u(a,n,i);else if(n!=null){const s=As(n);e[a]=()=>s}}},Nl=(t,e)=>{const r=As(e);t.slots.default=()=>r},Xu=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=pt(e),Ui(e,"_",r)):kl(e,t.slots={})}else t.slots={},e&&Nl(t,e);Ui(t.slots,dn,1)},Ju=(t,e,r)=>{const{vnode:i,slots:a}=t;let n=!0,s=mt;if(i.shapeFlag&32){const o=e._;o?r&&o===1?n=!1:(St(a,e),!r&&o===1&&delete a._):(n=!e.$stable,kl(e,a)),s=e}else e&&(Nl(t,e),s={default:1});if(n)for(const o in a)!Ol(o)&&!(o in s)&&delete a[o]};function Ki(t,e,r,i,a=!1){if(nt(t)){t.forEach((m,v)=>Ki(m,e&&(nt(e)?e[v]:e),r,i,a));return}if(De(i)&&!a)return;const n=i.shapeFlag&4?gn(i.component)||i.component.proxy:i.el,s=a?null:n,{i:o,r:l}=t,u=e&&e.r,_=o.refs===mt?o.refs={}:o.refs,p=o.setupState;if(u!=null&&u!==l&&(xt(u)?(_[u]=null,_t(p,u)&&(p[u]=null)):Rt(u)&&(u.value=null)),ct(l))he(l,o,12,[s,_]);else{const m=xt(l),v=Rt(l);if(m||v){const d=()=>{if(t.f){const y=m?_t(p,l)?p[l]:_[l]:l.value;a?nt(y)&&is(y,n):nt(y)?y.includes(n)||y.push(n):m?(_[l]=[n],_t(p,l)&&(p[l]=_[l])):(l.value=[n],t.k&&(_[t.k]=l.value))}else m?(_[l]=s,_t(p,l)&&(p[l]=s)):v&&(l.value=s,t.k&&(_[t.k]=s))};s?(d.id=-1,Ot(d,r)):d()}}}let ge=!1;const Oi=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",ki=t=>t.nodeType===8;function Qu(t){const{mt:e,p:r,o:{patchProp:i,createText:a,nextSibling:n,parentNode:s,remove:o,insert:l,createComment:u}}=t,_=(x,c)=>{if(!c.hasChildNodes()){r(null,x,c),ji(),c._vnode=x;return}ge=!1,p(c.firstChild,x,null,null,null),ji(),c._vnode=x,ge&&console.error("Hydration completed but contains mismatches.")},p=(x,c,h,g,C,A=!1)=>{const M=ki(x)&&x.data==="[",w=()=>y(x,c,h,g,C,M),{type:E,ref:P,shapeFlag:R,patchFlag:k}=c;let f=x.nodeType;c.el=x,k===-2&&(A=!1,c.dynamicChildren=null);let b=null;switch(E){case Be:f!==3?c.children===""?(l(c.el=a(""),s(x),x),b=x):b=w():(x.data!==c.children&&(ge=!0,x.data=c.children),b=n(x));break;case Lt:f!==8||M?b=w():b=n(x);break;case Ie:if(M&&(x=n(x),f=x.nodeType),f===1||f===3){b=x;const T=!c.children.length;for(let F=0;F<c.staticCount;F++)T&&(c.children+=b.nodeType===1?b.outerHTML:b.data),F===c.staticCount-1&&(c.anchor=b),b=n(b);return M?n(b):b}else w();break;case kt:M?b=d(x,c,h,g,C,A):b=w();break;default:if(R&1)f!==1||c.type.toLowerCase()!==x.tagName.toLowerCase()?b=w():b=m(x,c,h,g,C,A);else if(R&6){c.slotScopeIds=C;const T=s(x);if(e(c,T,null,h,g,Oi(T),A),b=M?S(x):n(x),b&&ki(b)&&b.data==="teleport end"&&(b=n(b)),De(c)){let F;M?(F=wt(kt),F.anchor=b?b.previousSibling:T.lastChild):F=x.nodeType===3?Os(""):wt("div"),F.el=x,c.component.subTree=F}}else R&64?f!==8?b=w():b=c.type.hydrate(x,c,h,g,C,A,t,v):R&128&&(b=c.type.hydrate(x,c,h,g,Oi(s(x)),C,A,t,p))}return P!=null&&Ki(P,null,g,c),b},m=(x,c,h,g,C,A)=>{A=A||!!c.dynamicChildren;const{type:M,props:w,patchFlag:E,shapeFlag:P,dirs:R}=c,k=M==="input"&&R||M==="option";if(k||E!==-1){if(R&&ee(c,null,h,"created"),w)if(k||!A||E&48)for(const b in w)(k&&b.endsWith("value")||pi(b)&&!Zr(b))&&i(x,b,null,w[b],!1,void 0,h);else w.onClick&&i(x,"onClick",null,w.onClick,!1,void 0,h);let f;if((f=w&&w.onVnodeBeforeMount)&&Gt(f,h,c),R&&ee(c,null,h,"beforeMount"),((f=w&&w.onVnodeMounted)||R)&&cl(()=>{f&&Gt(f,h,c),R&&ee(c,null,h,"mounted")},g),P&16&&!(w&&(w.innerHTML||w.textContent))){let b=v(x.firstChild,c,x,h,g,C,A);for(;b;){ge=!0;const T=b;b=b.nextSibling,o(T)}}else P&8&&x.textContent!==c.children&&(ge=!0,x.textContent=c.children)}return x.nextSibling},v=(x,c,h,g,C,A,M)=>{M=M||!!c.dynamicChildren;const w=c.children,E=w.length;for(let P=0;P<E;P++){const R=M?w[P]:w[P]=Wt(w[P]);if(x)x=p(x,R,g,C,A,M);else{if(R.type===Be&&!R.children)continue;ge=!0,r(null,R,h,null,g,C,Oi(h),A)}}return x},d=(x,c,h,g,C,A)=>{const{slotScopeIds:M}=c;M&&(C=C?C.concat(M):M);const w=s(x),E=v(n(x),c,w,h,g,C,A);return E&&ki(E)&&E.data==="]"?n(c.anchor=E):(ge=!0,l(c.anchor=u("]"),w,E),E)},y=(x,c,h,g,C,A)=>{if(ge=!0,c.el=null,A){const E=S(x);for(;;){const P=n(x);if(P&&P!==E)o(P);else break}}const M=n(x),w=s(x);return o(x),r(null,c,w,M,h,g,Oi(w),C),M},S=x=>{let c=0;for(;x;)if(x=n(x),x&&ki(x)&&(x.data==="["&&c++,x.data==="]")){if(c===0)return n(x);c--}return x};return[_,p]}const Ot=cl;function Ll(t){return Il(t)}function Dl(t){return Il(t,Qu)}function Il(t,e){const r=Ln();r.__VUE__=!0;const{insert:i,remove:a,patchProp:n,createElement:s,createText:o,createComment:l,setText:u,setElementText:_,parentNode:p,nextSibling:m,setScopeId:v=Qt,insertStaticContent:d}=t,y=(O,D,H,j=null,W=null,X=null,Z=!1,$=null,J=!!D.dynamicChildren)=>{if(O===D)return;O&&!Jt(O,D)&&(j=L(O),V(O,W,X,!0),O=null),D.patchFlag===-2&&(J=!1,D.dynamicChildren=null);const{type:q,ref:it,shapeFlag:et}=D;switch(q){case Be:S(O,D,H,j);break;case Lt:x(O,D,H,j);break;case Ie:O==null&&c(D,H,j,Z);break;case kt:k(O,D,H,j,W,X,Z,$,J);break;default:et&1?C(O,D,H,j,W,X,Z,$,J):et&6?f(O,D,H,j,W,X,Z,$,J):(et&64||et&128)&&q.process(O,D,H,j,W,X,Z,$,J,z)}it!=null&&W&&Ki(it,O&&O.ref,X,D||O,!D)},S=(O,D,H,j)=>{if(O==null)i(D.el=o(D.children),H,j);else{const W=D.el=O.el;D.children!==O.children&&u(W,D.children)}},x=(O,D,H,j)=>{O==null?i(D.el=l(D.children||""),H,j):D.el=O.el},c=(O,D,H,j)=>{[O.el,O.anchor]=d(O.children,D,H,j,O.el,O.anchor)},h=({el:O,anchor:D},H,j)=>{let W;for(;O&&O!==D;)W=m(O),i(O,H,j),O=W;i(D,H,j)},g=({el:O,anchor:D})=>{let H;for(;O&&O!==D;)H=m(O),a(O),O=H;a(D)},C=(O,D,H,j,W,X,Z,$,J)=>{Z=Z||D.type==="svg",O==null?A(D,H,j,W,X,Z,$,J):E(O,D,W,X,Z,$,J)},A=(O,D,H,j,W,X,Z,$)=>{let J,q;const{type:it,props:et,shapeFlag:st,transition:at,dirs:ht}=O;if(J=O.el=s(O.type,X,et&&et.is,et),st&8?_(J,O.children):st&16&&w(O.children,J,null,j,W,X&&it!=="foreignObject",Z,$),ht&&ee(O,null,j,"created"),M(J,O,O.scopeId,Z,j),et){for(const gt in et)gt!=="value"&&!Zr(gt)&&n(J,gt,null,et[gt],X,O.children,j,W,rt);"value"in et&&n(J,"value",null,et.value),(q=et.onVnodeBeforeMount)&&Gt(q,j,O)}ht&&ee(O,null,j,"beforeMount");const vt=(!W||W&&!W.pendingBranch)&&at&&!at.persisted;vt&&at.beforeEnter(J),i(J,D,H),((q=et&&et.onVnodeMounted)||vt||ht)&&Ot(()=>{q&&Gt(q,j,O),vt&&at.enter(J),ht&&ee(O,null,j,"mounted")},W)},M=(O,D,H,j,W)=>{if(H&&v(O,H),j)for(let X=0;X<j.length;X++)v(O,j[X]);if(W){let X=W.subTree;if(D===X){const Z=W.vnode;M(O,Z,Z.scopeId,Z.slotScopeIds,W.parent)}}},w=(O,D,H,j,W,X,Z,$,J=0)=>{for(let q=J;q<O.length;q++){const it=O[q]=$?_e(O[q]):Wt(O[q]);y(null,it,D,H,j,W,X,Z,$)}},E=(O,D,H,j,W,X,Z)=>{const $=D.el=O.el;let{patchFlag:J,dynamicChildren:q,dirs:it}=D;J|=O.patchFlag&16;const et=O.props||mt,st=D.props||mt;let at;H&&Te(H,!1),(at=st.onVnodeBeforeUpdate)&&Gt(at,H,D,O),it&&ee(D,O,H,"beforeUpdate"),H&&Te(H,!0);const ht=W&&D.type!=="foreignObject";if(q?P(O.dynamicChildren,q,$,H,j,ht,X):Z||I(O,D,$,null,H,j,ht,X,!1),J>0){if(J&16)R($,D,et,st,H,j,W);else if(J&2&&et.class!==st.class&&n($,"class",null,st.class,W),J&4&&n($,"style",et.style,st.style,W),J&8){const vt=D.dynamicProps;for(let gt=0;gt<vt.length;gt++){const bt=vt[gt],Et=et[bt],Ht=st[bt];(Ht!==Et||bt==="value")&&n($,bt,Et,Ht,W,O.children,H,j,rt)}}J&1&&O.children!==D.children&&_($,D.children)}else!Z&&q==null&&R($,D,et,st,H,j,W);((at=st.onVnodeUpdated)||it)&&Ot(()=>{at&&Gt(at,H,D,O),it&&ee(D,O,H,"updated")},j)},P=(O,D,H,j,W,X,Z)=>{for(let $=0;$<D.length;$++){const J=O[$],q=D[$],it=J.el&&(J.type===kt||!Jt(J,q)||J.shapeFlag&70)?p(J.el):H;y(J,q,it,null,j,W,X,Z,!0)}},R=(O,D,H,j,W,X,Z)=>{if(H!==j){if(H!==mt)for(const $ in H)!Zr($)&&!($ in j)&&n(O,$,H[$],null,Z,D.children,W,X,rt);for(const $ in j){if(Zr($))continue;const J=j[$],q=H[$];J!==q&&$!=="value"&&n(O,$,q,J,Z,D.children,W,X,rt)}"value"in j&&n(O,"value",H.value,j.value)}},k=(O,D,H,j,W,X,Z,$,J)=>{const q=D.el=O?O.el:o(""),it=D.anchor=O?O.anchor:o("");let{patchFlag:et,dynamicChildren:st,slotScopeIds:at}=D;at&&($=$?$.concat(at):at),O==null?(i(q,H,j),i(it,H,j),w(D.children,H,it,W,X,Z,$,J)):et>0&&et&64&&st&&O.dynamicChildren?(P(O.dynamicChildren,st,H,W,X,Z,$),(D.key!=null||W&&D===W.subTree)&&Rs(O,D,!0)):I(O,D,H,it,W,X,Z,$,J)},f=(O,D,H,j,W,X,Z,$,J)=>{D.slotScopeIds=$,O==null?D.shapeFlag&512?W.ctx.activate(D,H,j,Z,J):b(D,H,j,W,X,Z,J):T(O,D,J)},b=(O,D,H,j,W,X,Z)=>{const $=O.component=ql(O,j,W);if(Si(O)&&($.ctx.renderer=z),Wl($),$.asyncDep){if(W&&W.registerDep($,F),!O.el){const J=$.subTree=wt(Lt);x(null,J,D,H)}return}F($,O,D,H,W,X,Z)},T=(O,D,H)=>{const j=D.component=O.component;if(Zc(O,D,H))if(j.asyncDep&&!j.asyncResolved){N(j,D,H);return}else j.next=D,qc(j.update),j.update();else D.el=O.el,j.vnode=D},F=(O,D,H,j,W,X,Z)=>{const $=()=>{if(O.isMounted){let{next:it,bu:et,u:st,parent:at,vnode:ht}=O,vt=it,gt;Te(O,!1),it?(it.el=ht.el,N(O,it,Z)):it=ht,et&&Xe(et),(gt=it.props&&it.props.onVnodeBeforeUpdate)&&Gt(gt,at,it,ht),Te(O,!0);const bt=Di(O),Et=O.subTree;O.subTree=bt,y(Et,bt,p(Et.el),L(Et),O,W,X),it.el=bt.el,vt===null&&bs(O,bt.el),st&&Ot(st,W),(gt=it.props&&it.props.onVnodeUpdated)&&Ot(()=>Gt(gt,at,it,ht),W)}else{let it;const{el:et,props:st}=D,{bm:at,m:ht,parent:vt}=O,gt=De(D);if(Te(O,!1),at&&Xe(at),!gt&&(it=st&&st.onVnodeBeforeMount)&&Gt(it,vt,D),Te(O,!0),et&&ot){const bt=()=>{O.subTree=Di(O),ot(et,O.subTree,O,W,null)};gt?D.type.__asyncLoader().then(()=>!O.isUnmounted&&bt()):bt()}else{const bt=O.subTree=Di(O);y(null,bt,H,j,O,W,X),D.el=bt.el}if(ht&&Ot(ht,W),!gt&&(it=st&&st.onVnodeMounted)){const bt=D;Ot(()=>Gt(it,vt,bt),W)}(D.shapeFlag&256||vt&&De(vt.vnode)&&vt.vnode.shapeFlag&256)&&O.a&&Ot(O.a,W),O.isMounted=!0,D=H=j=null}},J=O.effect=new yi($,()=>nn(q),O.scope),q=O.update=()=>J.run();q.id=O.uid,Te(O,!0),q()},N=(O,D,H)=>{D.component=O;const j=O.vnode.props;O.vnode=D,O.next=null,Yu(O,D.props,j,H),Ju(O,D.children,H),sr(),ia(),ar()},I=(O,D,H,j,W,X,Z,$,J=!1)=>{const q=O&&O.children,it=O?O.shapeFlag:0,et=D.children,{patchFlag:st,shapeFlag:at}=D;if(st>0){if(st&128){G(q,et,H,j,W,X,Z,$,J);return}else if(st&256){U(q,et,H,j,W,X,Z,$,J);return}}at&8?(it&16&&rt(q,W,X),et!==q&&_(H,et)):it&16?at&16?G(q,et,H,j,W,X,Z,$,J):rt(q,W,X,!0):(it&8&&_(H,""),at&16&&w(et,H,j,W,X,Z,$,J))},U=(O,D,H,j,W,X,Z,$,J)=>{O=O||Ye,D=D||Ye;const q=O.length,it=D.length,et=Math.min(q,it);let st;for(st=0;st<et;st++){const at=D[st]=J?_e(D[st]):Wt(D[st]);y(O[st],at,H,null,W,X,Z,$,J)}q>it?rt(O,W,X,!0,!1,et):w(D,H,j,W,X,Z,$,J,et)},G=(O,D,H,j,W,X,Z,$,J)=>{let q=0;const it=D.length;let et=O.length-1,st=it-1;for(;q<=et&&q<=st;){const at=O[q],ht=D[q]=J?_e(D[q]):Wt(D[q]);if(Jt(at,ht))y(at,ht,H,null,W,X,Z,$,J);else break;q++}for(;q<=et&&q<=st;){const at=O[et],ht=D[st]=J?_e(D[st]):Wt(D[st]);if(Jt(at,ht))y(at,ht,H,null,W,X,Z,$,J);else break;et--,st--}if(q>et){if(q<=st){const at=st+1,ht=at<it?D[at].el:j;for(;q<=st;)y(null,D[q]=J?_e(D[q]):Wt(D[q]),H,ht,W,X,Z,$,J),q++}}else if(q>st)for(;q<=et;)V(O[q],W,X,!0),q++;else{const at=q,ht=q,vt=new Map;for(q=ht;q<=st;q++){const jt=D[q]=J?_e(D[q]):Wt(D[q]);jt.key!=null&&vt.set(jt.key,q)}let gt,bt=0;const Et=st-ht+1;let Ht=!1,wi=0;const Pe=new Array(Et);for(q=0;q<Et;q++)Pe[q]=0;for(q=at;q<=et;q++){const jt=O[q];if(bt>=Et){V(jt,W,X,!0);continue}let Zt;if(jt.key!=null)Zt=vt.get(jt.key);else for(gt=ht;gt<=st;gt++)if(Pe[gt-ht]===0&&Jt(jt,D[gt])){Zt=gt;break}Zt===void 0?V(jt,W,X,!0):(Pe[Zt-ht]=q+1,Zt>=wi?wi=Zt:Ht=!0,y(jt,D[Zt],H,null,W,X,Z,$,J),bt++)}const qe=Ht?Zu(Pe):Ye;for(gt=qe.length-1,q=Et-1;q>=0;q--){const jt=ht+q,Zt=D[jt],Hs=jt+1<it?D[jt+1].el:j;Pe[q]===0?y(null,Zt,H,Hs,W,X,Z,$,J):Ht&&(gt<0||q!==qe[gt]?Y(Zt,H,Hs,2):gt--)}}},Y=(O,D,H,j,W=null)=>{const{el:X,type:Z,transition:$,children:J,shapeFlag:q}=O;if(q&6){Y(O.component.subTree,D,H,j);return}if(q&128){O.suspense.move(D,H,j);return}if(q&64){Z.move(O,D,H,z);return}if(Z===kt){i(X,D,H);for(let et=0;et<J.length;et++)Y(J[et],D,H,j);i(O.anchor,D,H);return}if(Z===Ie){h(O,D,H);return}if(j!==2&&q&1&&$)if(j===0)$.beforeEnter(X),i(X,D,H),Ot(()=>$.enter(X),W);else{const{leave:et,delayLeave:st,afterLeave:at}=$,ht=()=>i(X,D,H),vt=()=>{et(X,()=>{ht(),at&&at()})};st?st(X,ht,vt):vt()}else i(X,D,H)},V=(O,D,H,j=!1,W=!1)=>{const{type:X,props:Z,ref:$,children:J,dynamicChildren:q,shapeFlag:it,patchFlag:et,dirs:st}=O;if($!=null&&Ki($,null,H,O,!0),it&256){D.ctx.deactivate(O);return}const at=it&1&&st,ht=!De(O);let vt;if(ht&&(vt=Z&&Z.onVnodeBeforeUnmount)&&Gt(vt,D,O),it&6)tt(O.component,H,j);else{if(it&128){O.suspense.unmount(H,j);return}at&&ee(O,null,D,"beforeUnmount"),it&64?O.type.remove(O,D,H,W,z,j):q&&(X!==kt||et>0&&et&64)?rt(q,D,H,!1,!0):(X===kt&&et&384||!W&&it&16)&&rt(J,D,H),j&&K(O)}(ht&&(vt=Z&&Z.onVnodeUnmounted)||at)&&Ot(()=>{vt&&Gt(vt,D,O),at&&ee(O,null,D,"unmounted")},H)},K=O=>{const{type:D,el:H,anchor:j,transition:W}=O;if(D===kt){Q(H,j);return}if(D===Ie){g(O);return}const X=()=>{a(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(O.shapeFlag&1&&W&&!W.persisted){const{leave:Z,delayLeave:$}=W,J=()=>Z(H,X);$?$(O.el,X,J):J()}else X()},Q=(O,D)=>{let H;for(;O!==D;)H=m(O),a(O),O=H;a(D)},tt=(O,D,H)=>{const{bum:j,scope:W,update:X,subTree:Z,um:$}=O;j&&Xe(j),W.stop(),X&&(X.active=!1,V(Z,O,D,H)),$&&Ot($,D),Ot(()=>{O.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},rt=(O,D,H,j=!1,W=!1,X=0)=>{for(let Z=X;Z<O.length;Z++)V(O[Z],D,H,j,W)},L=O=>O.shapeFlag&6?L(O.component.subTree):O.shapeFlag&128?O.suspense.next():m(O.anchor||O.el),B=(O,D,H)=>{O==null?D._vnode&&V(D._vnode,null,null,!0):y(D._vnode||null,O,D,null,null,null,H),ia(),ji(),D._vnode=O},z={p:y,um:V,m:Y,r:K,mt:b,mc:w,pc:I,pbc:P,n:L,o:t};let lt,ot;return e&&([lt,ot]=e(z)),{render:B,hydrate:lt,createApp:Ku(B,lt)}}function Te({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Rs(t,e,r=!1){const i=t.children,a=e.children;if(nt(i)&&nt(a))for(let n=0;n<i.length;n++){const s=i[n];let o=a[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[n]=_e(a[n]),o.el=s.el),r||Rs(s,o)),o.type===Be&&(o.el=s.el)}}function Zu(t){const e=t.slice(),r=[0];let i,a,n,s,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(a=r[r.length-1],t[a]<u){e[i]=a,r.push(i);continue}for(n=0,s=r.length-1;n<s;)o=n+s>>1,t[r[o]]<u?n=o+1:s=o;u<t[r[n]]&&(n>0&&(e[i]=r[n-1]),r[n]=i)}}for(n=r.length,s=r[n-1];n-- >0;)r[n]=s,s=e[s];return r}const tf=t=>t.__isTeleport,ii=t=>t&&(t.disabled||t.disabled===""),pa=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,Kn=(t,e)=>{const r=t&&t.to;return xt(r)?e?e(r):null:r},ef={__isTeleport:!0,process(t,e,r,i,a,n,s,o,l,u){const{mc:_,pc:p,pbc:m,o:{insert:v,querySelector:d,createText:y,createComment:S}}=u,x=ii(e.props);let{shapeFlag:c,children:h,dynamicChildren:g}=e;if(t==null){const C=e.el=y(""),A=e.anchor=y("");v(C,r,i),v(A,r,i);const M=e.target=Kn(e.props,d),w=e.targetAnchor=y("");M&&(v(w,M),s=s||pa(M));const E=(P,R)=>{c&16&&_(h,P,R,a,n,s,o,l)};x?E(r,A):M&&E(M,w)}else{e.el=t.el;const C=e.anchor=t.anchor,A=e.target=t.target,M=e.targetAnchor=t.targetAnchor,w=ii(t.props),E=w?r:A,P=w?C:M;if(s=s||pa(A),g?(m(t.dynamicChildren,g,E,a,n,s,o),Rs(t,e,!0)):l||p(t,e,E,P,a,n,s,o,!1),x)w||Ni(e,r,C,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=Kn(e.props,d);R&&Ni(e,R,null,u,0)}else w&&Ni(e,A,M,u,1)}Gl(e)},remove(t,e,r,i,{um:a,o:{remove:n}},s){const{shapeFlag:o,children:l,anchor:u,targetAnchor:_,target:p,props:m}=t;if(p&&n(_),(s||!ii(m))&&(n(u),o&16))for(let v=0;v<l.length;v++){const d=l[v];a(d,e,r,!0,!!d.dynamicChildren)}},move:Ni,hydrate:rf};function Ni(t,e,r,{o:{insert:i},m:a},n=2){n===0&&i(t.targetAnchor,e,r);const{el:s,anchor:o,shapeFlag:l,children:u,props:_}=t,p=n===2;if(p&&i(s,e,r),(!p||ii(_))&&l&16)for(let m=0;m<u.length;m++)a(u[m],e,r,2);p&&i(o,e,r)}function rf(t,e,r,i,a,n,{o:{nextSibling:s,parentNode:o,querySelector:l}},u){const _=e.target=Kn(e.props,l);if(_){const p=_._lpa||_.firstChild;if(e.shapeFlag&16)if(ii(e.props))e.anchor=u(s(t),e,o(t),r,i,a,n),e.targetAnchor=p;else{e.anchor=s(t);let m=p;for(;m;)if(m=s(m),m&&m.nodeType===8&&m.data==="teleport anchor"){e.targetAnchor=m,_._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(p,e,_,r,i,a,n)}Gl(e)}return e.anchor&&s(e.anchor)}const nf=ef;function Gl(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const kt=Symbol.for("v-fgt"),Be=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),Ie=Symbol.for("v-stc"),ni=[];let Ut=null;function fn(t=!1){ni.push(Ut=t?null:[])}function Ul(){ni.pop(),Ut=ni[ni.length-1]||null}let Ve=1;function Wn(t){Ve+=t}function Bl(t){return t.dynamicChildren=Ve>0?Ut||Ye:null,Ul(),Ve>0&&Ut&&Ut.push(t),t}function sf(t,e,r,i,a,n){return Bl(Ms(t,e,r,i,a,n,!0))}function Fs(t,e,r,i,a){return Bl(wt(t,e,r,i,a,!0))}function Ce(t){return t?t.__v_isVNode===!0:!1}function Jt(t,e){return t.type===e.type&&t.key===e.key}function af(t){}const dn="__vInternal",Vl=({key:t})=>t!=null?t:null,Ii=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?xt(t)||Rt(t)||ct(t)?{i:Ft,r:t,k:e,f:!!r}:t:null);function Ms(t,e=null,r=null,i=0,a=null,n=t===kt?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vl(e),ref:e&&Ii(e),scopeId:an,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ft};return o?(ks(l,r),n&128&&t.normalize(l)):r&&(l.shapeFlag|=xt(r)?8:16),Ve>0&&!s&&Ut&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Ut.push(l),l}const wt=of;function of(t,e=null,r=null,i=0,a=null,n=!1){if((!t||t===xl)&&(t=Lt),Ce(t)){const o=ie(t,e,!0);return r&&ks(o,r),Ve>0&&!n&&Ut&&(o.shapeFlag&6?Ut[Ut.indexOf(t)]=o:Ut.push(o)),o.patchFlag|=-2,o}if(vf(t)&&(t=t.__vccOpts),e){e=Hl(e);let{class:o,style:l}=e;o&&!xt(o)&&(e.class=mi(o)),yt(l)&&(cs(l)&&!nt(l)&&(l=St({},l)),e.style=_i(l))}const s=xt(t)?1:hl(t)?128:tf(t)?64:yt(t)?4:ct(t)?2:0;return Ms(t,e,r,i,a,s,n,!0)}function Hl(t){return t?cs(t)||dn in t?St({},t):t:null}function ie(t,e,r=!1){const{props:i,ref:a,patchFlag:n,children:s}=t,o=e?jl(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&Vl(o),ref:e&&e.ref?r&&a?nt(a)?a.concat(Ii(e)):[a,Ii(e)]:Ii(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kt?n===-1?16:n|16:n,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ie(t.ssContent),ssFallback:t.ssFallback&&ie(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Os(t=" ",e=0){return wt(Be,null,t,e)}function lf(t,e){const r=wt(Ie,null,t);return r.staticCount=e,r}function hf(t="",e=!1){return e?(fn(),Fs(Lt,null,t)):wt(Lt,null,t)}function Wt(t){return t==null||typeof t=="boolean"?wt(Lt):nt(t)?wt(kt,null,t.slice()):typeof t=="object"?_e(t):wt(Be,null,String(t))}function _e(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ie(t)}function ks(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(nt(e))r=16;else if(typeof e=="object")if(i&65){const a=e.default;a&&(a._c&&(a._d=!1),ks(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!(dn in e)?e._ctx=Ft:a===3&&Ft&&(Ft.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Ft},r=32):(e=String(e),i&64?(r=16,e=[Os(e)]):r=8);t.children=e,t.shapeFlag|=r}function jl(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const a in i)if(a==="class")e.class!==i.class&&(e.class=mi([e.class,i.class]));else if(a==="style")e.style=_i([e.style,i.style]);else if(pi(a)){const n=e[a],s=i[a];s&&n!==s&&!(nt(n)&&n.includes(s))&&(e[a]=n?[].concat(n,s):s)}else a!==""&&(e[a]=i[a])}return e}function Gt(t,e,r,i=null){zt(t,e,7,[r,i])}const cf=Al();let uf=0;function ql(t,e,r){const i=t.type,a=(e?e.appContext:t.appContext)||cf,n={uid:uf++,vnode:t,type:i,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new as(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ml(i,a),emitsOptions:ll(i,a),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:i.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=Wc.bind(null,n),t.ce&&t.ce(n),n}let At=null;const fe=()=>At||Ft;let Ns,Ke,va="__VUE_INSTANCE_SETTERS__";(Ke=Ln()[va])||(Ke=Ln()[va]=[]),Ke.push(t=>At=t),Ns=t=>{Ke.length>1?Ke.forEach(e=>e(t)):Ke[0](t)};const we=t=>{Ns(t),t.scope.on()},ye=()=>{At&&At.scope.off(),Ns(null)};function Kl(t){return t.vnode.shapeFlag&4}let rr=!1;function Wl(t,e=!1){rr=e;const{props:r,children:i}=t.vnode,a=Kl(t);zu(t,r,a,e),Xu(t,i);const n=a?ff(t,e):void 0;return rr=!1,n}function ff(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=us(new Proxy(t.ctx,Vn));const{setup:i}=r;if(i){const a=t.setupContext=i.length>1?Yl(t):null;we(t),sr();const n=he(i,t,0,[t.props,a]);if(ar(),ye(),ns(n)){if(n.then(ye,ye),e)return n.then(s=>{zn(t,s,e)}).catch(s=>{je(s,t,0)});t.asyncDep=n}else zn(t,n,e)}else zl(t,e)}function zn(t,e,r){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=ps(e)),zl(t,r)}let Wi,Yn;function df(t){Wi=t,Yn=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,xu))}}const gf=()=>!Wi;function zl(t,e,r){const i=t.type;if(!t.render){if(!e&&Wi&&!i.render){const a=i.template||Es(t).template;if(a){const{isCustomElement:n,compilerOptions:s}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,u=St(St({isCustomElement:n,delimiters:o},s),l);i.render=Wi(a,u)}}t.render=i.render||Qt,Yn&&Yn(t)}we(t),sr(),Uu(t),ar(),ye()}function pf(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Vt(t,"get","$attrs"),e[r]}}))}function Yl(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return pf(t)},slots:t.slots,emit:t.emit,expose:e}}function gn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ps(us(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ei)return ei[r](t)},has(e,r){return r in e||r in ei}}))}function $n(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function vf(t){return ct(t)&&"__vccOpts"in t}const $l=(t,e)=>Uc(t,e,rr);function Xl(t,e,r){const i=arguments.length;return i===2?yt(e)&&!nt(e)?Ce(e)?wt(t,null,[e]):wt(t,e):wt(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ce(r)&&(r=[r]),wt(t,e,r))}const Jl=Symbol.for("v-scx"),Ql=()=>ri(Jl);function _f(){}function mf(t,e,r,i){const a=r[i];if(a&&Zl(a,t))return a;const n=e();return n.memo=t.slice(),r[i]=n}function Zl(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(tr(r[i],e[i]))return!1;return Ve>0&&Ut&&Ut.push(t),!0}const th="3.3.4",yf={createComponentInstance:ql,setupComponent:Wl,renderComponentRoot:Di,setCurrentRenderingInstance:ui,isVNode:Ce,normalizeVNode:Wt},bf=yf,Sf=null,Cf=null,wf="http://www.w3.org/2000/svg",Me=typeof document!="undefined"?document:null,_a=Me&&Me.createElement("template"),xf={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const a=e?Me.createElementNS(wf,t):Me.createElement(t,r?{is:r}:void 0);return t==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:t=>Me.createTextNode(t),createComment:t=>Me.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Me.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,a,n){const s=r?r.previousSibling:e.lastChild;if(a&&(a===n||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===n||!(a=a.nextSibling)););else{_a.innerHTML=i?`<svg>${t}</svg>`:t;const o=_a.content;if(i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function Pf(t,e,r){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function Tf(t,e,r){const i=t.style,a=xt(r);if(r&&!a){if(e&&!xt(e))for(const n in e)r[n]==null&&Xn(i,n,"");for(const n in r)Xn(i,n,r[n])}else{const n=i.display;a?e!==r&&(i.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=n)}}const ma=/\s*!important$/;function Xn(t,e,r){if(nt(r))r.forEach(i=>Xn(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=Ef(t,e);ma.test(r)?t.setProperty($t(i),r.replace(ma,""),"important"):t[i]=r}}const ya=["Webkit","Moz","ms"],wn={};function Ef(t,e){const r=wn[e];if(r)return r;let i=Bt(e);if(i!=="filter"&&i in t)return wn[e]=i;i=vi(i);for(let a=0;a<ya.length;a++){const n=ya[a]+i;if(n in t)return wn[e]=n}return e}const ba="http://www.w3.org/1999/xlink";function Af(t,e,r,i,a){if(i&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(ba,e.slice(6,e.length)):t.setAttributeNS(ba,e,r);else{const n=Kh(e);r==null||n&&!Uo(r)?t.removeAttribute(e):t.setAttribute(e,n?"":r)}}function Rf(t,e,r,i,a,n,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,a,n),t[e]=r==null?"":r;return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=r;const u=o==="OPTION"?t.getAttribute("value"):t.value,_=r==null?"":r;u!==_&&(t.value=_),r==null&&t.removeAttribute(e);return}let l=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=Uo(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{t[e]=r}catch(u){}l&&t.removeAttribute(e)}function le(t,e,r,i){t.addEventListener(e,r,i)}function Ff(t,e,r,i){t.removeEventListener(e,r,i)}function Mf(t,e,r,i,a=null){const n=t._vei||(t._vei={}),s=n[e];if(i&&s)s.value=i;else{const[o,l]=Of(e);if(i){const u=n[e]=Lf(i,a);le(t,o,u,l)}else s&&(Ff(t,o,s,l),n[e]=void 0)}}const Sa=/(?:Once|Passive|Capture)$/;function Of(t){let e;if(Sa.test(t)){e={};let i;for(;i=t.match(Sa);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$t(t.slice(2)),e]}let xn=0;const kf=Promise.resolve(),Nf=()=>xn||(kf.then(()=>xn=0),xn=Date.now());function Lf(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;zt(Df(i,r.value),e,5,[i])};return r.value=t,r.attached=Nf(),r}function Df(t,e){if(nt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>a=>!a._stopped&&i&&i(a))}else return e}const Ca=/^on[a-z]/,If=(t,e,r,i,a=!1,n,s,o,l)=>{e==="class"?Pf(t,i,a):e==="style"?Tf(t,r,i):pi(e)?rs(e)||Mf(t,e,r,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gf(t,e,i,a))?Rf(t,e,i,n,s,o,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Af(t,e,i,a))};function Gf(t,e,r,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Ca.test(e)&&ct(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ca.test(e)&&xt(r)?!1:e in t}function eh(t,e){const r=xs(t);class i extends pn{constructor(n){super(r,n,e)}}return i.def=r,i}const Uf=t=>eh(t,_h),Bf=typeof HTMLElement!="undefined"?HTMLElement:class{};class pn extends Bf{constructor(e,r={},i){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,_s(()=>{this._connected||(Zn(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const a of i)this._setAttr(a.attributeName)}).observe(this,{attributes:!0});const e=(i,a=!1)=>{const{props:n,styles:s}=i;let o;if(n&&!nt(n))for(const l in n){const u=n[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Vi(this._props[l])),(o||(o=Object.create(null)))[Bt(l)]=!0)}this._numberProps=o,a&&this._resolveProps(i),this._applyStyles(s),this._update()},r=this._def.__asyncLoader;r?r().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,i=nt(r)?r:Object.keys(r||{});for(const a of Object.keys(this))a[0]!=="_"&&i.includes(a)&&this._setProp(a,this[a],!0,!1);for(const a of i.map(Bt))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(n){this._setProp(a,n)}})}_setAttr(e){let r=this.getAttribute(e);const i=Bt(e);this._numberProps&&this._numberProps[i]&&(r=Vi(r)),this._setProp(i,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,i=!0,a=!0){r!==this._props[e]&&(this._props[e]=r,a&&this._instance&&this._update(),i&&(r===!0?this.setAttribute($t(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute($t(e),r+""):r||this.removeAttribute($t(e))))}_update(){Zn(this._createVNode(),this.shadowRoot)}_createVNode(){const e=wt(this._def,St({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const i=(n,s)=>{this.dispatchEvent(new CustomEvent(n,{detail:s}))};r.emit=(n,...s)=>{i(n,s),$t(n)!==n&&i($t(n),s)};let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof pn){r.parent=a._instance,r.provides=a._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const i=document.createElement("style");i.textContent=r,this.shadowRoot.appendChild(i)})}}function Vf(t="$style"){{const e=fe();if(!e)return mt;const r=e.type.__cssModules;if(!r)return mt;const i=r[t];return i||mt}}function Hf(t){const e=fe();if(!e)return;const r=e.ut=(a=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(n=>Qn(n,a))},i=()=>{const a=t(e.proxy);Jn(e.subTree,a),r(a)};ul(i),Ci(()=>{const a=new MutationObserver(i);a.observe(e.subTree.el.parentNode,{childList:!0}),un(()=>a.disconnect())})}function Jn(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Jn(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Qn(t.el,e);else if(t.type===kt)t.children.forEach(r=>Jn(r,e));else if(t.type===Ie){let{el:r,anchor:i}=t;for(;r&&(Qn(r,e),r!==i);)r=r.nextSibling}}function Qn(t,e){if(t.nodeType===1){const r=t.style;for(const i in e)r.setProperty(`--${i}`,e[i])}}const pe="transition",or="animation",Ls=(t,{slots:e})=>Xl(dl,ih(t),e);Ls.displayName="Transition";const rh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jf=Ls.props=St({},ws,rh),Ee=(t,e=[])=>{nt(t)?t.forEach(r=>r(...e)):t&&t(...e)},wa=t=>t?nt(t)?t.some(e=>e.length>1):t.length>1:!1;function ih(t){const e={};for(const k in t)k in rh||(e[k]=t[k]);if(t.css===!1)return e;const{name:r="v",type:i,duration:a,enterFromClass:n=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=n,appearActiveClass:u=s,appearToClass:_=o,leaveFromClass:p=`${r}-leave-from`,leaveActiveClass:m=`${r}-leave-active`,leaveToClass:v=`${r}-leave-to`}=t,d=qf(a),y=d&&d[0],S=d&&d[1],{onBeforeEnter:x,onEnter:c,onEnterCancelled:h,onLeave:g,onLeaveCancelled:C,onBeforeAppear:A=x,onAppear:M=c,onAppearCancelled:w=h}=e,E=(k,f,b)=>{ve(k,f?_:o),ve(k,f?u:s),b&&b()},P=(k,f)=>{k._isLeaving=!1,ve(k,p),ve(k,v),ve(k,m),f&&f()},R=k=>(f,b)=>{const T=k?M:c,F=()=>E(f,k,b);Ee(T,[f,F]),xa(()=>{ve(f,k?l:n),ae(f,k?_:o),wa(T)||Pa(f,i,y,F)})};return St(e,{onBeforeEnter(k){Ee(x,[k]),ae(k,n),ae(k,s)},onBeforeAppear(k){Ee(A,[k]),ae(k,l),ae(k,u)},onEnter:R(!1),onAppear:R(!0),onLeave(k,f){k._isLeaving=!0;const b=()=>P(k,f);ae(k,p),sh(),ae(k,m),xa(()=>{k._isLeaving&&(ve(k,p),ae(k,v),wa(g)||Pa(k,i,S,b))}),Ee(g,[k,b])},onEnterCancelled(k){E(k,!1),Ee(h,[k])},onAppearCancelled(k){E(k,!0),Ee(w,[k])},onLeaveCancelled(k){P(k),Ee(C,[k])}})}function qf(t){if(t==null)return null;if(yt(t))return[Pn(t.enter),Pn(t.leave)];{const e=Pn(t);return[e,e]}}function Pn(t){return Vi(t)}function ae(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function ve(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function xa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Kf=0;function Pa(t,e,r,i){const a=t._endId=++Kf,n=()=>{a===t._endId&&i()};if(r)return setTimeout(n,r);const{type:s,timeout:o,propCount:l}=nh(t,e);if(!s)return i();const u=s+"end";let _=0;const p=()=>{t.removeEventListener(u,m),n()},m=v=>{v.target===t&&++_>=l&&p()};setTimeout(()=>{_<l&&p()},o+1),t.addEventListener(u,m)}function nh(t,e){const r=window.getComputedStyle(t),i=d=>(r[d]||"").split(", "),a=i(`${pe}Delay`),n=i(`${pe}Duration`),s=Ta(a,n),o=i(`${or}Delay`),l=i(`${or}Duration`),u=Ta(o,l);let _=null,p=0,m=0;e===pe?s>0&&(_=pe,p=s,m=n.length):e===or?u>0&&(_=or,p=u,m=l.length):(p=Math.max(s,u),_=p>0?s>u?pe:or:null,m=_?_===pe?n.length:l.length:0);const v=_===pe&&/\b(transform|all)(,|$)/.test(i(`${pe}Property`).toString());return{type:_,timeout:p,propCount:m,hasTransform:v}}function Ta(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>Ea(r)+Ea(t[i])))}function Ea(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function sh(){return document.body.offsetHeight}const ah=new WeakMap,oh=new WeakMap,lh={name:"TransitionGroup",props:St({},jf,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=fe(),i=Cs();let a,n;return hn(()=>{if(!a.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!Jf(a[0].el,r.vnode.el,s))return;a.forEach(Yf),a.forEach($f);const o=a.filter(Xf);sh(),o.forEach(l=>{const u=l.el,_=u.style;ae(u,s),_.transform=_.webkitTransform=_.transitionDuration="";const p=u._moveCb=m=>{m&&m.target!==u||(!m||/transform$/.test(m.propertyName))&&(u.removeEventListener("transitionend",p),u._moveCb=null,ve(u,s))};u.addEventListener("transitionend",p)})}),()=>{const s=pt(t),o=ih(s);let l=s.tag||kt;a=n,n=e.default?on(e.default()):[];for(let u=0;u<n.length;u++){const _=n[u];_.key!=null&&Ue(_,er(_,o,i,r))}if(a)for(let u=0;u<a.length;u++){const _=a[u];Ue(_,er(_,o,i,r)),ah.set(_,_.el.getBoundingClientRect())}return wt(l,null,n)}}},Wf=t=>delete t.mode;lh.props;const zf=lh;function Yf(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function $f(t){oh.set(t,t.el.getBoundingClientRect())}function Xf(t){const e=ah.get(t),r=oh.get(t),i=e.left-r.left,a=e.top-r.top;if(i||a){const n=t.el.style;return n.transform=n.webkitTransform=`translate(${i}px,${a}px)`,n.transitionDuration="0s",t}}function Jf(t,e,r){const i=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),r.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:n}=nh(i);return a.removeChild(i),n}const xe=t=>{const e=t.props["onUpdate:modelValue"]||!1;return nt(e)?r=>Xe(e,r):e};function Qf(t){t.target.composing=!0}function Aa(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const zi={created(t,{modifiers:{lazy:e,trim:r,number:i}},a){t._assign=xe(a);const n=i||a.props&&a.props.type==="number";le(t,e?"change":"input",s=>{if(s.target.composing)return;let o=t.value;r&&(o=o.trim()),n&&(o=Bi(o)),t._assign(o)}),r&&le(t,"change",()=>{t.value=t.value.trim()}),e||(le(t,"compositionstart",Qf),le(t,"compositionend",Aa),le(t,"change",Aa))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:i,number:a}},n){if(t._assign=xe(n),t.composing||document.activeElement===t&&t.type!=="range"&&(r||i&&t.value.trim()===e||(a||t.type==="number")&&Bi(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},Ds={deep:!0,created(t,e,r){t._assign=xe(r),le(t,"change",()=>{const i=t._modelValue,a=ir(t),n=t.checked,s=t._assign;if(nt(i)){const o=Xi(i,a),l=o!==-1;if(n&&!l)s(i.concat(a));else if(!n&&l){const u=[...i];u.splice(o,1),s(u)}}else if(He(i)){const o=new Set(i);n?o.add(a):o.delete(a),s(o)}else s(ch(t,n))})},mounted:Ra,beforeUpdate(t,e,r){t._assign=xe(r),Ra(t,e,r)}};function Ra(t,{value:e,oldValue:r},i){t._modelValue=e,nt(e)?t.checked=Xi(e,i.props.value)>-1:He(e)?t.checked=e.has(i.props.value):e!==r&&(t.checked=be(e,ch(t,!0)))}const Is={created(t,{value:e},r){t.checked=be(e,r.props.value),t._assign=xe(r),le(t,"change",()=>{t._assign(ir(t))})},beforeUpdate(t,{value:e,oldValue:r},i){t._assign=xe(i),e!==r&&(t.checked=be(e,i.props.value))}},hh={deep:!0,created(t,{value:e,modifiers:{number:r}},i){const a=He(e);le(t,"change",()=>{const n=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>r?Bi(ir(s)):ir(s));t._assign(t.multiple?a?new Set(n):n:n[0])}),t._assign=xe(i)},mounted(t,{value:e}){Fa(t,e)},beforeUpdate(t,e,r){t._assign=xe(r)},updated(t,{value:e}){Fa(t,e)}};function Fa(t,e){const r=t.multiple;if(!(r&&!nt(e)&&!He(e))){for(let i=0,a=t.options.length;i<a;i++){const n=t.options[i],s=ir(n);if(r)nt(e)?n.selected=Xi(e,s)>-1:n.selected=e.has(s);else if(be(ir(n),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ir(t){return"_value"in t?t._value:t.value}function ch(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const uh={created(t,e,r){Li(t,e,r,null,"created")},mounted(t,e,r){Li(t,e,r,null,"mounted")},beforeUpdate(t,e,r,i){Li(t,e,r,i,"beforeUpdate")},updated(t,e,r,i){Li(t,e,r,i,"updated")}};function fh(t,e){switch(t){case"SELECT":return hh;case"TEXTAREA":return zi;default:switch(e){case"checkbox":return Ds;case"radio":return Is;default:return zi}}}function Li(t,e,r,i,a){const s=fh(t.tagName,r.props&&r.props.type)[a];s&&s(t,e,r,i)}function Zf(){zi.getSSRProps=({value:t})=>({value:t}),Is.getSSRProps=({value:t},e)=>{if(e.props&&be(e.props.value,t))return{checked:!0}},Ds.getSSRProps=({value:t},e)=>{if(nt(t)){if(e.props&&Xi(t,e.props.value)>-1)return{checked:!0}}else if(He(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},uh.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=fh(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const td=["ctrl","shift","alt","meta"],ed={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>td.some(r=>t[`${r}Key`]&&!e.includes(r))},rd=(t,e)=>(r,...i)=>{for(let a=0;a<e.length;a++){const n=ed[e[a]];if(n&&n(r,e))return}return t(r,...i)},id={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nd=(t,e)=>r=>{if(!("key"in r))return;const i=$t(r.key);if(e.some(a=>a===i||id[a]===i))return t(r)},dh={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):lr(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:i}){!e!=!r&&(i?e?(i.beforeEnter(t),lr(t,!0),i.enter(t)):i.leave(t,()=>{lr(t,!1)}):lr(t,e))},beforeUnmount(t,{value:e}){lr(t,e)}};function lr(t,e){t.style.display=e?t._vod:"none"}function sd(){dh.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const gh=St({patchProp:If},xf);let si,Ma=!1;function ph(){return si||(si=Ll(gh))}function vh(){return si=Ma?si:Dl(gh),Ma=!0,si}const Zn=(...t)=>{ph().render(...t)},_h=(...t)=>{vh().hydrate(...t)},ad=(...t)=>{const e=ph().createApp(...t),{mount:r}=e;return e.mount=i=>{const a=mh(i);if(!a)return;const n=e._component;!ct(n)&&!n.render&&!n.template&&(n.template=a.innerHTML),a.innerHTML="";const s=r(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},e},od=(...t)=>{const e=vh().createApp(...t),{mount:r}=e;return e.mount=i=>{const a=mh(i);if(a)return r(a,!0,a instanceof SVGElement)},e};function mh(t){return xt(t)?document.querySelector(t):t}let Oa=!1;const ld=()=>{Oa||(Oa=!0,Zf(),sd())},hd=()=>{},cd=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:dl,BaseTransitionPropsValidators:ws,Comment:Lt,EffectScope:as,Fragment:kt,KeepAlive:gu,ReactiveEffect:yi,Static:Ie,Suspense:eu,Teleport:nf,Text:Be,Transition:Ls,TransitionGroup:zf,VueElement:pn,assertNumber:Vc,callWithAsyncErrorHandling:zt,callWithErrorHandling:he,camelize:Bt,capitalize:vi,cloneVNode:ie,compatUtils:Cf,compile:hd,computed:$l,createApp:ad,createBlock:Fs,createCommentVNode:hf,createElementBlock:sf,createElementVNode:Ms,createHydrationRenderer:Dl,createPropsRestProxy:Iu,createRenderer:Ll,createSSRApp:od,createSlots:Su,createStaticVNode:lf,createTextVNode:Os,createVNode:wt,customRef:kc,defineAsyncComponent:fu,defineComponent:xs,defineCustomElement:eh,defineEmits:Tu,defineExpose:Eu,defineModel:Fu,defineOptions:Au,defineProps:Pu,defineSSRCustomElement:Uf,defineSlots:Ru,get devtools(){return We},effect:Qh,effectScope:Yh,getCurrentInstance:fe,getCurrentScope:Ho,getTransitionRawChildren:on,guardReactiveProps:Hl,h:Xl,handleError:je,hasInjectionContext:Wu,hydrate:_h,initCustomFormatter:_f,initDirectivesForSSR:ld,inject:ri,isMemoSame:Zl,isProxy:cs,isReactive:Ne,isReadonly:Ge,isRef:Rt,isRuntimeOnly:gf,isShallow:oi,isVNode:Ce,markRaw:us,mergeDefaults:Lu,mergeModels:Du,mergeProps:jl,nextTick:_s,normalizeClass:mi,normalizeProps:jh,normalizeStyle:_i,onActivated:pl,onBeforeMount:ml,onBeforeUnmount:cn,onBeforeUpdate:yl,onDeactivated:vl,onErrorCaptured:wl,onMounted:Ci,onRenderTracked:Cl,onRenderTriggered:Sl,onScopeDispose:$h,onServerPrefetch:bl,onUnmounted:un,onUpdated:hn,openBlock:fn,popScopeId:Yc,provide:Rl,proxyRefs:ps,pushScopeId:zc,queuePostFlushCb:ms,reactive:tn,readonly:hs,ref:Je,registerRuntimeCompiler:df,render:Zn,renderList:bu,renderSlot:Cu,resolveComponent:_u,resolveDirective:yu,resolveDynamicComponent:mu,resolveFilter:Sf,resolveTransitionHooks:er,setBlockTracking:Wn,setDevtoolsHook:ol,setTransitionHooks:Ue,shallowReactive:el,shallowReadonly:Tc,shallowRef:Ec,ssrContextKey:Jl,ssrUtils:bf,stop:Zh,toDisplayString:zh,toHandlerKey:ti,toHandlers:wu,toRaw:pt,toRef:Ic,toRefs:Nc,toValue:Fc,transformVNodeArgs:af,triggerRef:Rc,unref:gs,useAttrs:ku,useCssModule:Vf,useCssVars:Hf,useModel:Nu,useSSRContext:Ql,useSlots:Ou,useTransitionState:Cs,vModelCheckbox:Ds,vModelDynamic:uh,vModelRadio:Is,vModelSelect:hh,vModelText:zi,vShow:dh,version:th,warn:Bc,watch:Le,watchEffect:ou,watchPostEffect:ul,watchSyncEffect:lu,withAsyncContext:Gu,withCtx:ys,withDefaults:Mu,withDirectives:cu,withKeys:nd,withMemo:mf,withModifiers:rd,withScopeId:$c},Symbol.toStringTag,{value:"Module"}));var ts=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ud(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),r}var yh={exports:{}};const dd=fd(cd);var Gi={exports:{}},hr={},Tn={},En={},ka;function ft(){return ka||(ka=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function r(){return typeof window!="undefined"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof ts!="undefined"?ts:typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"?self:{},t.Konva={_global:t.glob,version:"9.2.3",isBrowser:r(),isUnminified:/param/.test(function(a){}.toString()),dblClickWindow:400,getAngle(a){return t.Konva.angleDeg?a*e:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(a){t.glob.Konva=a}};const i=a=>{t.Konva[a.prototype.getClassName()]=a};t._registerNode=i,t.Konva._injectGlobal(t.Konva)}(En)),En}var An={},Na;function Pt(){return Na||(Na=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ft();class r{constructor(g=[1,0,0,1,0,0]){this.dirty=!1,this.m=g&&g.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(g){g.m[0]=this.m[0],g.m[1]=this.m[1],g.m[2]=this.m[2],g.m[3]=this.m[3],g.m[4]=this.m[4],g.m[5]=this.m[5]}point(g){var C=this.m;return{x:C[0]*g.x+C[2]*g.y+C[4],y:C[1]*g.x+C[3]*g.y+C[5]}}translate(g,C){return this.m[4]+=this.m[0]*g+this.m[2]*C,this.m[5]+=this.m[1]*g+this.m[3]*C,this}scale(g,C){return this.m[0]*=g,this.m[1]*=g,this.m[2]*=C,this.m[3]*=C,this}rotate(g){var C=Math.cos(g),A=Math.sin(g),M=this.m[0]*C+this.m[2]*A,w=this.m[1]*C+this.m[3]*A,E=this.m[0]*-A+this.m[2]*C,P=this.m[1]*-A+this.m[3]*C;return this.m[0]=M,this.m[1]=w,this.m[2]=E,this.m[3]=P,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(g,C){var A=this.m[0]+this.m[2]*C,M=this.m[1]+this.m[3]*C,w=this.m[2]+this.m[0]*g,E=this.m[3]+this.m[1]*g;return this.m[0]=A,this.m[1]=M,this.m[2]=w,this.m[3]=E,this}multiply(g){var C=this.m[0]*g.m[0]+this.m[2]*g.m[1],A=this.m[1]*g.m[0]+this.m[3]*g.m[1],M=this.m[0]*g.m[2]+this.m[2]*g.m[3],w=this.m[1]*g.m[2]+this.m[3]*g.m[3],E=this.m[0]*g.m[4]+this.m[2]*g.m[5]+this.m[4],P=this.m[1]*g.m[4]+this.m[3]*g.m[5]+this.m[5];return this.m[0]=C,this.m[1]=A,this.m[2]=M,this.m[3]=w,this.m[4]=E,this.m[5]=P,this}invert(){var g=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*g,A=-this.m[1]*g,M=-this.m[2]*g,w=this.m[0]*g,E=g*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),P=g*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=A,this.m[2]=M,this.m[3]=w,this.m[4]=E,this.m[5]=P,this}getMatrix(){return this.m}decompose(){var g=this.m[0],C=this.m[1],A=this.m[2],M=this.m[3],w=this.m[4],E=this.m[5],P=g*M-C*A;let R={x:w,y:E,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(g!=0||C!=0){var k=Math.sqrt(g*g+C*C);R.rotation=C>0?Math.acos(g/k):-Math.acos(g/k),R.scaleX=k,R.scaleY=P/k,R.skewX=(g*A+C*M)/P,R.skewY=0}else if(A!=0||M!=0){var f=Math.sqrt(A*A+M*M);R.rotation=Math.PI/2-(M>0?Math.acos(-A/f):-Math.acos(A/f)),R.scaleX=P/f,R.scaleY=f,R.skewX=0,R.skewY=(g*A+C*M)/P}return R.rotation=t.Util._getRotation(R.rotation),R}}t.Transform=r;var i="[object Array]",a="[object Number]",n="[object String]",s="[object Boolean]",o=Math.PI/180,l=180/Math.PI,u="#",_="",p="0",m="Konva warning: ",v="Konva error: ",d="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},S=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,x=[];const c=typeof requestAnimationFrame!="undefined"&&requestAnimationFrame||function(h){setTimeout(h,60)};t.Util={_isElement(h){return!!(h&&h.nodeType==1)},_isFunction(h){return!!(h&&h.constructor&&h.call&&h.apply)},_isPlainObject(h){return!!h&&h.constructor===Object},_isArray(h){return Object.prototype.toString.call(h)===i},_isNumber(h){return Object.prototype.toString.call(h)===a&&!isNaN(h)&&isFinite(h)},_isString(h){return Object.prototype.toString.call(h)===n},_isBoolean(h){return Object.prototype.toString.call(h)===s},isObject(h){return h instanceof Object},isValidSelector(h){if(typeof h!="string")return!1;var g=h[0];return g==="#"||g==="."||g===g.toUpperCase()},_sign(h){return h===0||h>0?1:-1},requestAnimFrame(h){x.push(h),x.length===1&&c(function(){const g=x;x=[],g.forEach(function(C){C()})})},createCanvasElement(){var h=document.createElement("canvas");try{h.style=h.style||{}}catch(g){}return h},createImageElement(){return document.createElement("img")},_isInDocument(h){for(;h=h.parentNode;)if(h==document)return!0;return!1},_urlToImage(h,g){var C=t.Util.createImageElement();C.onload=function(){g(C)},C.src=h},_rgbToHex(h,g,C){return((1<<24)+(h<<16)+(g<<8)+C).toString(16).slice(1)},_hexToRgb(h){h=h.replace(u,_);var g=parseInt(h,16);return{r:g>>16&255,g:g>>8&255,b:g&255}},getRandomColor(){for(var h=(Math.random()*16777215<<0).toString(16);h.length<6;)h=p+h;return u+h},getRGB(h){var g;return h in y?(g=y[h],{r:g[0],g:g[1],b:g[2]}):h[0]===u?this._hexToRgb(h.substring(1)):h.substr(0,4)===d?(g=S.exec(h.replace(/ /g,"")),{r:parseInt(g[1],10),g:parseInt(g[2],10),b:parseInt(g[3],10)}):{r:0,g:0,b:0}},colorToRGBA(h){return h=h||"black",t.Util._namedColorToRBA(h)||t.Util._hex3ColorToRGBA(h)||t.Util._hex4ColorToRGBA(h)||t.Util._hex6ColorToRGBA(h)||t.Util._hex8ColorToRGBA(h)||t.Util._rgbColorToRGBA(h)||t.Util._rgbaColorToRGBA(h)||t.Util._hslColorToRGBA(h)},_namedColorToRBA(h){var g=y[h.toLowerCase()];return g?{r:g[0],g:g[1],b:g[2],a:1}:null},_rgbColorToRGBA(h){if(h.indexOf("rgb(")===0){h=h.match(/rgb\(([^)]+)\)/)[1];var g=h.split(/ *, */).map(Number);return{r:g[0],g:g[1],b:g[2],a:1}}},_rgbaColorToRGBA(h){if(h.indexOf("rgba(")===0){h=h.match(/rgba\(([^)]+)\)/)[1];var g=h.split(/ *, */).map((C,A)=>C.slice(-1)==="%"?A===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:g[0],g:g[1],b:g[2],a:g[3]}}},_hex8ColorToRGBA(h){if(h[0]==="#"&&h.length===9)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:parseInt(h.slice(7,9),16)/255}},_hex6ColorToRGBA(h){if(h[0]==="#"&&h.length===7)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:1}},_hex4ColorToRGBA(h){if(h[0]==="#"&&h.length===5)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:parseInt(h[4]+h[4],16)/255}},_hex3ColorToRGBA(h){if(h[0]==="#"&&h.length===4)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:1}},_hslColorToRGBA(h){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(h)){const[g,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(h),A=Number(C[0])/360,M=Number(C[1])/100,w=Number(C[2])/100;let E,P,R;if(M===0)return R=w*255,{r:Math.round(R),g:Math.round(R),b:Math.round(R),a:1};w<.5?E=w*(1+M):E=w+M-w*M;const k=2*w-E,f=[0,0,0];for(let b=0;b<3;b++)P=A+1/3*-(b-1),P<0&&P++,P>1&&P--,6*P<1?R=k+(E-k)*6*P:2*P<1?R=E:3*P<2?R=k+(E-k)*(2/3-P)*6:R=k,f[b]=R*255;return{r:Math.round(f[0]),g:Math.round(f[1]),b:Math.round(f[2]),a:1}}},haveIntersection(h,g){return!(g.x>h.x+h.width||g.x+g.width<h.x||g.y>h.y+h.height||g.y+g.height<h.y)},cloneObject(h){var g={};for(var C in h)this._isPlainObject(h[C])?g[C]=this.cloneObject(h[C]):this._isArray(h[C])?g[C]=this.cloneArray(h[C]):g[C]=h[C];return g},cloneArray(h){return h.slice(0)},degToRad(h){return h*o},radToDeg(h){return h*l},_degToRad(h){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(h)},_radToDeg(h){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(h)},_getRotation(h){return e.Konva.angleDeg?t.Util.radToDeg(h):h},_capitalize(h){return h.charAt(0).toUpperCase()+h.slice(1)},throw(h){throw new Error(v+h)},error(h){console.error(v+h)},warn(h){e.Konva.showWarnings&&console.warn(m+h)},each(h,g){for(var C in h)g(C,h[C])},_inRange(h,g,C){return g<=h&&h<C},_getProjectionToSegment(h,g,C,A,M,w){var E,P,R,k=(h-C)*(h-C)+(g-A)*(g-A);if(k==0)E=h,P=g,R=(M-C)*(M-C)+(w-A)*(w-A);else{var f=((M-h)*(C-h)+(w-g)*(A-g))/k;f<0?(E=h,P=g,R=(h-M)*(h-M)+(g-w)*(g-w)):f>1?(E=C,P=A,R=(C-M)*(C-M)+(A-w)*(A-w)):(E=h+f*(C-h),P=g+f*(A-g),R=(E-M)*(E-M)+(P-w)*(P-w))}return[E,P,R]},_getProjectionToLine(h,g,C){var A=t.Util.cloneObject(h),M=Number.MAX_VALUE;return g.forEach(function(w,E){if(!(!C&&E===g.length-1)){var P=g[(E+1)%g.length],R=t.Util._getProjectionToSegment(w.x,w.y,P.x,P.y,h.x,h.y),k=R[0],f=R[1],b=R[2];b<M&&(A.x=k,A.y=f,M=b)}}),A},_prepareArrayForTween(h,g,C){var A,M=[],w=[];if(h.length>g.length){var E=g;g=h,h=E}for(A=0;A<h.length;A+=2)M.push({x:h[A],y:h[A+1]});for(A=0;A<g.length;A+=2)w.push({x:g[A],y:g[A+1]});var P=[];return w.forEach(function(R){var k=t.Util._getProjectionToLine(R,M,C);P.push(k.x),P.push(k.y)}),P},_prepareToStringify(h){var g;h.visitedByCircularReferenceRemoval=!0;for(var C in h)if(h.hasOwnProperty(C)&&h[C]&&typeof h[C]=="object"){if(g=Object.getOwnPropertyDescriptor(h,C),h[C].visitedByCircularReferenceRemoval||t.Util._isElement(h[C]))if(g.configurable)delete h[C];else return null;else if(t.Util._prepareToStringify(h[C])===null)if(g.configurable)delete h[C];else return null}return delete h.visitedByCircularReferenceRemoval,h},_assign(h,g){for(var C in g)h[C]=g[C];return h},_getFirstPointerId(h){return h.touches?h.changedTouches[0].identifier:h.pointerId||999},releaseCanvas(...h){e.Konva.releaseCanvasOnDestroy&&h.forEach(g=>{g.width=0,g.height=0})},drawRoundedRectPath(h,g,C,A){let M=0,w=0,E=0,P=0;typeof A=="number"?M=w=E=P=Math.min(A,g/2,C/2):(M=Math.min(A[0]||0,g/2,C/2),w=Math.min(A[1]||0,g/2,C/2),P=Math.min(A[2]||0,g/2,C/2),E=Math.min(A[3]||0,g/2,C/2)),h.moveTo(M,0),h.lineTo(g-w,0),h.arc(g-w,w,w,Math.PI*3/2,0,!1),h.lineTo(g,C-P),h.arc(g-P,C-P,P,0,Math.PI/2,!1),h.lineTo(E,C),h.arc(E,C-E,E,Math.PI/2,Math.PI,!1),h.lineTo(0,M),h.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}}(An)),An}var cr={},Rn={},Ct={},La;function dt(){if(La)return Ct;La=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getComponentValidator=Ct.getBooleanValidator=Ct.getNumberArrayValidator=Ct.getFunctionValidator=Ct.getStringOrGradientValidator=Ct.getStringValidator=Ct.getNumberOrAutoValidator=Ct.getNumberOrArrayOfNumbersValidator=Ct.getNumberValidator=Ct.alphaComponent=Ct.RGBComponent=void 0;const t=ft(),e=Pt();function r(d){return e.Util._isString(d)?'"'+d+'"':Object.prototype.toString.call(d)==="[object Number]"||e.Util._isBoolean(d)?d:Object.prototype.toString.call(d)}function i(d){return d>255?255:d<0?0:Math.round(d)}Ct.RGBComponent=i;function a(d){return d>1?1:d<1e-4?1e-4:d}Ct.alphaComponent=a;function n(){if(t.Konva.isUnminified)return function(d,y){return e.Util._isNumber(d)||e.Util.warn(r(d)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),d}}Ct.getNumberValidator=n;function s(d){if(t.Konva.isUnminified)return function(y,S){let x=e.Util._isNumber(y),c=e.Util._isArray(y)&&y.length==d;return!x&&!c&&e.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be a number or Array<number>('+d+")"),y}}Ct.getNumberOrArrayOfNumbersValidator=s;function o(){if(t.Konva.isUnminified)return function(d,y){var S=e.Util._isNumber(d),x=d==="auto";return S||x||e.Util.warn(r(d)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),d}}Ct.getNumberOrAutoValidator=o;function l(){if(t.Konva.isUnminified)return function(d,y){return e.Util._isString(d)||e.Util.warn(r(d)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),d}}Ct.getStringValidator=l;function u(){if(t.Konva.isUnminified)return function(d,y){const S=e.Util._isString(d),x=Object.prototype.toString.call(d)==="[object CanvasGradient]"||d&&d.addColorStop;return S||x||e.Util.warn(r(d)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),d}}Ct.getStringOrGradientValidator=u;function _(){if(t.Konva.isUnminified)return function(d,y){return e.Util._isFunction(d)||e.Util.warn(r(d)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),d}}Ct.getFunctionValidator=_;function p(){if(t.Konva.isUnminified)return function(d,y){const S=Int8Array?Object.getPrototypeOf(Int8Array):null;return S&&d instanceof S||(e.Util._isArray(d)?d.forEach(function(x){e.Util._isNumber(x)||e.Util.warn('"'+y+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):e.Util.warn(r(d)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),d}}Ct.getNumberArrayValidator=p;function m(){if(t.Konva.isUnminified)return function(d,y){var S=d===!0||d===!1;return S||e.Util.warn(r(d)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),d}}Ct.getBooleanValidator=m;function v(d){if(t.Konva.isUnminified)return function(y,S){return y==null||e.Util.isObject(y)||e.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be an object with properties '+d),y}}return Ct.getComponentValidator=v,Ct}var Da;function ut(){return Da||(Da=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Pt(),r=dt();var i="get",a="set";t.Factory={addGetterSetter(n,s,o,l,u){t.Factory.addGetter(n,s,o),t.Factory.addSetter(n,s,l,u),t.Factory.addOverloadedGetterSetter(n,s)},addGetter(n,s,o){var l=i+e.Util._capitalize(s);n.prototype[l]=n.prototype[l]||function(){var u=this.attrs[s];return u===void 0?o:u}},addSetter(n,s,o,l){var u=a+e.Util._capitalize(s);n.prototype[u]||t.Factory.overWriteSetter(n,s,o,l)},overWriteSetter(n,s,o,l){var u=a+e.Util._capitalize(s);n.prototype[u]=function(_){return o&&_!==void 0&&_!==null&&(_=o.call(this,_,s)),this._setAttr(s,_),l&&l.call(this),this}},addComponentsGetterSetter(n,s,o,l,u){var _=o.length,p=e.Util._capitalize,m=i+p(s),v=a+p(s),d,y;n.prototype[m]=function(){var x={};for(d=0;d<_;d++)y=o[d],x[y]=this.getAttr(s+p(y));return x};var S=(0,r.getComponentValidator)(o);n.prototype[v]=function(x){var c=this.attrs[s],h;l&&(x=l.call(this,x)),S&&S.call(this,x,s);for(h in x)x.hasOwnProperty(h)&&this._setAttr(s+p(h),x[h]);return x||o.forEach(g=>{this._setAttr(s+p(g),void 0)}),this._fireChangeEvent(s,c,x),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(n,s)},addOverloadedGetterSetter(n,s){var o=e.Util._capitalize(s),l=a+o,u=i+o;n.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(n,s,o,l){e.Util.error("Adding deprecated "+s);var u=i+e.Util._capitalize(s),_=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[u]=function(){e.Util.error(_);var p=this.attrs[s];return p===void 0?o:p},t.Factory.addSetter(n,s,l,function(){e.Util.error(_)}),t.Factory.addOverloadedGetterSetter(n,s)},backCompat(n,s){e.Util.each(s,function(o,l){var u=n.prototype[l],_=i+e.Util._capitalize(o),p=a+e.Util._capitalize(o);function m(){u.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}n.prototype[o]=m,n.prototype[_]=m,n.prototype[p]=m})},afterSetFilter(){this._filterUpToDate=!1}}}(Rn)),Rn}var ne={},se={},Ia;function bh(){if(Ia)return se;Ia=1,Object.defineProperty(se,"__esModule",{value:!0}),se.HitContext=se.SceneContext=se.Context=void 0;const t=Pt(),e=ft();function r(x){var c=[],h=x.length,g=t.Util,C,A;for(C=0;C<h;C++)A=x[C],g._isNumber(A)?A=Math.round(A*1e3)/1e3:g._isString(A)||(A=A+""),c.push(A);return c}var i=",",a="(",n=")",s="([",o="])",l=";",u="()",_="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],m=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const v=100;let d=class{constructor(c){this.canvas=c,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(c){c.fillEnabled()&&this._fill(c)}_fill(c){}strokeShape(c){c.hasStroke()&&this._stroke(c)}_stroke(c){}fillStrokeShape(c){c.attrs.fillAfterStrokeEnabled?(this.strokeShape(c),this.fillShape(c)):(this.fillShape(c),this.strokeShape(c))}getTrace(c,h){var g=this.traceArr,C=g.length,A="",M,w,E,P;for(M=0;M<C;M++)w=g[M],E=w.method,E?(P=w.args,A+=E,c?A+=u:t.Util._isArray(P[0])?A+=s+P.join(i)+o:(h&&(P=P.map(R=>typeof R=="number"?Math.floor(R):R)),A+=a+P.join(i)+n)):(A+=w.property,c||(A+=_+w.val)),A+=l;return A}clearTrace(){this.traceArr=[]}_trace(c){var h=this.traceArr,g;h.push(c),g=h.length,g>=v&&h.shift()}reset(){var c=this.getCanvas().getPixelRatio();this.setTransform(1*c,0,0,1*c,0,0)}getCanvas(){return this.canvas}clear(c){var h=this.getCanvas();c?this.clearRect(c.x||0,c.y||0,c.width||0,c.height||0):this.clearRect(0,0,h.getWidth()/h.pixelRatio,h.getHeight()/h.pixelRatio)}_applyLineCap(c){const h=c.attrs.lineCap;h&&this.setAttr("lineCap",h)}_applyOpacity(c){var h=c.getAbsoluteOpacity();h!==1&&this.setAttr("globalAlpha",h)}_applyLineJoin(c){const h=c.attrs.lineJoin;h&&this.setAttr("lineJoin",h)}setAttr(c,h){this._context[c]=h}arc(c,h,g,C,A,M){this._context.arc(c,h,g,C,A,M)}arcTo(c,h,g,C,A){this._context.arcTo(c,h,g,C,A)}beginPath(){this._context.beginPath()}bezierCurveTo(c,h,g,C,A,M){this._context.bezierCurveTo(c,h,g,C,A,M)}clearRect(c,h,g,C){this._context.clearRect(c,h,g,C)}clip(...c){this._context.clip.apply(this._context,c)}closePath(){this._context.closePath()}createImageData(c,h){var g=arguments;if(g.length===2)return this._context.createImageData(c,h);if(g.length===1)return this._context.createImageData(c)}createLinearGradient(c,h,g,C){return this._context.createLinearGradient(c,h,g,C)}createPattern(c,h){return this._context.createPattern(c,h)}createRadialGradient(c,h,g,C,A,M){return this._context.createRadialGradient(c,h,g,C,A,M)}drawImage(c,h,g,C,A,M,w,E,P){var R=arguments,k=this._context;R.length===3?k.drawImage(c,h,g):R.length===5?k.drawImage(c,h,g,C,A):R.length===9&&k.drawImage(c,h,g,C,A,M,w,E,P)}ellipse(c,h,g,C,A,M,w,E){this._context.ellipse(c,h,g,C,A,M,w,E)}isPointInPath(c,h,g,C){return g?this._context.isPointInPath(g,c,h,C):this._context.isPointInPath(c,h,C)}fill(...c){this._context.fill.apply(this._context,c)}fillRect(c,h,g,C){this._context.fillRect(c,h,g,C)}strokeRect(c,h,g,C){this._context.strokeRect(c,h,g,C)}fillText(c,h,g,C){C?this._context.fillText(c,h,g,C):this._context.fillText(c,h,g)}measureText(c){return this._context.measureText(c)}getImageData(c,h,g,C){return this._context.getImageData(c,h,g,C)}lineTo(c,h){this._context.lineTo(c,h)}moveTo(c,h){this._context.moveTo(c,h)}rect(c,h,g,C){this._context.rect(c,h,g,C)}putImageData(c,h,g){this._context.putImageData(c,h,g)}quadraticCurveTo(c,h,g,C){this._context.quadraticCurveTo(c,h,g,C)}restore(){this._context.restore()}rotate(c){this._context.rotate(c)}save(){this._context.save()}scale(c,h){this._context.scale(c,h)}setLineDash(c){this._context.setLineDash?this._context.setLineDash(c):"mozDash"in this._context?this._context.mozDash=c:"webkitLineDash"in this._context&&(this._context.webkitLineDash=c)}getLineDash(){return this._context.getLineDash()}setTransform(c,h,g,C,A,M){this._context.setTransform(c,h,g,C,A,M)}stroke(c){c?this._context.stroke(c):this._context.stroke()}strokeText(c,h,g,C){this._context.strokeText(c,h,g,C)}transform(c,h,g,C,A,M){this._context.transform(c,h,g,C,A,M)}translate(c,h){this._context.translate(c,h)}_enableTrace(){var c=this,h=p.length,g=this.setAttr,C,A,M=function(w){var E=c[w],P;c[w]=function(){return A=r(Array.prototype.slice.call(arguments,0)),P=E.apply(c,arguments),c._trace({method:w,args:A}),P}};for(C=0;C<h;C++)M(p[C]);c.setAttr=function(){g.apply(c,arguments);var w=arguments[0],E=arguments[1];(w==="shadowOffsetX"||w==="shadowOffsetY"||w==="shadowBlur")&&(E=E/this.canvas.getPixelRatio()),c._trace({property:w,val:E})}}_applyGlobalCompositeOperation(c){const h=c.attrs.globalCompositeOperation;var g=!h||h==="source-over";g||this.setAttr("globalCompositeOperation",h)}};se.Context=d,m.forEach(function(x){Object.defineProperty(d.prototype,x,{get(){return this._context[x]},set(c){this._context[x]=c}})});class y extends d{constructor(c,{willReadFrequently:h=!1}={}){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:h})}_fillColor(c){var h=c.fill();this.setAttr("fillStyle",h),c._fillFunc(this)}_fillPattern(c){this.setAttr("fillStyle",c._getFillPattern()),c._fillFunc(this)}_fillLinearGradient(c){var h=c._getLinearGradient();h&&(this.setAttr("fillStyle",h),c._fillFunc(this))}_fillRadialGradient(c){const h=c._getRadialGradient();h&&(this.setAttr("fillStyle",h),c._fillFunc(this))}_fill(c){const h=c.fill(),g=c.getFillPriority();if(h&&g==="color"){this._fillColor(c);return}const C=c.getFillPatternImage();if(C&&g==="pattern"){this._fillPattern(c);return}const A=c.getFillLinearGradientColorStops();if(A&&g==="linear-gradient"){this._fillLinearGradient(c);return}const M=c.getFillRadialGradientColorStops();if(M&&g==="radial-gradient"){this._fillRadialGradient(c);return}h?this._fillColor(c):C?this._fillPattern(c):A?this._fillLinearGradient(c):M&&this._fillRadialGradient(c)}_strokeLinearGradient(c){const h=c.getStrokeLinearGradientStartPoint(),g=c.getStrokeLinearGradientEndPoint(),C=c.getStrokeLinearGradientColorStops(),A=this.createLinearGradient(h.x,h.y,g.x,g.y);if(C){for(var M=0;M<C.length;M+=2)A.addColorStop(C[M],C[M+1]);this.setAttr("strokeStyle",A)}}_stroke(c){var h=c.dash(),g=c.getStrokeScaleEnabled();if(c.hasStroke()){if(!g){this.save();var C=this.getCanvas().getPixelRatio();this.setTransform(C,0,0,C,0,0)}this._applyLineCap(c),h&&c.dashEnabled()&&(this.setLineDash(h),this.setAttr("lineDashOffset",c.dashOffset())),this.setAttr("lineWidth",c.strokeWidth()),c.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var A=c.getStrokeLinearGradientColorStops();A?this._strokeLinearGradient(c):this.setAttr("strokeStyle",c.stroke()),c._strokeFunc(this),g||this.restore()}}_applyShadow(c){var h,g,C,A=(h=c.getShadowRGBA())!==null&&h!==void 0?h:"black",M=(g=c.getShadowBlur())!==null&&g!==void 0?g:5,w=(C=c.getShadowOffset())!==null&&C!==void 0?C:{x:0,y:0},E=c.getAbsoluteScale(),P=this.canvas.getPixelRatio(),R=E.x*P,k=E.y*P;this.setAttr("shadowColor",A),this.setAttr("shadowBlur",M*Math.min(Math.abs(R),Math.abs(k))),this.setAttr("shadowOffsetX",w.x*R),this.setAttr("shadowOffsetY",w.y*k)}}se.SceneContext=y;class S extends d{constructor(c){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:!0})}_fill(c){this.save(),this.setAttr("fillStyle",c.colorKey),c._fillFuncHit(this),this.restore()}strokeShape(c){c.hasHitStroke()&&this._stroke(c)}_stroke(c){if(c.hasHitStroke()){const A=c.getStrokeScaleEnabled();if(!A){this.save();var h=this.getCanvas().getPixelRatio();this.setTransform(h,0,0,h,0,0)}this._applyLineCap(c);var g=c.hitStrokeWidth(),C=g==="auto"?c.strokeWidth():g;this.setAttr("lineWidth",C),this.setAttr("strokeStyle",c.colorKey),c._strokeFuncHit(this),A||this.restore()}}}return se.HitContext=S,se}var Ga;function vn(){if(Ga)return ne;Ga=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.HitCanvas=ne.SceneCanvas=ne.Canvas=void 0;const t=Pt(),e=bh(),r=ft(),i=ut(),a=dt();var n;function s(){if(n)return n;var _=t.Util.createCanvasElement(),p=_.getContext("2d");return n=function(){var m=r.Konva._global.devicePixelRatio||1,v=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return m/v}(),t.Util.releaseCanvas(_),n}let o=class{constructor(p){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var m=p||{},v=m.pixelRatio||r.Konva.pixelRatio||s();this.pixelRatio=v,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(p){var m=this.pixelRatio;this.pixelRatio=p,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(p){this.width=this._canvas.width=p*this.pixelRatio,this._canvas.style.width=p+"px";var m=this.pixelRatio,v=this.getContext()._context;v.scale(m,m)}setHeight(p){this.height=this._canvas.height=p*this.pixelRatio,this._canvas.style.height=p+"px";var m=this.pixelRatio,v=this.getContext()._context;v.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(p,m){this.setWidth(p||0),this.setHeight(m||0)}toDataURL(p,m){try{return this._canvas.toDataURL(p,m)}catch(v){try{return this._canvas.toDataURL()}catch(d){return t.Util.error("Unable to get data URL. "+d.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ne.Canvas=o,i.Factory.addGetterSetter(o,"pixelRatio",void 0,(0,a.getNumberValidator)());class l extends o{constructor(p={width:0,height:0,willReadFrequently:!1}){super(p),this.context=new e.SceneContext(this,{willReadFrequently:p.willReadFrequently}),this.setSize(p.width,p.height)}}ne.SceneCanvas=l;class u extends o{constructor(p={width:0,height:0}){super(p),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(p.width,p.height)}}return ne.HitCanvas=u,ne}var Fn={},Ua;function Gs(){return Ua||(Ua=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ft(),r=Pt();t.DD={get isDragging(){var i=!1;return t.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return t.DD._dragElements.forEach(a=>{i=a.node}),i},_dragElements:new Map,_drag(i){const a=[];t.DD._dragElements.forEach((n,s)=>{const{node:o}=n,l=o.getStage();l.setPointersPositions(i),n.pointerId===void 0&&(n.pointerId=r.Util._getFirstPointerId(i));const u=l._changedPointerPositions.find(m=>m.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){var _=o.dragDistance(),p=Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y));if(p<_||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,n),a.push(o)}}),a.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:i},!0)})},_endDragBefore(i){const a=[];t.DD._dragElements.forEach(n=>{const{node:s}=n,o=s.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(_=>_.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof e.Konva.Stage&&n.node;u&&a.indexOf(u)===-1&&a.push(u)}),a.forEach(n=>{n.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((a,n)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:i},!0),a.dragStatus!=="dragging"&&t.DD._dragElements.delete(n)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))}(Fn)),Fn}var Ba;function Tt(){if(Ba)return cr;Ba=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.Node=void 0;const t=Pt(),e=ut(),r=vn(),i=ft(),a=Gs(),n=dt();var s="absoluteOpacity",o="allEventListeners",l="absoluteTransform",u="absoluteScale",_="canvas",p="Change",m="children",v="konva",d="listening",y="mouseenter",S="mouseleave",x="set",c="Shape",h=" ",g="stage",C="transform",A="Stage",M="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(h);let E=1,P=class es{constructor(f){this._id=E++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(f),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(f){(f===C||f===l)&&this._cache.get(f)?this._cache.get(f).dirty=!0:f?this._cache.delete(f):this._cache.clear()}_getCache(f,b){var T=this._cache.get(f),F=f===C||f===l,N=T===void 0||F&&T.dirty===!0;return N&&(T=b.call(this),this._cache.set(f,T)),T}_calculate(f,b,T){if(!this._attachedDepsListeners.get(f)){const F=b.map(N=>N+"Change.konva").join(h);this.on(F,()=>{this._clearCache(f)}),this._attachedDepsListeners.set(f,!0)}return this._getCache(f,T)}_getCanvasCache(){return this._cache.get(_)}_clearSelfAndDescendantCache(f){this._clearCache(f),f===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(_)){const{scene:f,filter:b,hit:T}=this._cache.get(_);t.Util.releaseCanvas(f,b,T),this._cache.delete(_)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(f){var b=f||{},T={};(b.x===void 0||b.y===void 0||b.width===void 0||b.height===void 0)&&(T=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var F=Math.ceil(b.width||T.width),N=Math.ceil(b.height||T.height),I=b.pixelRatio,U=b.x===void 0?Math.floor(T.x):b.x,G=b.y===void 0?Math.floor(T.y):b.y,Y=b.offset||0,V=b.drawBorder||!1,K=b.hitCanvasPixelRatio||1;if(!F||!N){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}F+=Y*2+1,N+=Y*2+1,U-=Y,G-=Y;var Q=new r.SceneCanvas({pixelRatio:I,width:F,height:N}),tt=new r.SceneCanvas({pixelRatio:I,width:0,height:0,willReadFrequently:!0}),rt=new r.HitCanvas({pixelRatio:K,width:F,height:N}),L=Q.getContext(),B=rt.getContext();return rt.isCache=!0,Q.isCache=!0,this._cache.delete(_),this._filterUpToDate=!1,b.imageSmoothingEnabled===!1&&(Q.getContext()._context.imageSmoothingEnabled=!1,tt.getContext()._context.imageSmoothingEnabled=!1),L.save(),B.save(),L.translate(-U,-G),B.translate(-U,-G),this._isUnderCache=!0,this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(u),this.drawScene(Q,this),this.drawHit(rt,this),this._isUnderCache=!1,L.restore(),B.restore(),V&&(L.save(),L.beginPath(),L.rect(0,0,F,N),L.closePath(),L.setAttr("strokeStyle","red"),L.setAttr("lineWidth",5),L.stroke(),L.restore()),this._cache.set(_,{scene:Q,filter:tt,hit:rt,x:U,y:G}),this._requestDraw(),this}isCached(){return this._cache.has(_)}getClientRect(f){throw new Error('abstract "getClientRect" method call')}_transformedRect(f,b){var T=[{x:f.x,y:f.y},{x:f.x+f.width,y:f.y},{x:f.x+f.width,y:f.y+f.height},{x:f.x,y:f.y+f.height}],F=1/0,N=1/0,I=-1/0,U=-1/0,G=this.getAbsoluteTransform(b);return T.forEach(function(Y){var V=G.point(Y);F===void 0&&(F=I=V.x,N=U=V.y),F=Math.min(F,V.x),N=Math.min(N,V.y),I=Math.max(I,V.x),U=Math.max(U,V.y)}),{x:F,y:N,width:I-F,height:U-N}}_drawCachedSceneCanvas(f){f.save(),f._applyOpacity(this),f._applyGlobalCompositeOperation(this);const b=this._getCanvasCache();f.translate(b.x,b.y);var T=this._getCachedSceneCanvas(),F=T.pixelRatio;f.drawImage(T._canvas,0,0,T.width/F,T.height/F),f.restore()}_drawCachedHitCanvas(f){var b=this._getCanvasCache(),T=b.hit;f.save(),f.translate(b.x,b.y),f.drawImage(T._canvas,0,0,T.width/T.pixelRatio,T.height/T.pixelRatio),f.restore()}_getCachedSceneCanvas(){var f=this.filters(),b=this._getCanvasCache(),T=b.scene,F=b.filter,N=F.getContext(),I,U,G,Y;if(f){if(!this._filterUpToDate){var V=T.pixelRatio;F.setSize(T.width/T.pixelRatio,T.height/T.pixelRatio);try{for(I=f.length,N.clear(),N.drawImage(T._canvas,0,0,T.getWidth()/V,T.getHeight()/V),U=N.getImageData(0,0,F.getWidth(),F.getHeight()),G=0;G<I;G++){if(Y=f[G],typeof Y!="function"){t.Util.error("Filter should be type of function, but got "+typeof Y+" instead. Please check correct filters");continue}Y.call(this,U),N.putImageData(U,0,0)}}catch(K){t.Util.error("Unable to apply filter. "+K.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return F}return T}on(f,b){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);var T=f.split(h),F=T.length,N,I,U,G,Y;for(N=0;N<F;N++)I=T[N],U=I.split("."),G=U[0],Y=U[1]||"",this.eventListeners[G]||(this.eventListeners[G]=[]),this.eventListeners[G].push({name:Y,handler:b});return this}off(f,b){var T=(f||"").split(h),F=T.length,N,I,U,G,Y,V;if(this._cache&&this._cache.delete(o),!f)for(I in this.eventListeners)this._off(I);for(N=0;N<F;N++)if(U=T[N],G=U.split("."),Y=G[0],V=G[1],Y)this.eventListeners[Y]&&this._off(Y,V,b);else for(I in this.eventListeners)this._off(I,V,b);return this}dispatchEvent(f){var b={target:this,type:f.type,evt:f};return this.fire(f.type,b),this}addEventListener(f,b){return this.on(f,function(T){b.call(this,T.evt)}),this}removeEventListener(f){return this.off(f),this}_delegate(f,b,T){var F=this;this.on(f,function(N){for(var I=N.target.findAncestors(b,!0,F),U=0;U<I.length;U++)N=t.Util.cloneObject(N),N.currentTarget=I[U],T.call(I[U],N)})}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(M),this._clearSelfAndDescendantCache(d)}_remove(){this._clearCaches();var f=this.getParent();f&&f.children&&(f.children.splice(this.index,1),f._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(f){var b="get"+t.Util._capitalize(f);return t.Util._isFunction(this[b])?this[b]():this.attrs[f]}getAncestors(){for(var f=this.getParent(),b=[];f;)b.push(f),f=f.getParent();return b}getAttrs(){return this.attrs||{}}setAttrs(f){return this._batchTransformChanges(()=>{var b,T;if(!f)return this;for(b in f)b!==m&&(T=x+t.Util._capitalize(b),t.Util._isFunction(this[T])?this[T](f[b]):this._setAttr(b,f[b]))}),this}isListening(){return this._getCache(d,this._isListening)}_isListening(f){if(!this.listening())return!1;const T=this.getParent();return T&&T!==f&&this!==f?T._isListening(f):!0}isVisible(){return this._getCache(M,this._isVisible)}_isVisible(f){if(!this.visible())return!1;const T=this.getParent();return T&&T!==f&&this!==f?T._isVisible(f):!0}shouldDrawHit(f,b=!1){if(f)return this._isVisible(f)&&this._isListening(f);var T=this.getLayer(),F=!1;a.DD._dragElements.forEach(I=>{I.dragStatus==="dragging"&&(I.node.nodeType==="Stage"||I.node.getLayer()===T)&&(F=!0)});var N=!b&&!i.Konva.hitOnDragEnabled&&F;return this.isListening()&&this.isVisible()&&!N}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var f=this.getDepth(),b=this,T=0,F,N,I,U;function G(V){for(F=[],N=V.length,I=0;I<N;I++)U=V[I],T++,U.nodeType!==c&&(F=F.concat(U.getChildren().slice())),U._id===b._id&&(I=N);F.length>0&&F[0].getDepth()<=f&&G(F)}const Y=this.getStage();return b.nodeType!==A&&Y&&G(Y.getChildren()),T}getDepth(){for(var f=0,b=this.parent;b;)f++,b=b.parent;return f}_batchTransformChanges(f){this._batchingTransformChange=!0,f(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(f){return this._batchTransformChanges(()=>{this.x(f.x),this.y(f.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const f=this.getStage();if(!f)return null;var b=f.getPointerPosition();if(!b)return null;var T=this.getAbsoluteTransform().copy();return T.invert(),T.point(b)}getAbsolutePosition(f){let b=!1,T=this.parent;for(;T;){if(T.isCached()){b=!0;break}T=T.parent}b&&!f&&(f=!0);var F=this.getAbsoluteTransform(f).getMatrix(),N=new t.Transform,I=this.offset();return N.m=F.slice(),N.translate(I.x,I.y),N.getTranslation()}setAbsolutePosition(f){const I=this._clearTransform(),{x:b,y:T}=I,F=zs(I,["x","y"]);this.attrs.x=b,this.attrs.y=T,this._clearCache(C);var N=this._getAbsoluteTransform().copy();return N.invert(),N.translate(f.x,f.y),f={x:this.attrs.x+N.getTranslation().x,y:this.attrs.y+N.getTranslation().y},this._setTransform(F),this.setPosition({x:f.x,y:f.y}),this._clearCache(C),this._clearSelfAndDescendantCache(l),this}_setTransform(f){var b;for(b in f)this.attrs[b]=f[b]}_clearTransform(){var f={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,f}move(f){var b=f.x,T=f.y,F=this.x(),N=this.y();return b!==void 0&&(F+=b),T!==void 0&&(N+=T),this.setPosition({x:F,y:N}),this}_eachAncestorReverse(f,b){var T=[],F=this.getParent(),N,I;if(!(b&&b._id===this._id)){for(T.unshift(this);F&&(!b||F._id!==b._id);)T.unshift(F),F=F.parent;for(N=T.length,I=0;I<N;I++)f(T[I])}}rotate(f){return this.rotation(this.rotation()+f),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var f=this.index,b=this.parent.getChildren().length;return f<b-1?(this.parent.children.splice(f,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var f=this.index,b=this.parent.getChildren().length;return f<b-1?(this.parent.children.splice(f,1),this.parent.children.splice(f+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var f=this.index;return f>0?(this.parent.children.splice(f,1),this.parent.children.splice(f-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var f=this.index;return f>0?(this.parent.children.splice(f,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(f){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(f<0||f>=this.parent.children.length)&&t.Util.warn("Unexpected value "+f+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var b=this.index;return this.parent.children.splice(b,1),this.parent.children.splice(f,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(s,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var f=this.opacity(),b=this.getParent();return b&&!b._isUnderCache&&(f*=b.getAbsoluteOpacity()),f}moveTo(f){return this.getParent()!==f&&(this._remove(),f.add(this)),this}toObject(){var f={},b=this.getAttrs(),T,F,N,I,U;f.attrs={};for(T in b)F=b[T],U=t.Util.isObject(F)&&!t.Util._isPlainObject(F)&&!t.Util._isArray(F),!U&&(N=typeof this[T]=="function"&&this[T],delete b[T],I=N?N.call(this):null,b[T]=F,I!==F&&(f.attrs[T]=F));return f.className=this.getClassName(),t.Util._prepareToStringify(f)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(f,b,T){var F=[];b&&this._isMatch(f)&&F.push(this);for(var N=this.parent;N;){if(N===T)return F;N._isMatch(f)&&F.push(N),N=N.parent}return F}isAncestorOf(f){return!1}findAncestor(f,b,T){return this.findAncestors(f,b,T)[0]}_isMatch(f){if(!f)return!1;if(typeof f=="function")return f(this);var b=f.replace(/ /g,"").split(","),T=b.length,F,N;for(F=0;F<T;F++)if(N=b[F],t.Util.isValidSelector(N)||(t.Util.warn('Selector "'+N+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),N.charAt(0)==="#"){if(this.id()===N.slice(1))return!0}else if(N.charAt(0)==="."){if(this.hasName(N.slice(1)))return!0}else if(this.className===N||this.nodeType===N)return!0;return!1}getLayer(){var f=this.getParent();return f?f.getLayer():null}getStage(){return this._getCache(g,this._getStage)}_getStage(){var f=this.getParent();return f?f.getStage():null}fire(f,b={},T){return b.target=b.target||this,T?this._fireAndBubble(f,b):this._fire(f,b),this}getAbsoluteTransform(f){return f?this._getAbsoluteTransform(f):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(f){var b;if(f)return b=new t.Transform,this._eachAncestorReverse(function(F){var N=F.transformsEnabled();N==="all"?b.multiply(F.getTransform()):N==="position"&&b.translate(F.x()-F.offsetX(),F.y()-F.offsetY())},f),b;b=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(b):b.reset();var T=this.transformsEnabled();if(T==="all")b.multiply(this.getTransform());else if(T==="position"){const F=this.attrs.x||0,N=this.attrs.y||0,I=this.attrs.offsetX||0,U=this.attrs.offsetY||0;b.translate(F-I,N-U)}return b.dirty=!1,b}getAbsoluteScale(f){for(var b=this;b;)b._isUnderCache&&(f=b),b=b.getParent();const F=this.getAbsoluteTransform(f).decompose();return{x:F.scaleX,y:F.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var f,b,T=this._cache.get(C)||new t.Transform;T.reset();var F=this.x(),N=this.y(),I=i.Konva.getAngle(this.rotation()),U=(f=this.attrs.scaleX)!==null&&f!==void 0?f:1,G=(b=this.attrs.scaleY)!==null&&b!==void 0?b:1,Y=this.attrs.skewX||0,V=this.attrs.skewY||0,K=this.attrs.offsetX||0,Q=this.attrs.offsetY||0;return(F!==0||N!==0)&&T.translate(F,N),I!==0&&T.rotate(I),(Y!==0||V!==0)&&T.skew(Y,V),(U!==1||G!==1)&&T.scale(U,G),(K!==0||Q!==0)&&T.translate(-1*K,-1*Q),T.dirty=!1,T}clone(f){var b=t.Util.cloneObject(this.attrs),T,F,N,I,U;for(T in f)b[T]=f[T];var G=new this.constructor(b);for(T in this.eventListeners)for(F=this.eventListeners[T],N=F.length,I=0;I<N;I++)U=F[I],U.name.indexOf(v)<0&&(G.eventListeners[T]||(G.eventListeners[T]=[]),G.eventListeners[T].push(U));return G}_toKonvaCanvas(f){f=f||{};var b=this.getClientRect(),T=this.getStage(),F=f.x!==void 0?f.x:Math.floor(b.x),N=f.y!==void 0?f.y:Math.floor(b.y),I=f.pixelRatio||1,U=new r.SceneCanvas({width:f.width||Math.ceil(b.width)||(T?T.width():0),height:f.height||Math.ceil(b.height)||(T?T.height():0),pixelRatio:I}),G=U.getContext();return f.imageSmoothingEnabled===!1&&(G._context.imageSmoothingEnabled=!1),G.save(),(F||N)&&G.translate(-1*F,-1*N),this.drawScene(U),G.restore(),U}toCanvas(f){return this._toKonvaCanvas(f)._canvas}toDataURL(f){f=f||{};var b=f.mimeType||null,T=f.quality||null,F=this._toKonvaCanvas(f).toDataURL(b,T);return f.callback&&f.callback(F),F}toImage(f){return new Promise((b,T)=>{try{const F=f==null?void 0:f.callback;F&&delete f.callback,t.Util._urlToImage(this.toDataURL(f),function(N){b(N),F==null||F(N)})}catch(F){T(F)}})}toBlob(f){return new Promise((b,T)=>{try{const F=f==null?void 0:f.callback;F&&delete f.callback,this.toCanvas(f).toBlob(N=>{b(N),F==null||F(N)})}catch(F){T(F)}})}setSize(f){return this.width(f.width),this.height(f.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(f,b,T){var F=this.eventListeners[f],N,I,U;for(N=0;N<F.length;N++)if(I=F[N].name,U=F[N].handler,(I!=="konva"||b==="konva")&&(!b||I===b)&&(!T||T===U)){if(F.splice(N,1),F.length===0){delete this.eventListeners[f];break}N--}}_fireChangeEvent(f,b,T){this._fire(f+p,{oldVal:b,newVal:T})}addName(f){if(!this.hasName(f)){var b=this.name(),T=b?b+" "+f:f;this.name(T)}return this}hasName(f){if(!f)return!1;const b=this.name();if(!b)return!1;var T=(b||"").split(/\s/g);return T.indexOf(f)!==-1}removeName(f){var b=(this.name()||"").split(/\s/g),T=b.indexOf(f);return T!==-1&&(b.splice(T,1),this.name(b.join(" "))),this}setAttr(f,b){var T=this[x+t.Util._capitalize(f)];return t.Util._isFunction(T)?T.call(this,b):this._setAttr(f,b),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const f=this.getLayer()||this.getStage();f==null||f.batchDraw()}}_setAttr(f,b){var T=this.attrs[f];T===b&&!t.Util.isObject(b)||(b==null?delete this.attrs[f]:this.attrs[f]=b,this._shouldFireChangeEvents&&this._fireChangeEvent(f,T,b),this._requestDraw())}_setComponentAttr(f,b,T){var F;T!==void 0&&(F=this.attrs[f],F||(this.attrs[f]=this.getAttr(f)),this.attrs[f][b]=T,this._fireChangeEvent(f,F,T))}_fireAndBubble(f,b,T){b&&this.nodeType===c&&(b.target=this);var F=(f===y||f===S)&&(T&&(this===T||this.isAncestorOf&&this.isAncestorOf(T))||this.nodeType==="Stage"&&!T);if(!F){this._fire(f,b);var N=(f===y||f===S)&&T&&T.isAncestorOf&&T.isAncestorOf(this)&&!T.isAncestorOf(this.parent);(b&&!b.cancelBubble||!b)&&this.parent&&this.parent.isListening()&&!N&&(T&&T.parent?this._fireAndBubble.call(this.parent,f,b,T):this._fireAndBubble.call(this.parent,f,b))}}_getProtoListeners(f){var b,T,F;const N=(b=this._cache.get(o))!==null&&b!==void 0?b:{};let I=N==null?void 0:N[f];if(I===void 0){I=[];let U=Object.getPrototypeOf(this);for(;U;){const G=(F=(T=U.eventListeners)===null||T===void 0?void 0:T[f])!==null&&F!==void 0?F:[];I.push(...G),U=Object.getPrototypeOf(U)}N[f]=I,this._cache.set(o,N)}return I}_fire(f,b){b=b||{},b.currentTarget=this,b.type=f;const T=this._getProtoListeners(f);if(T)for(var F=0;F<T.length;F++)T[F].handler.call(this,b);const N=this.eventListeners[f];if(N)for(var F=0;F<N.length;F++)N[F].handler.call(this,b)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(f){var b=f?f.pointerId:void 0,T=this.getStage(),F=this.getAbsolutePosition();if(T){var N=T._getPointerById(b)||T._changedPointerPositions[0]||F;a.DD._dragElements.set(this._id,{node:this,startPointerPos:N,offset:{x:N.x-F.x,y:N.y-F.y},dragStatus:"ready",pointerId:b})}}startDrag(f,b=!0){a.DD._dragElements.has(this._id)||this._createDragElement(f);const T=a.DD._dragElements.get(this._id);T.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:f&&f.evt},b)}_setDragPosition(f,b){const T=this.getStage()._getPointerById(b.pointerId);if(T){var F={x:T.x-b.offset.x,y:T.y-b.offset.y},N=this.dragBoundFunc();if(N!==void 0){const I=N.call(this,F,f);I?F=I:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==F.x||this._lastPos.y!==F.y)&&(this.setAbsolutePosition(F),this._requestDraw()),this._lastPos=F}}stopDrag(f){const b=a.DD._dragElements.get(this._id);b&&(b.dragStatus="stopped"),a.DD._endDragBefore(f),a.DD._endDragAfter(f)}setDraggable(f){this._setAttr("draggable",f),this._dragChange()}isDragging(){const f=a.DD._dragElements.get(this._id);return f?f.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(f){var b=f.evt.button!==void 0,T=!b||i.Konva.dragButtons.indexOf(f.evt.button)>=0;if(T&&!this.isDragging()){var F=!1;a.DD._dragElements.forEach(N=>{this.isAncestorOf(N.node)&&(F=!0)}),F||this._createDragElement(f)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var f=this.getStage();if(!f)return;const b=a.DD._dragElements.get(this._id),T=b&&b.dragStatus==="dragging",F=b&&b.dragStatus==="ready";T?this.stopDrag():F&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(f={x:0,y:0}){const b=this.getStage();if(!b)return!1;const T={x:-f.x,y:-f.y,width:b.width()+2*f.x,height:b.height()+2*f.y};return t.Util.haveIntersection(T,this.getClientRect())}static create(f,b){return t.Util._isString(f)&&(f=JSON.parse(f)),this._createNode(f,b)}static _createNode(f,b){var T=es.prototype.getClassName.call(f),F=f.children,N,I,U;b&&(f.attrs.container=b),i.Konva[T]||(t.Util.warn('Can not find a node with class name "'+T+'". Fallback to "Shape".'),T="Shape");const G=i.Konva[T];if(N=new G(f.attrs),F)for(I=F.length,U=0;U<I;U++)N.add(es._createNode(F[U]));return N}};cr.Node=P,P.prototype.nodeType="Node",P.prototype._attrsAffectingSize=[],P.prototype.eventListeners={},P.prototype.on.call(P.prototype,w,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(C),this._clearSelfAndDescendantCache(l)}),P.prototype.on.call(P.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(M)}),P.prototype.on.call(P.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(d)}),P.prototype.on.call(P.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(s)});const R=e.Factory.addGetterSetter;return R(P,"zIndex"),R(P,"absolutePosition"),R(P,"position"),R(P,"x",0,(0,n.getNumberValidator)()),R(P,"y",0,(0,n.getNumberValidator)()),R(P,"globalCompositeOperation","source-over",(0,n.getStringValidator)()),R(P,"opacity",1,(0,n.getNumberValidator)()),R(P,"name","",(0,n.getStringValidator)()),R(P,"id","",(0,n.getStringValidator)()),R(P,"rotation",0,(0,n.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"scale",["x","y"]),R(P,"scaleX",1,(0,n.getNumberValidator)()),R(P,"scaleY",1,(0,n.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"skew",["x","y"]),R(P,"skewX",0,(0,n.getNumberValidator)()),R(P,"skewY",0,(0,n.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"offset",["x","y"]),R(P,"offsetX",0,(0,n.getNumberValidator)()),R(P,"offsetY",0,(0,n.getNumberValidator)()),R(P,"dragDistance",null,(0,n.getNumberValidator)()),R(P,"width",0,(0,n.getNumberValidator)()),R(P,"height",0,(0,n.getNumberValidator)()),R(P,"listening",!0,(0,n.getBooleanValidator)()),R(P,"preventDefault",!0,(0,n.getBooleanValidator)()),R(P,"filters",null,function(k){return this._filterUpToDate=!1,k}),R(P,"visible",!0,(0,n.getBooleanValidator)()),R(P,"transformsEnabled","all",(0,n.getStringValidator)()),R(P,"size"),R(P,"dragBoundFunc"),R(P,"draggable",!1,(0,n.getBooleanValidator)()),e.Factory.backCompat(P,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),cr}var ur={},Va;function _n(){if(Va)return ur;Va=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.Container=void 0;const t=ut(),e=Tt(),r=dt();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(n){if(!n)return this.children||[];const s=this.children||[];var o=[];return s.forEach(function(l){n(l)&&o.push(l)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(n=>{n.parent=null,n.index=0,n.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(n=>{n.parent=null,n.index=0,n.destroy()}),this.children=[],this._requestDraw(),this}add(...n){if(n.length===0)return this;if(n.length>1){for(var s=0;s<n.length;s++)this.add(n[s]);return this}const o=n[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(n){return this._generalFind(n,!1)}findOne(n){var s=this._generalFind(n,!0);return s.length>0?s[0]:void 0}_generalFind(n,s){var o=[];return this._descendants(l=>{const u=l._isMatch(n);return u&&o.push(l),!!(u&&s)}),o}_descendants(n){let s=!1;const o=this.getChildren();for(const l of o){if(s=n(l),s)return!0;if(l.hasChildren()&&(s=l._descendants(n),s))return!0}return!1}toObject(){var n=e.Node.prototype.toObject.call(this);return n.children=[],this.getChildren().forEach(s=>{n.children.push(s.toObject())}),n}isAncestorOf(n){for(var s=n.getParent();s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(n){var s=e.Node.prototype.clone.call(this,n);return this.getChildren().forEach(function(o){s.add(o.clone())}),s}getAllIntersections(n){var s=[];return this.find("Shape").forEach(o=>{o.isVisible()&&o.intersects(n)&&s.push(o)}),s}_clearSelfAndDescendantCache(n){var s;super._clearSelfAndDescendantCache(n),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(o){o._clearSelfAndDescendantCache(n)}))}_setChildrenIndices(){var n;(n=this.children)===null||n===void 0||n.forEach(function(s,o){s.index=o}),this._requestDraw()}drawScene(n,s){var o=this.getLayer(),l=n||o&&o.getCanvas(),u=l&&l.getContext(),_=this._getCanvasCache(),p=_&&_.scene,m=l&&l.isCache;if(!this.isVisible()&&!m)return this;if(p){u.save();var v=this.getAbsoluteTransform(s).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,s);return this}drawHit(n,s){if(!this.shouldDrawHit(s))return this;var o=this.getLayer(),l=n||o&&o.hitCanvas,u=l&&l.getContext(),_=this._getCanvasCache(),p=_&&_.hit;if(p){u.save();var m=this.getAbsoluteTransform(s).getMatrix();u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,s);return this}_drawChildren(n,s,o){var l,u=s&&s.getContext(),_=this.clipWidth(),p=this.clipHeight(),m=this.clipFunc(),v=_&&p||m;const d=o===this;if(v){u.save();var y=this.getAbsoluteTransform(o),S=y.getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u.beginPath();let g;if(m)g=m.call(this,u,this);else{var x=this.clipX(),c=this.clipY();u.rect(x,c,_,p)}u.clip.apply(u,g),S=y.copy().invert().getMatrix(),u.transform(S[0],S[1],S[2],S[3],S[4],S[5])}var h=!d&&this.globalCompositeOperation()!=="source-over"&&n==="drawScene";h&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(g){g[n](s,o)}),h&&u.restore(),v&&u.restore()}getClientRect(n={}){var s,o=n.skipTransform,l=n.relativeTo,u,_,p,m,v={x:1/0,y:1/0,width:0,height:0},d=this;(s=this.children)===null||s===void 0||s.forEach(function(h){if(h.visible()){var g=h.getClientRect({relativeTo:d,skipShadow:n.skipShadow,skipStroke:n.skipStroke});g.width===0&&g.height===0||(u===void 0?(u=g.x,_=g.y,p=g.x+g.width,m=g.y+g.height):(u=Math.min(u,g.x),_=Math.min(_,g.y),p=Math.max(p,g.x+g.width),m=Math.max(m,g.y+g.height)))}});for(var y=this.find("Shape"),S=!1,x=0;x<y.length;x++){var c=y[x];if(c._isVisible(this)){S=!0;break}}return S&&u!==void 0?v={x:u,y:_,width:p-u,height:m-_}:v={x:0,y:0,width:0,height:0},o?v:this._transformedRect(v,l)}};return ur.Container=i,t.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(i,"clipX",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipY",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipWidth",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipHeight",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipFunc"),ur}var Mn={},qt={},Ha;function Sh(){if(Ha)return qt;Ha=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.releaseCapture=qt.setPointerCapture=qt.hasPointerCapture=qt.createEvent=qt.getCapturedShape=void 0;const t=ft(),e=new Map,r=t.Konva._global.PointerEvent!==void 0;function i(l){return e.get(l)}qt.getCapturedShape=i;function a(l){return{evt:l,pointerId:l.pointerId}}qt.createEvent=a;function n(l,u){return e.get(l)===u}qt.hasPointerCapture=n;function s(l,u){o(l),u.getStage()&&(e.set(l,u),r&&u._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))}qt.setPointerCapture=s;function o(l,u){const _=e.get(l);if(!_)return;const p=_.getStage();p&&p.content,e.delete(l),r&&_._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}return qt.releaseCapture=o,qt}var ja;function gd(){return ja||(ja=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Pt(),r=ut(),i=_n(),a=ft(),n=vn(),s=Gs(),o=ft(),l=Sh();var u="Stage",_="string",p="px",m="mouseout",v="mouseleave",d="mouseover",y="mouseenter",S="mousemove",x="mousedown",c="mouseup",h="pointermove",g="pointerdown",C="pointerup",A="pointercancel",M="lostpointercapture",w="pointerout",E="pointerleave",P="pointerover",R="pointerenter",k="contextmenu",f="touchstart",b="touchend",T="touchmove",F="touchcancel",N="wheel",I=5,U=[[y,"_pointerenter"],[x,"_pointerdown"],[S,"_pointermove"],[c,"_pointerup"],[v,"_pointerleave"],[f,"_pointerdown"],[T,"_pointermove"],[b,"_pointerup"],[F,"_pointercancel"],[d,"_pointerover"],[N,"_wheel"],[k,"_contextmenu"],[g,"_pointerdown"],[h,"_pointermove"],[C,"_pointerup"],[A,"_pointercancel"],[M,"_lostpointercapture"]];const G={mouse:{[w]:m,[E]:v,[P]:d,[R]:y,[h]:S,[g]:x,[C]:c,[A]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[E]:"touchleave",[P]:"touchover",[R]:"touchenter",[h]:T,[g]:f,[C]:b,[A]:F,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[E]:E,[P]:P,[R]:R,[h]:h,[g]:g,[C]:C,[A]:A,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Y=rt=>rt.indexOf("pointer")>=0?"pointer":rt.indexOf("touch")>=0?"touch":"mouse",V=rt=>{const L=Y(rt);if(L==="pointer")return a.Konva.pointerEventsEnabled&&G.pointer;if(L==="touch")return G.touch;if(L==="mouse")return G.mouse};function K(rt={}){return(rt.clipFunc||rt.clipWidth||rt.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),rt}const Q="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class tt extends i.Container{constructor(L){super(K(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{K(this.attrs)}),this._checkVisibility()}_validateAdd(L){const B=L.getType()==="Layer",z=L.getType()==="FastLayer";B||z||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===_){if(L.charAt(0)==="."){var B=L.slice(1);L=document.getElementsByClassName(B)[0]}else{var z;L.charAt(0)!=="#"?z=L:z=L.slice(1),L=document.getElementById(z)}if(!L)throw"Can not find container in document with id "+z}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var L=this.children,B=L.length,z;for(z=0;z<B;z++)L[z].clear();return this}clone(L){return L||(L={}),L.container=typeof document!="undefined"&&document.createElement("div"),i.Container.prototype.clone.call(this,L)}destroy(){super.destroy();var L=this.content;L&&e.Util._isInDocument(L)&&this.container().removeChild(L);var B=t.stages.indexOf(this);return B>-1&&t.stages.splice(B,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(e.Util.warn(Q),null)}_getPointerById(L){return this._pointerPositions.find(B=>B.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();var B=new n.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),z=B.getContext()._context,lt=this.children;return(L.x||L.y)&&z.translate(-1*L.x,-1*L.y),lt.forEach(function(ot){if(ot.isVisible()){var O=ot._toKonvaCanvas(L);z.drawImage(O._canvas,L.x,L.y,O.getWidth()/O.getPixelRatio(),O.getHeight()/O.getPixelRatio())}}),B}getIntersection(L){if(!L)return null;var B=this.children,z=B.length,lt=z-1,ot;for(ot=lt;ot>=0;ot--){const O=B[ot].getIntersection(L);if(O)return O}return null}_resizeDOM(){var L=this.width(),B=this.height();this.content&&(this.content.style.width=L+p,this.content.style.height=B+p),this.bufferCanvas.setSize(L,B),this.bufferHitCanvas.setSize(L,B),this.children.forEach(z=>{z.setSize({width:L,height:B}),z.draw()})}add(L,...B){if(arguments.length>1){for(var z=0;z<arguments.length;z++)this.add(arguments[z]);return this}super.add(L);var lt=this.children.length;return lt>I&&e.Util.warn("The stage has "+lt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),a.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return l.hasPointerCapture(L,this)}setPointerCapture(L){l.setPointerCapture(L,this)}releaseCapture(L){l.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&U.forEach(([L,B])=>{this.content.addEventListener(L,z=>{this[B](z)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const B=V(L.type);B&&this._fire(B.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const B=V(L.type);B&&this._fire(B.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let B=this[L+"targetShape"];return B&&!B.getStage()&&(B=null),B}_pointerleave(L){const B=V(L.type),z=Y(L.type);if(B){this.setPointersPositions(L);var lt=this._getTargetShape(z),ot=!s.DD.isDragging||a.Konva.hitOnDragEnabled;lt&&ot?(lt._fireAndBubble(B.pointerout,{evt:L}),lt._fireAndBubble(B.pointerleave,{evt:L}),this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this[z+"targetShape"]=null):ot&&(this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(B.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(L){const B=V(L.type),z=Y(L.type);if(B){this.setPointersPositions(L);var lt=!1;this._changedPointerPositions.forEach(ot=>{var O=this.getIntersection(ot);if(s.DD.justDragged=!1,a.Konva["_"+z+"ListenClick"]=!0,!O||!O.isListening())return;a.Konva.capturePointerEventsEnabled&&O.setPointerCapture(ot.id),this[z+"ClickStartShape"]=O,O._fireAndBubble(B.pointerdown,{evt:L,pointerId:ot.id}),lt=!0;const D=L.type.indexOf("touch")>=0;O.preventDefault()&&L.cancelable&&D&&L.preventDefault()}),lt||this._fire(B.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(L){const B=V(L.type),z=Y(L.type);if(!B)return;s.DD.isDragging&&s.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L);var lt=!s.DD.isDragging||a.Konva.hitOnDragEnabled;if(!lt)return;var ot={};let O=!1;var D=this._getTargetShape(z);this._changedPointerPositions.forEach(H=>{const j=l.getCapturedShape(H.id)||this.getIntersection(H),W=H.id,X={evt:L,pointerId:W};var Z=D!==j;if(Z&&D&&(D._fireAndBubble(B.pointerout,te({},X),j),D._fireAndBubble(B.pointerleave,te({},X),j)),j){if(ot[j._id])return;ot[j._id]=!0}j&&j.isListening()?(O=!0,Z&&(j._fireAndBubble(B.pointerover,te({},X),D),j._fireAndBubble(B.pointerenter,te({},X),D),this[z+"targetShape"]=j),j._fireAndBubble(B.pointermove,te({},X))):D&&(this._fire(B.pointerover,{evt:L,target:this,currentTarget:this,pointerId:W}),this[z+"targetShape"]=null)}),O||this._fire(B.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const B=V(L.type),z=Y(L.type);if(!B)return;this.setPointersPositions(L);const lt=this[z+"ClickStartShape"],ot=this[z+"ClickEndShape"];var O={};let D=!1;this._changedPointerPositions.forEach(H=>{const j=l.getCapturedShape(H.id)||this.getIntersection(H);if(j){if(j.releaseCapture(H.id),O[j._id])return;O[j._id]=!0}const W=H.id,X={evt:L,pointerId:W};let Z=!1;a.Konva["_"+z+"InDblClickWindow"]?(Z=!0,clearTimeout(this[z+"DblTimeout"])):s.DD.justDragged||(a.Konva["_"+z+"InDblClickWindow"]=!0,clearTimeout(this[z+"DblTimeout"])),this[z+"DblTimeout"]=setTimeout(function(){a.Konva["_"+z+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),j&&j.isListening()?(D=!0,this[z+"ClickEndShape"]=j,j._fireAndBubble(B.pointerup,te({},X)),a.Konva["_"+z+"ListenClick"]&&lt&&lt===j&&(j._fireAndBubble(B.pointerclick,te({},X)),Z&&ot&&ot===j&&j._fireAndBubble(B.pointerdblclick,te({},X)))):(this[z+"ClickEndShape"]=null,a.Konva["_"+z+"ListenClick"]&&this._fire(B.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:W}),Z&&this._fire(B.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:W}))}),D||this._fire(B.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+z+"ListenClick"]=!1,L.cancelable&&z!=="touch"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);var B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(k,{evt:L}):this._fire(k,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);var B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(N,{evt:L}):this._fire(N,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const B=l.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());B&&B._fireAndBubble(C,l.createEvent(L)),l.releaseCapture(L.pointerId)}_lostpointercapture(L){l.releaseCapture(L.pointerId)}setPointersPositions(L){var B=this._getContentPosition(),z=null,lt=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,ot=>{this._pointerPositions.push({id:ot.identifier,x:(ot.clientX-B.left)/B.scaleX,y:(ot.clientY-B.top)/B.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,ot=>{this._changedPointerPositions.push({id:ot.identifier,x:(ot.clientX-B.left)/B.scaleX,y:(ot.clientY-B.top)/B.scaleY})})):(z=(L.clientX-B.left)/B.scaleX,lt=(L.clientY-B.top)/B.scaleY,this.pointerPos={x:z,y:lt},this._pointerPositions=[{x:z,y:lt,id:e.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:z,y:lt,id:e.Util._getFirstPointerId(L)}])}_setPointerPosition(L){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new n.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new n.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!a.Konva.isBrowser){var L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}t.Stage=tt,tt.prototype.nodeType=u,(0,o._registerNode)(tt),r.Factory.addGetterSetter(tt,"container")}(Mn)),Mn}var fr={},On={},qa;function Mt(){return qa||(qa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ft(),r=Pt(),i=ut(),a=Tt(),n=dt(),s=ft(),o=Sh();var l="hasShadow",u="shadowRGBA",_="patternImage",p="linearGradient",m="radialGradient";let v;function d(){return v||(v=r.Util.createCanvasElement().getContext("2d"),v)}t.shapes={};function y(E){const P=this.attrs.fillRule;P?E.fill(P):E.fill()}function S(E){E.stroke()}function x(E){E.fill()}function c(E){E.stroke()}function h(){this._clearCache(l)}function g(){this._clearCache(u)}function C(){this._clearCache(_)}function A(){this._clearCache(p)}function M(){this._clearCache(m)}class w extends a.Node{constructor(P){super(P);let R;for(;R=r.Util.getRandomColor(),!(R&&!(R in t.shapes)););this.colorKey=R,t.shapes[R]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(_,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var P=d();const R=P.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(R&&R.setTransform){const k=new r.Transform;k.translate(this.fillPatternX(),this.fillPatternY()),k.rotate(e.Konva.getAngle(this.fillPatternRotation())),k.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),k.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const f=k.getMatrix(),b=typeof DOMMatrix=="undefined"?{a:f[0],b:f[1],c:f[2],d:f[3],e:f[4],f:f[5]}:new DOMMatrix(f);R.setTransform(b)}return R}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){var P=this.fillLinearGradientColorStops();if(P){for(var R=d(),k=this.fillLinearGradientStartPoint(),f=this.fillLinearGradientEndPoint(),b=R.createLinearGradient(k.x,k.y,f.x,f.y),T=0;T<P.length;T+=2)b.addColorStop(P[T],P[T+1]);return b}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){var P=this.fillRadialGradientColorStops();if(P){for(var R=d(),k=this.fillRadialGradientStartPoint(),f=this.fillRadialGradientEndPoint(),b=R.createRadialGradient(k.x,k.y,this.fillRadialGradientStartRadius(),f.x,f.y,this.fillRadialGradientEndRadius()),T=0;T<P.length;T+=2)b.addColorStop(P[T],P[T+1]);return b}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var P=r.Util.colorToRGBA(this.shadowColor());if(P)return"rgba("+P.r+","+P.g+","+P.b+","+P.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const P=this.hitStrokeWidth();return P==="auto"?this.hasStroke():this.strokeEnabled()&&!!P}intersects(P){var R=this.getStage();if(!R)return!1;const k=R.bufferHitCanvas;return k.getContext().clear(),this.drawHit(k,void 0,!0),k.context.getImageData(Math.round(P.x),Math.round(P.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(P){var R;if(!this.getStage()||!((R=this.attrs.perfectDrawEnabled)!==null&&R!==void 0?R:!0))return!1;const f=P||this.hasFill(),b=this.hasStroke(),T=this.getAbsoluteOpacity()!==1;if(f&&b&&T)return!0;const F=this.hasShadow(),N=this.shadowForStrokeEnabled();return!!(f&&b&&F&&N)}setStrokeHitEnabled(P){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),P?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var P=this.size();return{x:this._centroid?-P.width/2:0,y:this._centroid?-P.height/2:0,width:P.width,height:P.height}}getClientRect(P={}){const R=P.skipTransform,k=P.relativeTo,f=this.getSelfRect(),T=!P.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,F=f.width+T,N=f.height+T,I=!P.skipShadow&&this.hasShadow(),U=I?this.shadowOffsetX():0,G=I?this.shadowOffsetY():0,Y=F+Math.abs(U),V=N+Math.abs(G),K=I&&this.shadowBlur()||0,Q=Y+K*2,tt=V+K*2,rt={width:Q,height:tt,x:-(T/2+K)+Math.min(U,0)+f.x,y:-(T/2+K)+Math.min(G,0)+f.y};return R?rt:this._transformedRect(rt,k)}drawScene(P,R){var k=this.getLayer(),f=P||k.getCanvas(),b=f.getContext(),T=this._getCanvasCache(),F=this.getSceneFunc(),N=this.hasShadow(),I,U,G,Y=f.isCache,V=R===this;if(!this.isVisible()&&!V)return this;if(T){b.save();var K=this.getAbsoluteTransform(R).getMatrix();return b.transform(K[0],K[1],K[2],K[3],K[4],K[5]),this._drawCachedSceneCanvas(b),b.restore(),this}if(!F)return this;if(b.save(),this._useBufferCanvas()&&!Y){I=this.getStage(),U=I.bufferCanvas,G=U.getContext(),G.clear(),G.save(),G._applyLineJoin(this);var Q=this.getAbsoluteTransform(R).getMatrix();G.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),F.call(this,G,this),G.restore();var tt=U.pixelRatio;N&&b._applyShadow(this),b._applyOpacity(this),b._applyGlobalCompositeOperation(this),b.drawImage(U._canvas,0,0,U.width/tt,U.height/tt)}else{if(b._applyLineJoin(this),!V){var Q=this.getAbsoluteTransform(R).getMatrix();b.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),b._applyOpacity(this),b._applyGlobalCompositeOperation(this)}N&&b._applyShadow(this),F.call(this,b,this)}return b.restore(),this}drawHit(P,R,k=!1){if(!this.shouldDrawHit(R,k))return this;var f=this.getLayer(),b=P||f.hitCanvas,T=b&&b.getContext(),F=this.hitFunc()||this.sceneFunc(),N=this._getCanvasCache(),I=N&&N.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),I){T.save();var U=this.getAbsoluteTransform(R).getMatrix();return T.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(T),T.restore(),this}if(!F)return this;if(T.save(),T._applyLineJoin(this),!(this===R)){var Y=this.getAbsoluteTransform(R).getMatrix();T.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}return F.call(this,T,this),T.restore(),this}drawHitFromCache(P=0){var R=this._getCanvasCache(),k=this._getCachedSceneCanvas(),f=R.hit,b=f.getContext(),T=f.getWidth(),F=f.getHeight(),N,I,U,G,Y,V;b.clear(),b.drawImage(k._canvas,0,0,T,F);try{for(N=b.getImageData(0,0,T,F),I=N.data,U=I.length,G=r.Util._hexToRgb(this.colorKey),Y=0;Y<U;Y+=4)V=I[Y+3],V>P?(I[Y]=G.r,I[Y+1]=G.g,I[Y+2]=G.b,I[Y+3]=255):I[Y+3]=0;b.putImageData(N,0,0)}catch(K){r.Util.error("Unable to draw hit graph from cached scene canvas. "+K.message)}return this}hasPointerCapture(P){return o.hasPointerCapture(P,this)}setPointerCapture(P){o.setPointerCapture(P,this)}releaseCapture(P){o.releaseCapture(P,this)}}t.Shape=w,w.prototype._fillFunc=y,w.prototype._strokeFunc=S,w.prototype._fillFuncHit=x,w.prototype._strokeFuncHit=c,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,s._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",h),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",g),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",A),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),i.Factory.addGetterSetter(w,"stroke",void 0,(0,n.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"strokeWidth",2,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,n.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,n.getBooleanValidator)()),i.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,n.getBooleanValidator)()),i.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,n.getBooleanValidator)()),i.Factory.addGetterSetter(w,"lineJoin"),i.Factory.addGetterSetter(w,"lineCap"),i.Factory.addGetterSetter(w,"sceneFunc"),i.Factory.addGetterSetter(w,"hitFunc"),i.Factory.addGetterSetter(w,"dash"),i.Factory.addGetterSetter(w,"dashOffset",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowColor",void 0,(0,n.getStringValidator)()),i.Factory.addGetterSetter(w,"shadowBlur",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOpacity",1,(0,n.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternImage"),i.Factory.addGetterSetter(w,"fill",void 0,(0,n.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"fillPatternX",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternY",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(w,"fillEnabled",!0),i.Factory.addGetterSetter(w,"strokeEnabled",!0),i.Factory.addGetterSetter(w,"shadowEnabled",!0),i.Factory.addGetterSetter(w,"dashEnabled",!0),i.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(w,"fillPriority","color"),i.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,n.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,n.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(w,"fillPatternRotation",0),i.Factory.addGetterSetter(w,"fillRule",void 0,(0,n.getStringValidator)()),i.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(On)),On}var Ka;function Ch(){if(Ka)return fr;Ka=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.Layer=void 0;const t=Pt(),e=_n(),r=Tt(),i=ut(),a=vn(),n=dt(),s=Mt(),o=ft();var l="#",u="beforeDraw",_="draw",p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],m=p.length;let v=class extends e.Container{constructor(y){super(y),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);var S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),y<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[y+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var y=r.Node.prototype.moveUp.call(this);if(!y)return!1;var S=this.getStage();return!S||!S.content?!1:(S.content.removeChild(this.getNativeCanvasElement()),this.index<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[this.index+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var y=this.getStage();if(y){var S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var y=this.getStage();if(y){var S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var y=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),y&&y.parentNode&&t.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:S}){return this.canvas.setSize(y,S),this.hitCanvas.setSize(y,S),this._setSmoothEnabled(),this}_validateAdd(y){var S=y.getType();S!=="Group"&&S!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;for(var S=1,x=!1;;){for(let c=0;c<m;c++){const h=p[c],g=this._getIntersection({x:y.x+h.x*S,y:y.y+h.y*S}),C=g.shape;if(C)return C;if(x=!!g.antialiased,!g.antialiased)break}if(x)S+=1;else return null}}_getIntersection(y){const S=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(y.x*S),Math.round(y.y*S),1,1).data,c=x[3];if(c===255){const h=t.Util._rgbToHex(x[0],x[1],x[2]),g=s.shapes[l+h];return g?{shape:g}:{antialiased:!0}}else if(c>0)return{antialiased:!0};return{}}drawScene(y,S){var x=this.getLayer(),c=y||x&&x.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&c.getContext().clear(),e.Container.prototype.drawScene.call(this,c,S),this._fire(_,{node:this}),this}drawHit(y,S){var x=this.getLayer(),c=y||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,c,S),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var y=this.parent,S=!!this.hitCanvas._canvas.parentNode;S?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return fr.Layer=v,v.prototype.nodeType="Layer",(0,o._registerNode)(v),i.Factory.addGetterSetter(v,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(v,"clearBeforeDraw",!0),i.Factory.addGetterSetter(v,"hitGraphEnabled",!0,(0,n.getBooleanValidator)()),fr}var dr={},Wa;function pd(){if(Wa)return dr;Wa=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.FastLayer=void 0;const t=Pt(),e=Ch(),r=ft();let i=class extends e.Layer{constructor(n){super(n),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return dr.FastLayer=i,i.prototype.nodeType="FastLayer",(0,r._registerNode)(i),dr}var gr={},za;function Us(){if(za)return gr;za=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.Group=void 0;const t=Pt(),e=_n(),r=ft();let i=class extends e.Container{_validateAdd(n){var s=n.getType();s!=="Group"&&s!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return gr.Group=i,i.prototype.nodeType="Group",(0,r._registerNode)(i),gr}var pr={},Ya;function Bs(){if(Ya)return pr;Ya=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.Animation=void 0;const t=ft(),e=Pt(),r=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class ze{constructor(n,s){this.id=ze.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=n,this.setLayers(s)}setLayers(n){let s=[];return n&&(s=Array.isArray(n)?n:[n]),this.layers=s,this}getLayers(){return this.layers}addLayer(n){const s=this.layers,o=s.length;for(let l=0;l<o;l++)if(s[l]._id===n._id)return!1;return this.layers.push(n),!0}isRunning(){const s=ze.animations,o=s.length;for(let l=0;l<o;l++)if(s[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),ze._addAnimation(this),this}stop(){return ze._removeAnimation(this),this}_updateFrameObject(n){this.frame.timeDiff=n-this.frame.lastTime,this.frame.lastTime=n,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(n){this.animations.push(n),this._handleAnimation()}static _removeAnimation(n){const s=n.id,o=this.animations,l=o.length;for(let u=0;u<l;u++)if(o[u].id===s){this.animations.splice(u,1);break}}static _runFrames(){const n={},s=this.animations;for(let o=0;o<s.length;o++){const l=s[o],u=l.layers,_=l.func;l._updateFrameObject(r());const p=u.length;let m;if(_?m=_.call(l,l.frame)!==!1:m=!0,!!m)for(let v=0;v<p;v++){const d=u[v];d._id!==void 0&&(n[d._id]=d)}}for(let o in n)n.hasOwnProperty(o)&&n[o].batchDraw()}static _animationLoop(){const n=ze;n.animations.length?(n._runFrames(),e.Util.requestAnimFrame(n._animationLoop)):n.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return pr.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,pr}var kn={},$a;function vd(){return $a||($a=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Pt(),r=Bs(),i=Tt(),a=ft();var n={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,l=3,u=0,_=["fill","stroke","shadowColor"];class p{constructor(d,y,S,x,c,h,g){this.prop=d,this.propFunc=y,this.begin=x,this._pos=x,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=g,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=S,this._change=c-this.begin,this.pause()}fire(d){var y=this[d];y&&y()}setTime(d){d>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():d<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=d,this.update())}getTime(){return this._time}setPosition(d){this.prevPos=this._pos,this.propFunc(d),this._pos=d}getPosition(d){return d===void 0&&(d=this._time),this.func(d,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(d){this.pause(),this._time=d,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var d=this.getTimer()-this._startTime;this.state===o?this.setTime(d):this.state===l&&this.setTime(this.duration-d)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(d){var y=this,S=d.node,x=S._id,c,h=d.easing||t.Easings.Linear,g=!!d.yoyo,C;typeof d.duration=="undefined"?c=.3:d.duration===0?c=.001:c=d.duration,this.node=S,this._id=u++;var A=S.getLayer()||(S instanceof a.Konva.Stage?S.getLayers():null);A||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){y.tween.onEnterFrame()},A),this.tween=new p(C,function(M){y._tweenFunc(M)},h,0,1,c*1e3,g),this._addListeners(),m.attrs[x]||(m.attrs[x]={}),m.attrs[x][this._id]||(m.attrs[x][this._id]={}),m.tweens[x]||(m.tweens[x]={});for(C in d)n[C]===void 0&&this._addAttr(C,d[C]);this.reset(),this.onFinish=d.onFinish,this.onReset=d.onReset,this.onUpdate=d.onUpdate}_addAttr(d,y){var S=this.node,x=S._id,c,h,g,C,A,M,w,E;if(g=m.tweens[x][d],g&&delete m.attrs[x][g][d],c=S.getAttr(d),e.Util._isArray(y))if(h=[],A=Math.max(y.length,c.length),d==="points"&&y.length!==c.length&&(y.length>c.length?(w=c,c=e.Util._prepareArrayForTween(c,y,S.closed())):(M=y,y=e.Util._prepareArrayForTween(y,c,S.closed()))),d.indexOf("fill")===0)for(C=0;C<A;C++)if(C%2===0)h.push(y[C]-c[C]);else{var P=e.Util.colorToRGBA(c[C]);E=e.Util.colorToRGBA(y[C]),c[C]=P,h.push({r:E.r-P.r,g:E.g-P.g,b:E.b-P.b,a:E.a-P.a})}else for(C=0;C<A;C++)h.push(y[C]-c[C]);else _.indexOf(d)!==-1?(c=e.Util.colorToRGBA(c),E=e.Util.colorToRGBA(y),h={r:E.r-c.r,g:E.g-c.g,b:E.b-c.b,a:E.a-c.a}):h=y-c;m.attrs[x][this._id][d]={start:c,diff:h,end:y,trueEnd:M,trueStart:w},m.tweens[x][d]=this._id}_tweenFunc(d){var y=this.node,S=m.attrs[y._id][this._id],x,c,h,g,C,A,M,w;for(x in S){if(c=S[x],h=c.start,g=c.diff,w=c.end,e.Util._isArray(h))if(C=[],M=Math.max(h.length,w.length),x.indexOf("fill")===0)for(A=0;A<M;A++)A%2===0?C.push((h[A]||0)+g[A]*d):C.push("rgba("+Math.round(h[A].r+g[A].r*d)+","+Math.round(h[A].g+g[A].g*d)+","+Math.round(h[A].b+g[A].b*d)+","+(h[A].a+g[A].a*d)+")");else for(A=0;A<M;A++)C.push((h[A]||0)+g[A]*d);else _.indexOf(x)!==-1?C="rgba("+Math.round(h.r+g.r*d)+","+Math.round(h.g+g.g*d)+","+Math.round(h.b+g.b*d)+","+(h.a+g.a*d)+")":C=h+g*d;y.setAttr(x,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var d=this.node,y=m.attrs[d._id][this._id];y.points&&y.points.trueEnd&&d.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var d=this.node,y=m.attrs[d._id][this._id];y.points&&y.points.trueStart&&d.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(d){return this.tween.seek(d*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var d=this.node._id,y=this._id,S=m.tweens[d],x;this.pause();for(x in S)delete m.tweens[d][x];delete m.attrs[d][y]}}t.Tween=m,m.attrs={},m.tweens={},i.Node.prototype.to=function(v){var d=v.onFinish;v.node=this,v.onFinish=function(){this.destroy(),d&&d()};var y=new m(v);y.play()},t.Easings={BackEaseIn(v,d,y,S){var x=1.70158;return y*(v/=S)*v*((x+1)*v-x)+d},BackEaseOut(v,d,y,S){var x=1.70158;return y*((v=v/S-1)*v*((x+1)*v+x)+1)+d},BackEaseInOut(v,d,y,S){var x=1.70158;return(v/=S/2)<1?y/2*(v*v*(((x*=1.525)+1)*v-x))+d:y/2*((v-=2)*v*(((x*=1.525)+1)*v+x)+2)+d},ElasticEaseIn(v,d,y,S,x,c){var h=0;return v===0?d:(v/=S)===1?d+y:(c||(c=S*.3),!x||x<Math.abs(y)?(x=y,h=c/4):h=c/(2*Math.PI)*Math.asin(y/x),-(x*Math.pow(2,10*(v-=1))*Math.sin((v*S-h)*(2*Math.PI)/c))+d)},ElasticEaseOut(v,d,y,S,x,c){var h=0;return v===0?d:(v/=S)===1?d+y:(c||(c=S*.3),!x||x<Math.abs(y)?(x=y,h=c/4):h=c/(2*Math.PI)*Math.asin(y/x),x*Math.pow(2,-10*v)*Math.sin((v*S-h)*(2*Math.PI)/c)+y+d)},ElasticEaseInOut(v,d,y,S,x,c){var h=0;return v===0?d:(v/=S/2)===2?d+y:(c||(c=S*(.3*1.5)),!x||x<Math.abs(y)?(x=y,h=c/4):h=c/(2*Math.PI)*Math.asin(y/x),v<1?-.5*(x*Math.pow(2,10*(v-=1))*Math.sin((v*S-h)*(2*Math.PI)/c))+d:x*Math.pow(2,-10*(v-=1))*Math.sin((v*S-h)*(2*Math.PI)/c)*.5+y+d)},BounceEaseOut(v,d,y,S){return(v/=S)<1/2.75?y*(7.5625*v*v)+d:v<2/2.75?y*(7.5625*(v-=1.5/2.75)*v+.75)+d:v<2.5/2.75?y*(7.5625*(v-=2.25/2.75)*v+.9375)+d:y*(7.5625*(v-=2.625/2.75)*v+.984375)+d},BounceEaseIn(v,d,y,S){return y-t.Easings.BounceEaseOut(S-v,0,y,S)+d},BounceEaseInOut(v,d,y,S){return v<S/2?t.Easings.BounceEaseIn(v*2,0,y,S)*.5+d:t.Easings.BounceEaseOut(v*2-S,0,y,S)*.5+y*.5+d},EaseIn(v,d,y,S){return y*(v/=S)*v+d},EaseOut(v,d,y,S){return-y*(v/=S)*(v-2)+d},EaseInOut(v,d,y,S){return(v/=S/2)<1?y/2*v*v+d:-y/2*(--v*(v-2)-1)+d},StrongEaseIn(v,d,y,S){return y*(v/=S)*v*v*v*v+d},StrongEaseOut(v,d,y,S){return y*((v=v/S-1)*v*v*v*v+1)+d},StrongEaseInOut(v,d,y,S){return(v/=S/2)<1?y/2*v*v*v*v*v+d:y/2*((v-=2)*v*v*v*v+2)+d},Linear(v,d,y,S){return y*v/S+d}}}(kn)),kn}var Xa;function _d(){return Xa||(Xa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ft(),r=Pt(),i=Tt(),a=_n(),n=gd(),s=Ch(),o=pd(),l=Us(),u=Gs(),_=Mt(),p=Bs(),m=vd(),v=bh(),d=vn();t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:a.Container,Stage:n.Stage,stages:n.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:u.DD,Shape:_.Shape,shapes:_.shapes,Animation:p.Animation,Tween:m.Tween,Easings:m.Easings,Context:v.Context,Canvas:d.Canvas}),t.default=t.Konva}(Tn)),Tn}var vr={},Ja;function md(){if(Ja)return vr;Ja=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.Arc=void 0;const t=ut(),e=Mt(),r=ft(),i=dt(),a=ft();let n=class extends e.Shape{_sceneFunc(o){var l=r.Konva.getAngle(this.angle()),u=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,l,u),o.arc(0,0,this.innerRadius(),l,0,!u),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),_=r.Konva.getAngle(u?360-this.angle():this.angle()),p=Math.cos(Math.min(_,Math.PI)),m=1,v=Math.sin(Math.min(Math.max(Math.PI,_),3*Math.PI/2)),d=Math.sin(Math.min(_,Math.PI/2)),y=p*(p>0?o:l),S=m*l,x=v*(v>0?o:l),c=d*(d>0?l:o);return{x:y,y:u?-1*c:x,width:S-y,height:c-x}}};return vr.Arc=n,n.prototype._centroid=!0,n.prototype.className="Arc",n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(n),t.Factory.addGetterSetter(n,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"outerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clockwise",!1,(0,i.getBooleanValidator)()),vr}var _r={},mr={},Qa;function wh(){if(Qa)return mr;Qa=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.Line=void 0;const t=ut(),e=Mt(),r=dt(),i=ft();function a(o,l,u,_,p,m,v){var d=Math.sqrt(Math.pow(u-o,2)+Math.pow(_-l,2)),y=Math.sqrt(Math.pow(p-u,2)+Math.pow(m-_,2)),S=v*d/(d+y),x=v*y/(d+y),c=u-S*(p-o),h=_-S*(m-l),g=u+x*(p-o),C=_+x*(m-l);return[c,h,g,C]}function n(o,l){var u=o.length,_=[],p,m;for(p=2;p<u-2;p+=2)m=a(o[p-2],o[p-1],o[p],o[p+1],o[p+2],o[p+3],l),!isNaN(m[0])&&(_.push(m[0]),_.push(m[1]),_.push(o[p]),_.push(o[p+1]),_.push(m[2]),_.push(m[3]));return _}let s=class extends e.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){var u=this.points(),_=u.length,p=this.tension(),m=this.closed(),v=this.bezier(),d,y,S;if(_){if(l.beginPath(),l.moveTo(u[0],u[1]),p!==0&&_>4){for(d=this.getTensionPoints(),y=d.length,S=m?0:4,m||l.quadraticCurveTo(d[0],d[1],d[2],d[3]);S<y-2;)l.bezierCurveTo(d[S++],d[S++],d[S++],d[S++],d[S++],d[S++]);m||l.quadraticCurveTo(d[y-2],d[y-1],u[_-2],u[_-1])}else if(v)for(S=2;S<_;)l.bezierCurveTo(u[S++],u[S++],u[S++],u[S++],u[S++],u[S++]);else for(S=2;S<_;S+=2)l.lineTo(u[S],u[S+1]);m?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():n(this.points(),this.tension())}_getTensionPointsClosed(){var l=this.points(),u=l.length,_=this.tension(),p=a(l[u-2],l[u-1],l[0],l[1],l[2],l[3],_),m=a(l[u-4],l[u-3],l[u-2],l[u-1],l[0],l[1],_),v=n(l,_),d=[p[2],p[3]].concat(v).concat([m[0],m[1],l[u-2],l[u-1],m[2],m[3],p[0],p[1],l[0],l[1]]);return d}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();for(var u=l[0],_=l[0],p=l[1],m=l[1],v,d,y=0;y<l.length/2;y++)v=l[y*2],d=l[y*2+1],u=Math.min(u,v),_=Math.max(_,v),p=Math.min(p,d),m=Math.max(m,d);return{x:u,y:p,width:_-u,height:m-p}}};return mr.Line=s,s.prototype.className="Line",s.prototype._attrsAffectingSize=["points","bezier","tension"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"closed",!1),t.Factory.addGetterSetter(s,"bezier",!1),t.Factory.addGetterSetter(s,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"points",[],(0,r.getNumberArrayValidator)()),mr}var yr={},Nn={},Za;function yd(){return Za||(Za=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,o,l)=>{let u,_,p;u=l/2,_=0;for(let v=0;v<20;v++)p=u*t.tValues[20][v]+u,_+=t.cValues[20][v]*i(s,o,p);return u*_};t.getCubicArcLength=e;const r=(s,o,l)=>{l===void 0&&(l=1);const u=s[0]-2*s[1]+s[2],_=o[0]-2*o[1]+o[2],p=2*s[1]-2*s[0],m=2*o[1]-2*o[0],v=4*(u*u+_*_),d=4*(u*p+_*m),y=p*p+m*m;if(v===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const S=d/(2*v),x=y/v,c=l+S,h=x-S*S,g=c*c+h>0?Math.sqrt(c*c+h):0,C=S*S+h>0?Math.sqrt(S*S+h):0,A=S+Math.sqrt(S*S+h)!==0?h*Math.log(Math.abs((c+g)/(S+C))):0;return Math.sqrt(v)/2*(c*g-S*C+A)};t.getQuadraticArcLength=r;function i(s,o,l){const u=a(1,l,s),_=a(1,l,o),p=u*u+_*_;return Math.sqrt(p)}const a=(s,o,l)=>{const u=l.length-1;let _,p;if(u===0)return 0;if(s===0){p=0;for(let m=0;m<=u;m++)p+=t.binomialCoefficients[u][m]*Math.pow(1-o,u-m)*Math.pow(o,m)*l[m];return p}else{_=new Array(u);for(let m=0;m<u;m++)_[m]=u*(l[m+1]-l[m]);return a(s-1,o,_)}},n=(s,o,l)=>{let u=1,_=s/o,p=(s-l(_))/o,m=0;for(;u>.001;){const v=l(_+p),d=Math.abs(s-v)/o;if(d<u)u=d,_+=p;else{const y=l(_-p),S=Math.abs(s-y)/o;S<u?(u=S,_-=p):p/=2}if(m++,m>500)break}return _};t.t2length=n}(Nn)),Nn}var to;function Vs(){if(to)return yr;to=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.Path=void 0;const t=ut(),e=Mt(),r=ft(),i=yd();let a=class It extends e.Shape{constructor(s){super(s),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=It.parsePathData(this.data()),this.pathLength=It.getPathLength(this.dataArray)}_sceneFunc(s){var o=this.dataArray;s.beginPath();for(var l=!1,u=0;u<o.length;u++){var _=o[u].command,p=o[u].points;switch(_){case"L":s.lineTo(p[0],p[1]);break;case"M":s.moveTo(p[0],p[1]);break;case"C":s.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5]);break;case"Q":s.quadraticCurveTo(p[0],p[1],p[2],p[3]);break;case"A":var m=p[0],v=p[1],d=p[2],y=p[3],S=p[4],x=p[5],c=p[6],h=p[7],g=d>y?d:y,C=d>y?1:d/y,A=d>y?y/d:1;s.translate(m,v),s.rotate(c),s.scale(C,A),s.arc(0,0,g,S,S+x,1-h),s.scale(1/C,1/A),s.rotate(-c),s.translate(-m,-v);break;case"z":l=!0,s.closePath();break}}!l&&!this.hasFill()?s.strokeShape(this):s.fillStrokeShape(this)}getSelfRect(){var s=[];this.dataArray.forEach(function(d){if(d.command==="A"){var y=d.points[4],S=d.points[5],x=d.points[4]+S,c=Math.PI/180;if(Math.abs(y-x)<c&&(c=Math.abs(y-x)),S<0)for(let h=y-c;h>x;h-=c){const g=It.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],h,0);s.push(g.x,g.y)}else for(let h=y+c;h<x;h+=c){const g=It.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],h,0);s.push(g.x,g.y)}}else if(d.command==="C")for(let h=0;h<=1;h+=.01){const g=It.getPointOnCubicBezier(h,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);s.push(g.x,g.y)}else s=s.concat(d.points)});for(var o=s[0],l=s[0],u=s[1],_=s[1],p,m,v=0;v<s.length/2;v++)p=s[v*2],m=s[v*2+1],isNaN(p)||(o=Math.min(o,p),l=Math.max(l,p)),isNaN(m)||(u=Math.min(u,m),_=Math.max(_,m));return{x:o,y:u,width:l-o,height:_-u}}getLength(){return this.pathLength}getPointAtLength(s){return It.getPointAtLengthOfDataArray(s,this.dataArray)}static getLineLength(s,o,l,u){return Math.sqrt((l-s)*(l-s)+(u-o)*(u-o))}static getPathLength(s){let o=0;for(var l=0;l<s.length;++l)o+=s[l].pathLength;return o}static getPointAtLengthOfDataArray(s,o){var l,u=0,_=o.length;if(!_)return null;for(;u<_&&s>o[u].pathLength;)s-=o[u].pathLength,++u;if(u===_)return l=o[u-1].points.slice(-2),{x:l[0],y:l[1]};if(s<.01)return l=o[u].points.slice(0,2),{x:l[0],y:l[1]};var p=o[u],m=p.points;switch(p.command){case"L":return It.getPointOnLine(s,p.start.x,p.start.y,m[0],m[1]);case"C":return It.getPointOnCubicBezier((0,i.t2length)(s,It.getPathLength(o),g=>(0,i.getCubicArcLength)([p.start.x,m[0],m[2],m[4]],[p.start.y,m[1],m[3],m[5]],g)),p.start.x,p.start.y,m[0],m[1],m[2],m[3],m[4],m[5]);case"Q":return It.getPointOnQuadraticBezier((0,i.t2length)(s,It.getPathLength(o),g=>(0,i.getQuadraticArcLength)([p.start.x,m[0],m[2]],[p.start.y,m[1],m[3]],g)),p.start.x,p.start.y,m[0],m[1],m[2],m[3]);case"A":var v=m[0],d=m[1],y=m[2],S=m[3],x=m[4],c=m[5],h=m[6];return x+=c*s/p.pathLength,It.getPointOnEllipticalArc(v,d,y,S,x,h)}return null}static getPointOnLine(s,o,l,u,_,p,m){p===void 0&&(p=o),m===void 0&&(m=l);var v=(_-l)/(u-o+1e-8),d=Math.sqrt(s*s/(1+v*v));u<o&&(d*=-1);var y=v*d,S;if(u===o)S={x:p,y:m+y};else if((m-l)/(p-o+1e-8)===v)S={x:p+d,y:m+y};else{var x,c,h=this.getLineLength(o,l,u,_),g=(p-o)*(u-o)+(m-l)*(_-l);g=g/(h*h),x=o+g*(u-o),c=l+g*(_-l);var C=this.getLineLength(p,m,x,c),A=Math.sqrt(s*s-C*C);d=Math.sqrt(A*A/(1+v*v)),u<o&&(d*=-1),y=v*d,S={x:x+d,y:c+y}}return S}static getPointOnCubicBezier(s,o,l,u,_,p,m,v,d){function y(C){return C*C*C}function S(C){return 3*C*C*(1-C)}function x(C){return 3*C*(1-C)*(1-C)}function c(C){return(1-C)*(1-C)*(1-C)}var h=v*y(s)+p*S(s)+u*x(s)+o*c(s),g=d*y(s)+m*S(s)+_*x(s)+l*c(s);return{x:h,y:g}}static getPointOnQuadraticBezier(s,o,l,u,_,p,m){function v(c){return c*c}function d(c){return 2*c*(1-c)}function y(c){return(1-c)*(1-c)}var S=p*v(s)+u*d(s)+o*y(s),x=m*v(s)+_*d(s)+l*y(s);return{x:S,y:x}}static getPointOnEllipticalArc(s,o,l,u,_,p){var m=Math.cos(p),v=Math.sin(p),d={x:l*Math.cos(_),y:u*Math.sin(_)};return{x:s+(d.x*m-d.y*v),y:o+(d.x*v+d.y*m)}}static parsePathData(s){if(!s)return[];var o=s,l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var u=0;u<l.length;u++)o=o.replace(new RegExp(l[u],"g"),"|"+l[u]);var _=o.split("|"),p=[],m=[],v=0,d=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,S;for(u=1;u<_.length;u++){var x=_[u],c=x.charAt(0);for(x=x.slice(1),m.length=0;S=y.exec(x);)m.push(S[0]);for(var h=[],g=0,C=m.length;g<C;g++){if(m[g]==="00"){h.push(0,0);continue}var A=parseFloat(m[g]);isNaN(A)?h.push(0):h.push(A)}for(;h.length>0&&!isNaN(h[0]);){var M="",w=[],E=v,P=d,R,k,f,b,T,F,N,I,U,G;switch(c){case"l":v+=h.shift(),d+=h.shift(),M="L",w.push(v,d);break;case"L":v=h.shift(),d=h.shift(),w.push(v,d);break;case"m":var Y=h.shift(),V=h.shift();if(v+=Y,d+=V,M="M",p.length>2&&p[p.length-1].command==="z"){for(var K=p.length-2;K>=0;K--)if(p[K].command==="M"){v=p[K].points[0]+Y,d=p[K].points[1]+V;break}}w.push(v,d),c="l";break;case"M":v=h.shift(),d=h.shift(),M="M",w.push(v,d),c="L";break;case"h":v+=h.shift(),M="L",w.push(v,d);break;case"H":v=h.shift(),M="L",w.push(v,d);break;case"v":d+=h.shift(),M="L",w.push(v,d);break;case"V":d=h.shift(),M="L",w.push(v,d);break;case"C":w.push(h.shift(),h.shift(),h.shift(),h.shift()),v=h.shift(),d=h.shift(),w.push(v,d);break;case"c":w.push(v+h.shift(),d+h.shift(),v+h.shift(),d+h.shift()),v+=h.shift(),d+=h.shift(),M="C",w.push(v,d);break;case"S":k=v,f=d,R=p[p.length-1],R.command==="C"&&(k=v+(v-R.points[2]),f=d+(d-R.points[3])),w.push(k,f,h.shift(),h.shift()),v=h.shift(),d=h.shift(),M="C",w.push(v,d);break;case"s":k=v,f=d,R=p[p.length-1],R.command==="C"&&(k=v+(v-R.points[2]),f=d+(d-R.points[3])),w.push(k,f,v+h.shift(),d+h.shift()),v+=h.shift(),d+=h.shift(),M="C",w.push(v,d);break;case"Q":w.push(h.shift(),h.shift()),v=h.shift(),d=h.shift(),w.push(v,d);break;case"q":w.push(v+h.shift(),d+h.shift()),v+=h.shift(),d+=h.shift(),M="Q",w.push(v,d);break;case"T":k=v,f=d,R=p[p.length-1],R.command==="Q"&&(k=v+(v-R.points[0]),f=d+(d-R.points[1])),v=h.shift(),d=h.shift(),M="Q",w.push(k,f,v,d);break;case"t":k=v,f=d,R=p[p.length-1],R.command==="Q"&&(k=v+(v-R.points[0]),f=d+(d-R.points[1])),v+=h.shift(),d+=h.shift(),M="Q",w.push(k,f,v,d);break;case"A":b=h.shift(),T=h.shift(),F=h.shift(),N=h.shift(),I=h.shift(),U=v,G=d,v=h.shift(),d=h.shift(),M="A",w=this.convertEndpointToCenterParameterization(U,G,v,d,N,I,b,T,F);break;case"a":b=h.shift(),T=h.shift(),F=h.shift(),N=h.shift(),I=h.shift(),U=v,G=d,v+=h.shift(),d+=h.shift(),M="A",w=this.convertEndpointToCenterParameterization(U,G,v,d,N,I,b,T,F);break}p.push({command:M||c,points:w,start:{x:E,y:P},pathLength:this.calcLength(E,P,M||c,w)})}(c==="z"||c==="Z")&&p.push({command:"z",points:[],start:void 0,pathLength:0})}return p}static calcLength(s,o,l,u){var _,p,m,v,d=It;switch(l){case"L":return d.getLineLength(s,o,u[0],u[1]);case"C":return(0,i.getCubicArcLength)([s,u[0],u[2],u[4]],[o,u[1],u[3],u[5]],1);case"Q":return(0,i.getQuadraticArcLength)([s,u[0],u[2]],[o,u[1],u[3]],1);case"A":_=0;var y=u[4],S=u[5],x=u[4]+S,c=Math.PI/180;if(Math.abs(y-x)<c&&(c=Math.abs(y-x)),p=d.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),S<0)for(v=y-c;v>x;v-=c)m=d.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],v,0),_+=d.getLineLength(p.x,p.y,m.x,m.y),p=m;else for(v=y+c;v<x;v+=c)m=d.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],v,0),_+=d.getLineLength(p.x,p.y,m.x,m.y),p=m;return m=d.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],x,0),_+=d.getLineLength(p.x,p.y,m.x,m.y),_}return 0}static convertEndpointToCenterParameterization(s,o,l,u,_,p,m,v,d){var y=d*(Math.PI/180),S=Math.cos(y)*(s-l)/2+Math.sin(y)*(o-u)/2,x=-1*Math.sin(y)*(s-l)/2+Math.cos(y)*(o-u)/2,c=S*S/(m*m)+x*x/(v*v);c>1&&(m*=Math.sqrt(c),v*=Math.sqrt(c));var h=Math.sqrt((m*m*(v*v)-m*m*(x*x)-v*v*(S*S))/(m*m*(x*x)+v*v*(S*S)));_===p&&(h*=-1),isNaN(h)&&(h=0);var g=h*m*x/v,C=h*-v*S/m,A=(s+l)/2+Math.cos(y)*g-Math.sin(y)*C,M=(o+u)/2+Math.sin(y)*g+Math.cos(y)*C,w=function(T){return Math.sqrt(T[0]*T[0]+T[1]*T[1])},E=function(T,F){return(T[0]*F[0]+T[1]*F[1])/(w(T)*w(F))},P=function(T,F){return(T[0]*F[1]<T[1]*F[0]?-1:1)*Math.acos(E(T,F))},R=P([1,0],[(S-g)/m,(x-C)/v]),k=[(S-g)/m,(x-C)/v],f=[(-1*S-g)/m,(-1*x-C)/v],b=P(k,f);return E(k,f)<=-1&&(b=Math.PI),E(k,f)>=1&&(b=0),p===0&&b>0&&(b=b-2*Math.PI),p===1&&b<0&&(b=b+2*Math.PI),[A,M,m,v,R,b,y,p]}};return yr.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(a),t.Factory.addGetterSetter(a,"data"),yr}var eo;function bd(){if(eo)return _r;eo=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.Arrow=void 0;const t=ut(),e=wh(),r=dt(),i=ft(),a=Vs();let n=class extends e.Line{_sceneFunc(o){super._sceneFunc(o);var l=Math.PI*2,u=this.points(),_=u,p=this.tension()!==0&&u.length>4;p&&(_=this.getTensionPoints());var m=this.pointerLength(),v=u.length,d,y;if(p){const c=[_[_.length-4],_[_.length-3],_[_.length-2],_[_.length-1],u[v-2],u[v-1]],h=a.Path.calcLength(_[_.length-4],_[_.length-3],"C",c),g=a.Path.getPointOnQuadraticBezier(Math.min(1,1-m/h),c[0],c[1],c[2],c[3],c[4],c[5]);d=u[v-2]-g.x,y=u[v-1]-g.y}else d=u[v-2]-u[v-4],y=u[v-1]-u[v-3];var S=(Math.atan2(y,d)+l)%l,x=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(u[v-2],u[v-1]),o.rotate(S),o.moveTo(0,0),o.lineTo(-m,x/2),o.lineTo(-m,-x/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(u[0],u[1]),p?(d=(_[0]+_[2])/2-u[0],y=(_[1]+_[3])/2-u[1]):(d=u[2]-u[0],y=u[3]-u[1]),o.rotate((Math.atan2(-y,-d)+l)%l),o.moveTo(0,0),o.lineTo(-m,x/2),o.lineTo(-m,-x/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){var l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),l=this.pointerWidth()/2;return{x:o.x-l,y:o.y-l,width:o.width+l*2,height:o.height+l*2}}};return _r.Arrow=n,n.prototype.className="Arrow",(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"pointerLength",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"pointerWidth",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"pointerAtBeginning",!1),t.Factory.addGetterSetter(n,"pointerAtEnding",!0),_r}var br={},ro;function Sd(){if(ro)return br;ro=1,Object.defineProperty(br,"__esModule",{value:!0}),br.Circle=void 0;const t=ut(),e=Mt(),r=dt(),i=ft();let a=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius()!==s/2&&this.radius(s/2)}setHeight(s){this.radius()!==s/2&&this.radius(s/2)}};return br.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),br}var Sr={},io;function Cd(){if(io)return Sr;io=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.Ellipse=void 0;const t=ut(),e=Mt(),r=dt(),i=ft();let a=class extends e.Shape{_sceneFunc(s){var o=this.radiusX(),l=this.radiusY();s.beginPath(),s.save(),o!==l&&s.scale(1,l/o),s.arc(0,0,o,0,Math.PI*2,!1),s.restore(),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(s){this.radiusX(s/2)}setHeight(s){this.radiusY(s/2)}};return Sr.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(a),t.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),t.Factory.addGetterSetter(a,"radiusX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"radiusY",0,(0,r.getNumberValidator)()),Sr}var Cr={},no;function wd(){if(no)return Cr;no=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.Image=void 0;const t=Pt(),e=ut(),r=Mt(),i=ft(),a=dt();let n=class xh extends r.Shape{constructor(o){super(o),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(o){const l=this.getWidth(),u=this.getHeight(),_=this.cornerRadius(),p=this.attrs.image;let m;if(p){const v=this.attrs.cropWidth,d=this.attrs.cropHeight;v&&d?m=[p,this.cropX(),this.cropY(),v,d,0,0,l,u]:m=[p,0,0,l,u]}(this.hasFill()||this.hasStroke()||_)&&(o.beginPath(),_?t.Util.drawRoundedRectPath(o,l,u,_):o.rect(0,0,l,u),o.closePath(),o.fillStrokeShape(this)),p&&(_&&o.clip(),o.drawImage.apply(o,m))}_hitFunc(o){var l=this.width(),u=this.height(),_=this.cornerRadius();o.beginPath(),_?t.Util.drawRoundedRectPath(o,l,u,_):o.rect(0,0,l,u),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,l;return(o=this.attrs.width)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var o,l;return(o=this.attrs.height)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(o,l,u=null){var _=t.Util.createImageElement();_.onload=function(){var p=new xh({image:_});l(p)},_.onerror=u,_.crossOrigin="Anonymous",_.src=o}};return Cr.Image=n,n.prototype.className="Image",(0,i._registerNode)(n),e.Factory.addGetterSetter(n,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(n,"image"),e.Factory.addComponentsGetterSetter(n,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(n,"cropX",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(n,"cropY",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(n,"cropWidth",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(n,"cropHeight",0,(0,a.getNumberValidator)()),Cr}var Ae={},so;function xd(){if(so)return Ae;so=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Tag=Ae.Label=void 0;const t=ut(),e=Mt(),r=Us(),i=dt(),a=ft();var n=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],s="Change.konva",o="none",l="up",u="right",_="down",p="left",m=n.length;let v=class extends r.Group{constructor(S){super(S),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(S){var x=this,c,h=function(){x._sync()};for(c=0;c<m;c++)S.on(n[c]+s,h)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var S=this.getText(),x=this.getTag(),c,h,g,C,A,M,w;if(S&&x){switch(c=S.width(),h=S.height(),g=x.pointerDirection(),C=x.pointerWidth(),w=x.pointerHeight(),A=0,M=0,g){case l:A=c/2,M=-1*w;break;case u:A=c+C,M=h/2;break;case _:A=c/2,M=h+w;break;case p:A=-1*C,M=h/2;break}x.setAttrs({x:-1*A,y:-1*M,width:c,height:h}),S.setAttrs({x:-1*A,y:-1*M})}}};Ae.Label=v,v.prototype.className="Label",(0,a._registerNode)(v);class d extends e.Shape{_sceneFunc(S){var x=this.width(),c=this.height(),h=this.pointerDirection(),g=this.pointerWidth(),C=this.pointerHeight(),A=this.cornerRadius();let M=0,w=0,E=0,P=0;typeof A=="number"?M=w=E=P=Math.min(A,x/2,c/2):(M=Math.min(A[0]||0,x/2,c/2),w=Math.min(A[1]||0,x/2,c/2),P=Math.min(A[2]||0,x/2,c/2),E=Math.min(A[3]||0,x/2,c/2)),S.beginPath(),S.moveTo(M,0),h===l&&(S.lineTo((x-g)/2,0),S.lineTo(x/2,-1*C),S.lineTo((x+g)/2,0)),S.lineTo(x-w,0),S.arc(x-w,w,w,Math.PI*3/2,0,!1),h===u&&(S.lineTo(x,(c-C)/2),S.lineTo(x+g,c/2),S.lineTo(x,(c+C)/2)),S.lineTo(x,c-P),S.arc(x-P,c-P,P,0,Math.PI/2,!1),h===_&&(S.lineTo((x+g)/2,c),S.lineTo(x/2,c+C),S.lineTo((x-g)/2,c)),S.lineTo(E,c),S.arc(E,c-E,E,Math.PI/2,Math.PI,!1),h===p&&(S.lineTo(0,(c+C)/2),S.lineTo(-1*g,c/2),S.lineTo(0,(c-C)/2)),S.lineTo(0,M),S.arc(M,M,M,Math.PI,Math.PI*3/2,!1),S.closePath(),S.fillStrokeShape(this)}getSelfRect(){var S=0,x=0,c=this.pointerWidth(),h=this.pointerHeight(),g=this.pointerDirection(),C=this.width(),A=this.height();return g===l?(x-=h,A+=h):g===_?A+=h:g===p?(S-=c*1.5,C+=c):g===u&&(C+=c*1.5),{x:S,y:x,width:C,height:A}}}return Ae.Tag=d,d.prototype.className="Tag",(0,a._registerNode)(d),t.Factory.addGetterSetter(d,"pointerDirection",o),t.Factory.addGetterSetter(d,"pointerWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(d,"pointerHeight",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(d,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Ae}var wr={},ao;function Ph(){if(ao)return wr;ao=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.Rect=void 0;const t=ut(),e=Mt(),r=ft(),i=Pt(),a=dt();let n=class extends e.Shape{_sceneFunc(o){var l=this.cornerRadius(),u=this.width(),_=this.height();o.beginPath(),l?i.Util.drawRoundedRectPath(o,u,_,l):o.rect(0,0,u,_),o.closePath(),o.fillStrokeShape(this)}};return wr.Rect=n,n.prototype.className="Rect",(0,r._registerNode)(n),t.Factory.addGetterSetter(n,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),wr}var xr={},oo;function Pd(){if(oo)return xr;oo=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.RegularPolygon=void 0;const t=ut(),e=Mt(),r=dt(),i=ft();let a=class extends e.Shape{_sceneFunc(s){const o=this._getPoints();s.beginPath(),s.moveTo(o[0].x,o[0].y);for(var l=1;l<o.length;l++)s.lineTo(o[l].x,o[l].y);s.closePath(),s.fillStrokeShape(this)}_getPoints(){const s=this.attrs.sides,o=this.attrs.radius||0,l=[];for(var u=0;u<s;u++)l.push({x:o*Math.sin(u*2*Math.PI/s),y:-1*o*Math.cos(u*2*Math.PI/s)});return l}getSelfRect(){const s=this._getPoints();var o=s[0].x,l=s[0].y,u=s[0].x,_=s[0].y;return s.forEach(p=>{o=Math.min(o,p.x),l=Math.max(l,p.x),u=Math.min(u,p.y),_=Math.max(_,p.y)}),{x:o,y:u,width:l-o,height:_-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return xr.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"sides",0,(0,r.getNumberValidator)()),xr}var Pr={},lo;function Td(){if(lo)return Pr;lo=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.Ring=void 0;const t=ut(),e=Mt(),r=dt(),i=ft();var a=Math.PI*2;let n=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,a,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),a,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Pr.Ring=n,n.prototype.className="Ring",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"outerRadius",0,(0,r.getNumberValidator)()),Pr}var Tr={},ho;function Ed(){if(ho)return Tr;ho=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Sprite=void 0;const t=ut(),e=Mt(),r=Bs(),i=dt(),a=ft();let n=class extends e.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{var l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){var l=this.animation(),u=this.frameIndex(),_=u*4,p=this.animations()[l],m=this.frameOffsets(),v=p[_+0],d=p[_+1],y=p[_+2],S=p[_+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,y,S),o.closePath(),o.fillStrokeShape(this)),x)if(m){var c=m[l],h=u*2;o.drawImage(x,v,d,y,S,c[h+0],c[h+1],y,S)}else o.drawImage(x,v,d,y,S,0,0,y,S)}_hitFunc(o){var l=this.animation(),u=this.frameIndex(),_=u*4,p=this.animations()[l],m=this.frameOffsets(),v=p[_+2],d=p[_+3];if(o.beginPath(),m){var y=m[l],S=u*2;o.rect(y[S+0],y[S+1],v,d)}else o.rect(0,0,v,d);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var o=this.frameIndex(),l=this.animation(),u=this.animations(),_=u[l],p=_.length/4;o<p-1?this.frameIndex(o+1):this.frameIndex(0)}};return Tr.Sprite=n,n.prototype.className="Sprite",(0,a._registerNode)(n),t.Factory.addGetterSetter(n,"animation"),t.Factory.addGetterSetter(n,"animations"),t.Factory.addGetterSetter(n,"frameOffsets"),t.Factory.addGetterSetter(n,"image"),t.Factory.addGetterSetter(n,"frameIndex",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"frameRate",17,(0,i.getNumberValidator)()),t.Factory.backCompat(n,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Tr}var Er={},co;function Ad(){if(co)return Er;co=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.Star=void 0;const t=ut(),e=Mt(),r=dt(),i=ft();let a=class extends e.Shape{_sceneFunc(s){var o=this.innerRadius(),l=this.outerRadius(),u=this.numPoints();s.beginPath(),s.moveTo(0,0-l);for(var _=1;_<u*2;_++){var p=_%2===0?l:o,m=p*Math.sin(_*Math.PI/u),v=-1*p*Math.cos(_*Math.PI/u);s.lineTo(m,v)}s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return Er.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"numPoints",5,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"outerRadius",0,(0,r.getNumberValidator)()),Er}var Re={},uo;function Th(){if(uo)return Re;uo=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.Text=Re.stringToArray=void 0;const t=Pt(),e=ut(),r=Mt(),i=dt(),a=ft();function n(Y){return Array.from(Y)}Re.stringToArray=n;var s="auto",o="center",l="inherit",u="justify",_="Change.konva",p="2d",m="-",v="left",d="text",y="Text",S="top",x="bottom",c="middle",h="normal",g="px ",C=" ",A="right",M="rtl",w="word",E="char",P="none",R="…",k=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],f=k.length;function b(Y){return Y.split(",").map(V=>{V=V.trim();const K=V.indexOf(" ")>=0,Q=V.indexOf('"')>=0||V.indexOf("'")>=0;return K&&!Q&&(V=`"${V}"`),V}).join(", ")}var T;function F(){return T||(T=t.Util.createCanvasElement().getContext(p),T)}function N(Y){Y.fillText(this._partialText,this._partialTextX,this._partialTextY)}function I(Y){Y.setAttr("miterLimit",2),Y.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function U(Y){return Y=Y||{},!Y.fillLinearGradientColorStops&&!Y.fillRadialGradientColorStops&&!Y.fillPatternImage&&(Y.fill=Y.fill||"black"),Y}let G=class extends r.Shape{constructor(V){super(U(V)),this._partialTextX=0,this._partialTextY=0;for(var K=0;K<f;K++)this.on(k[K]+_,this._setTextData);this._setTextData()}_sceneFunc(V){var K=this.textArr,Q=K.length;if(this.text()){var tt=this.padding(),rt=this.fontSize(),L=this.lineHeight()*rt,B=this.verticalAlign(),z=this.direction(),lt=0,ot=this.align(),O=this.getWidth(),D=this.letterSpacing(),H=this.fill(),j=this.textDecoration(),W=j.indexOf("underline")!==-1,X=j.indexOf("line-through")!==-1,Z;z=z===l?V.direction:z;var $=0,$=L/2,J=0,q=0;for(z===M&&V.setAttr("direction",z),V.setAttr("font",this._getContextFont()),V.setAttr("textBaseline",c),V.setAttr("textAlign",v),B===c?lt=(this.getHeight()-Q*L-tt*2)/2:B===x&&(lt=this.getHeight()-Q*L-tt*2),V.translate(tt,lt+tt),Z=0;Z<Q;Z++){var J=0,q=0,it=K[Z],et=it.text,st=it.width,at=it.lastInParagraph,ht,vt,gt;if(V.save(),ot===A?J+=O-st-tt*2:ot===o&&(J+=(O-st-tt*2)/2),W){V.save(),V.beginPath(),V.moveTo(J,$+q+Math.round(rt/2)),ht=et.split(" ").length-1,vt=ht===0,gt=ot===u&&!at?O-tt*2:st,V.lineTo(J+Math.round(gt),$+q+Math.round(rt/2)),V.lineWidth=rt/15;const qe=this._getLinearGradient();V.strokeStyle=qe||H,V.stroke(),V.restore()}if(X){V.save(),V.beginPath(),V.moveTo(J,$+q),ht=et.split(" ").length-1,vt=ht===0,gt=ot===u&&at&&!vt?O-tt*2:st,V.lineTo(J+Math.round(gt),$+q),V.lineWidth=rt/15;const qe=this._getLinearGradient();V.strokeStyle=qe||H,V.stroke(),V.restore()}if(z!==M&&(D!==0||ot===u)){ht=et.split(" ").length-1;for(var bt=n(et),Et=0;Et<bt.length;Et++){var Ht=bt[Et];Ht===" "&&!at&&ot===u&&(J+=(O-tt*2-st)/ht),this._partialTextX=J,this._partialTextY=$+q,this._partialText=Ht,V.fillStrokeShape(this),J+=this.measureSize(Ht).width+D}}else D!==0&&V.setAttr("letterSpacing",`${D}px`),this._partialTextX=J,this._partialTextY=$+q,this._partialText=et,V.fillStrokeShape(this);V.restore(),Q>1&&($+=L)}}}_hitFunc(V){var K=this.getWidth(),Q=this.getHeight();V.beginPath(),V.rect(0,0,K,Q),V.closePath(),V.fillStrokeShape(this)}setText(V){var K=t.Util._isString(V)?V:V==null?"":V+"";return this._setAttr(d,K),this}getWidth(){var V=this.attrs.width===s||this.attrs.width===void 0;return V?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var V=this.attrs.height===s||this.attrs.height===void 0;return V?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(V){var K=F(),Q=this.fontSize(),tt;return K.save(),K.font=this._getContextFont(),tt=K.measureText(V),K.restore(),{width:tt.width,height:Q}}_getContextFont(){return this.fontStyle()+C+this.fontVariant()+C+(this.fontSize()+g)+b(this.fontFamily())}_addTextLine(V){this.align()===u&&(V=V.trim());var Q=this._getTextWidth(V);return this.textArr.push({text:V,width:Q,lastInParagraph:!1})}_getTextWidth(V){var K=this.letterSpacing(),Q=V.length;return F().measureText(V).width+(Q?K*(Q-1):0)}_setTextData(){var V=this.text().split(`
`),K=+this.fontSize(),Q=0,tt=this.lineHeight()*K,rt=this.attrs.width,L=this.attrs.height,B=rt!==s&&rt!==void 0,z=L!==s&&L!==void 0,lt=this.padding(),ot=rt-lt*2,O=L-lt*2,D=0,H=this.wrap(),j=H!==P,W=H!==E&&j,X=this.ellipsis();this.textArr=[],F().font=this._getContextFont();for(var Z=X?this._getTextWidth(R):0,$=0,J=V.length;$<J;++$){var q=V[$],it=this._getTextWidth(q);if(B&&it>ot)for(;q.length>0;){for(var et=0,st=q.length,at="",ht=0;et<st;){var vt=et+st>>>1,gt=q.slice(0,vt+1),bt=this._getTextWidth(gt)+Z;bt<=ot?(et=vt+1,at=gt,ht=bt):st=vt}if(at){if(W){var Et,Ht=q[at.length],wi=Ht===C||Ht===m;wi&&ht<=ot?Et=at.length:Et=Math.max(at.lastIndexOf(C),at.lastIndexOf(m))+1,Et>0&&(et=Et,at=at.slice(0,et),ht=this._getTextWidth(at))}at=at.trimRight(),this._addTextLine(at),Q=Math.max(Q,ht),D+=tt;var Pe=this._shouldHandleEllipsis(D);if(Pe){this._tryToAddEllipsisToLastLine();break}if(q=q.slice(et),q=q.trimLeft(),q.length>0&&(it=this._getTextWidth(q),it<=ot)){this._addTextLine(q),D+=tt,Q=Math.max(Q,it);break}}else break}else this._addTextLine(q),D+=tt,Q=Math.max(Q,it),this._shouldHandleEllipsis(D)&&$<J-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),z&&D+tt>O)break}this.textHeight=K,this.textWidth=Q}_shouldHandleEllipsis(V){var K=+this.fontSize(),Q=this.lineHeight()*K,tt=this.attrs.height,rt=tt!==s&&tt!==void 0,L=this.padding(),B=tt-L*2,z=this.wrap(),lt=z!==P;return!lt||rt&&V+Q>B}_tryToAddEllipsisToLastLine(){var V=this.attrs.width,K=V!==s&&V!==void 0,Q=this.padding(),tt=V-Q*2,rt=this.ellipsis(),L=this.textArr[this.textArr.length-1];if(!(!L||!rt)){if(K){var B=this._getTextWidth(L.text+R)<tt;B||(L.text=L.text.slice(0,L.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(L.text+R)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const V=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,K=this.hasShadow();return V&&K?!0:super._useBufferCanvas()}};return Re.Text=G,G.prototype._fillFunc=N,G.prototype._strokeFunc=I,G.prototype.className=y,G.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,a._registerNode)(G),e.Factory.overWriteSetter(G,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(G,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(G,"direction",l),e.Factory.addGetterSetter(G,"fontFamily","Arial"),e.Factory.addGetterSetter(G,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(G,"fontStyle",h),e.Factory.addGetterSetter(G,"fontVariant",h),e.Factory.addGetterSetter(G,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(G,"align",v),e.Factory.addGetterSetter(G,"verticalAlign",S),e.Factory.addGetterSetter(G,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(G,"wrap",w),e.Factory.addGetterSetter(G,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter(G,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(G,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter(G,"textDecoration",""),Re}var Ar={},fo;function Rd(){if(fo)return Ar;fo=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.TextPath=void 0;const t=Pt(),e=ut(),r=Mt(),i=Vs(),a=Th(),n=dt(),s=ft();var o="",l="normal";function u(m){m.fillText(this.partialText,0,0)}function _(m){m.strokeText(this.partialText,0,0)}let p=class extends r.Shape{constructor(v){super(v),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(v){if(!this.attrs.data)return null;const d=this.pathLength;return v-1>d?null:i.Path.getPointAtLengthOfDataArray(v,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(v){v.setAttr("font",this._getContextFont()),v.setAttr("textBaseline",this.textBaseline()),v.setAttr("textAlign","left"),v.save();var d=this.textDecoration(),y=this.fill(),S=this.fontSize(),x=this.glyphInfo;d==="underline"&&v.beginPath();for(var c=0;c<x.length;c++){v.save();var h=x[c].p0;v.translate(h.x,h.y),v.rotate(x[c].rotation),this.partialText=x[c].text,v.fillStrokeShape(this),d==="underline"&&(c===0&&v.moveTo(0,S/2+1),v.lineTo(S,S/2+1)),v.restore()}d==="underline"&&(v.strokeStyle=y,v.lineWidth=S/20,v.stroke()),v.restore()}_hitFunc(v){v.beginPath();var d=this.glyphInfo;if(d.length>=1){var y=d[0].p0;v.moveTo(y.x,y.y)}for(var S=0;S<d.length;S++){var x=d[S].p1;v.lineTo(x.x,x.y)}v.setAttr("lineWidth",this.fontSize()),v.setAttr("strokeStyle",this.colorKey),v.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(v){return a.Text.prototype.setText.call(this,v)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(v){var d=this.dummyCanvas,y=d.getContext("2d");y.save(),y.font=this._getContextFont();var S=y.measureText(v);return y.restore(),{width:S.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:v,height:d}=this._getTextSize(this.attrs.text);if(this.textWidth=v,this.textHeight=d,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),S=this.align(),x=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let h=0;S==="center"&&(h=Math.max(0,this.pathLength/2-c/2)),S==="right"&&(h=Math.max(0,this.pathLength-c));const g=(0,a.stringToArray)(this.text());let C=h;for(var A=0;A<g.length;A++){const M=this._getPointAtLength(C);if(!M)return;let w=this._getTextSize(g[A]).width+y;if(g[A]===" "&&S==="justify"){const b=this.text().split(" ").length-1;w+=(this.pathLength-c)/b}const E=this._getPointAtLength(C+w);if(!E)return;const P=i.Path.getLineLength(M.x,M.y,E.x,E.y);let R=0;if(x)try{R=x(g[A-1],g[A])*this.fontSize()}catch(b){R=0}M.x+=R,E.x+=R,this.textWidth+=R;const k=i.Path.getPointOnLine(R+P/2,M.x,M.y,E.x,E.y),f=Math.atan2(E.y-M.y,E.x-M.x);this.glyphInfo.push({transposeX:k.x,transposeY:k.y,text:g[A],rotation:f,p0:M,p1:E}),C+=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var v=[];this.glyphInfo.forEach(function(A){v.push(A.p0.x),v.push(A.p0.y),v.push(A.p1.x),v.push(A.p1.y)});for(var d=v[0]||0,y=v[0]||0,S=v[1]||0,x=v[1]||0,c,h,g=0;g<v.length/2;g++)c=v[g*2],h=v[g*2+1],d=Math.min(d,c),y=Math.max(y,c),S=Math.min(S,h),x=Math.max(x,h);var C=this.fontSize();return{x:d-C/2,y:S-C/2,width:y-d+C,height:x-S+C}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Ar.TextPath=p,p.prototype._fillFunc=u,p.prototype._strokeFunc=_,p.prototype._fillFuncHit=u,p.prototype._strokeFuncHit=_,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],(0,s._registerNode)(p),e.Factory.addGetterSetter(p,"data"),e.Factory.addGetterSetter(p,"fontFamily","Arial"),e.Factory.addGetterSetter(p,"fontSize",12,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(p,"fontStyle",l),e.Factory.addGetterSetter(p,"align","left"),e.Factory.addGetterSetter(p,"letterSpacing",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(p,"textBaseline","middle"),e.Factory.addGetterSetter(p,"fontVariant",l),e.Factory.addGetterSetter(p,"text",o),e.Factory.addGetterSetter(p,"textDecoration",null),e.Factory.addGetterSetter(p,"kerningFunc",null),Ar}var Rr={},go;function Fd(){if(go)return Rr;go=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Transformer=void 0;const t=Pt(),e=ut(),r=Tt(),i=Mt(),a=Ph(),n=Us(),s=ft(),o=dt(),l=ft();var u="tr-konva",_=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(w=>w+`.${u}`).join(" "),p="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const d="ontouchstart"in s.Konva._global;function y(w,E,P){if(w==="rotater")return P;E+=t.Util.degToRad(v[w]||0);var R=(t.Util.radToDeg(E)%360+360)%360;return t.Util._inRange(R,315+22.5,360)||t.Util._inRange(R,0,22.5)?"ns-resize":t.Util._inRange(R,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(R,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(R,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(R,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(R,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(R,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(R,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+R),"pointer")}var S=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],x=1e8;function c(w){return{x:w.x+w.width/2*Math.cos(w.rotation)+w.height/2*Math.sin(-w.rotation),y:w.y+w.height/2*Math.cos(w.rotation)+w.width/2*Math.sin(w.rotation)}}function h(w,E,P){const R=P.x+(w.x-P.x)*Math.cos(E)-(w.y-P.y)*Math.sin(E),k=P.y+(w.x-P.x)*Math.sin(E)+(w.y-P.y)*Math.cos(E);return Ws(te({},w),{rotation:w.rotation+E,x:R,y:k})}function g(w,E){const P=c(w);return h(w,E,P)}function C(w,E,P){let R=E;for(let k=0;k<w.length;k++){const f=s.Konva.getAngle(w[k]),b=Math.abs(f-E)%(Math.PI*2);Math.min(b,Math.PI*2-b)<P&&(R=f)}return R}let A=class extends n.Group{constructor(E){super(E),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(_,this.update),this.getNode()&&this.update()}attachTo(E){return this.setNode(E),this}setNode(E){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([E])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(E=[]){this._nodes&&this._nodes.length&&this.detach();const P=E.filter(k=>k.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=E=P,E.length===1&&this.useSingleNodeRotation()?this.rotation(E[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(k=>{const f=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},b=k._attrsAffectingSize.map(T=>T+"Change."+this._getEventNamespace()).join(" ");k.on(b,f),k.on(m.map(T=>T+`.${this._getEventNamespace()}`).join(" "),f),k.on(`absoluteTransformChange.${this._getEventNamespace()}`,f),this._proxyDrag(k)}),this._resetTransformCache();var R=!!this.findOne(".top-left");return R&&this.update(),this}_proxyDrag(E){let P;E.on(`dragstart.${this._getEventNamespace()}`,R=>{P=E.getAbsolutePosition(),!this.isDragging()&&E!==this.findOne(".back")&&this.startDrag(R,!1)}),E.on(`dragmove.${this._getEventNamespace()}`,R=>{if(!P)return;const k=E.getAbsolutePosition(),f=k.x-P.x,b=k.y-P.y;this.nodes().forEach(T=>{if(T===E||T.isDragging())return;const F=T.getAbsolutePosition();T.setAbsolutePosition({x:F.x+f,y:F.y+b}),T.startDrag(R)}),P=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(E=>{E.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p,this.__getNodeRect)}__getNodeShape(E,P=this.rotation(),R){var k=E.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),f=E.getAbsoluteScale(R),b=E.getAbsolutePosition(R),T=k.x*f.x-E.offsetX()*f.x,F=k.y*f.y-E.offsetY()*f.y;const N=(s.Konva.getAngle(E.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),I={x:b.x+T*Math.cos(N)+F*Math.sin(-N),y:b.y+F*Math.cos(N)+T*Math.sin(N),width:k.width*f.x,height:k.height*f.y,rotation:N};return h(I,-s.Konva.getAngle(P),{x:0,y:0})}__getNodeRect(){var E=this.getNode();if(!E)return{x:-x,y:-x,width:0,height:0,rotation:0};const P=[];this.nodes().map(N=>{const I=N.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var U=[{x:I.x,y:I.y},{x:I.x+I.width,y:I.y},{x:I.x+I.width,y:I.y+I.height},{x:I.x,y:I.y+I.height}],G=N.getAbsoluteTransform();U.forEach(function(Y){var V=G.point(Y);P.push(V)})});const R=new t.Transform;R.rotate(-s.Konva.getAngle(this.rotation()));var k=1/0,f=1/0,b=-1/0,T=-1/0;P.forEach(function(N){var I=R.point(N);k===void 0&&(k=b=I.x,f=T=I.y),k=Math.min(k,I.x),f=Math.min(f,I.y),b=Math.max(b,I.x),T=Math.max(T,I.y)}),R.invert();const F=R.point({x:k,y:f});return{x:F.x,y:F.y,width:b-k,height:T-f,rotation:s.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),S.forEach(E=>{this._createAnchor(E)}),this._createAnchor("rotater")}_createAnchor(E){var P=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:E+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:d?10:"auto"}),R=this;P.on("mousedown touchstart",function(k){R._handleMouseDown(k)}),P.on("dragstart",k=>{P.stopDrag(),k.cancelBubble=!0}),P.on("dragend",k=>{k.cancelBubble=!0}),P.on("mouseenter",()=>{var k=s.Konva.getAngle(this.rotation()),f=this.rotateAnchorCursor(),b=y(E,k,f);P.getStage().content&&(P.getStage().content.style.cursor=b),this._cursorChange=!0}),P.on("mouseout",()=>{P.getStage().content&&(P.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(P)}_createBack(){var E=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(P,R){var k=R.getParent(),f=k.padding();P.beginPath(),P.rect(-f,-f,R.width()+f*2,R.height()+f*2),P.moveTo(R.width()/2,-f),k.rotateEnabled()&&P.lineTo(R.width()/2,-k.rotateAnchorOffset()*t.Util._sign(R.height())-f),P.fillStrokeShape(R)},hitFunc:(P,R)=>{if(this.shouldOverdrawWholeArea()){var k=this.padding();P.beginPath(),P.rect(-k,-k,R.width()+k*2,R.height()+k*2),P.fillStrokeShape(R)}}});this.add(E),this._proxyDrag(E),E.on("dragstart",P=>{P.cancelBubble=!0}),E.on("dragmove",P=>{P.cancelBubble=!0}),E.on("dragend",P=>{P.cancelBubble=!0}),this.on("dragmove",P=>{this.update()})}_handleMouseDown(E){this._movingAnchorName=E.target.name().split(" ")[0];var P=this._getNodeRect(),R=P.width,k=P.height,f=Math.sqrt(Math.pow(R,2)+Math.pow(k,2));this.sin=Math.abs(k/f),this.cos=Math.abs(R/f),typeof window!="undefined"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var b=E.target.getAbsolutePosition(),T=E.target.getStage().getPointerPosition();this._anchorDragOffset={x:T.x-b.x,y:T.y-b.y},this._fire("transformstart",{evt:E.evt,target:this.getNode()}),this._nodes.forEach(F=>{F._fire("transformstart",{evt:E.evt,target:F})})}_handleMouseMove(E){var P,R,k,f=this.findOne("."+this._movingAnchorName),b=f.getStage();b.setPointersPositions(E);const T=b.getPointerPosition();let F={x:T.x-this._anchorDragOffset.x,y:T.y-this._anchorDragOffset.y};const N=f.getAbsolutePosition();this.anchorDragBoundFunc()&&(F=this.anchorDragBoundFunc()(N,F,E)),f.setAbsolutePosition(F);const I=f.getAbsolutePosition();if(!(N.x===I.x&&N.y===I.y)){if(this._movingAnchorName==="rotater"){var U=this._getNodeRect();P=f.x()-U.width/2,R=-f.y()+U.height/2;let X=Math.atan2(-R,P)+Math.PI/2;U.height<0&&(X-=Math.PI);var G=s.Konva.getAngle(this.rotation());const Z=G+X,$=s.Konva.getAngle(this.rotationSnapTolerance()),q=C(this.rotationSnaps(),Z,$)-U.rotation,it=g(U,q);this._fitNodesInto(it,E);return}var Y=this.shiftBehavior(),V;Y==="inverted"?V=this.keepRatio()&&!E.shiftKey:Y==="none"?V=this.keepRatio():V=this.keepRatio()||E.shiftKey;var L=this.centeredScaling()||E.altKey;if(this._movingAnchorName==="top-left"){if(V){var K=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};k=Math.sqrt(Math.pow(K.x-f.x(),2)+Math.pow(K.y-f.y(),2));var Q=this.findOne(".top-left").x()>K.x?-1:1,tt=this.findOne(".top-left").y()>K.y?-1:1;P=k*this.cos*Q,R=k*this.sin*tt,this.findOne(".top-left").x(K.x-P),this.findOne(".top-left").y(K.y-R)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(f.y());else if(this._movingAnchorName==="top-right"){if(V){var K=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};k=Math.sqrt(Math.pow(f.x()-K.x,2)+Math.pow(K.y-f.y(),2));var Q=this.findOne(".top-right").x()<K.x?-1:1,tt=this.findOne(".top-right").y()>K.y?-1:1;P=k*this.cos*Q,R=k*this.sin*tt,this.findOne(".top-right").x(K.x+P),this.findOne(".top-right").y(K.y-R)}var rt=f.position();this.findOne(".top-left").y(rt.y),this.findOne(".bottom-right").x(rt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(f.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(f.x());else if(this._movingAnchorName==="bottom-left"){if(V){var K=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};k=Math.sqrt(Math.pow(K.x-f.x(),2)+Math.pow(f.y()-K.y,2));var Q=K.x<f.x()?-1:1,tt=f.y()<K.y?-1:1;P=k*this.cos*Q,R=k*this.sin*tt,f.x(K.x-P),f.y(K.y+R)}rt=f.position(),this.findOne(".top-left").x(rt.x),this.findOne(".bottom-right").y(rt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(f.y());else if(this._movingAnchorName==="bottom-right"){if(V){var K=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};k=Math.sqrt(Math.pow(f.x()-K.x,2)+Math.pow(f.y()-K.y,2));var Q=this.findOne(".bottom-right").x()<K.x?-1:1,tt=this.findOne(".bottom-right").y()<K.y?-1:1;P=k*this.cos*Q,R=k*this.sin*tt,this.findOne(".bottom-right").x(K.x+P),this.findOne(".bottom-right").y(K.y+R)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var L=this.centeredScaling()||E.altKey;if(L){var B=this.findOne(".top-left"),z=this.findOne(".bottom-right"),lt=B.x(),ot=B.y(),O=this.getWidth()-z.x(),D=this.getHeight()-z.y();z.move({x:-lt,y:-ot}),B.move({x:O,y:D})}var H=this.findOne(".top-left").getAbsolutePosition();P=H.x,R=H.y;var j=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),W=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:P,y:R,width:j,height:W,rotation:s.Konva.getAngle(this.rotation())},E)}}_handleMouseUp(E){this._removeEvents(E)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(E){if(this._transforming){this._transforming=!1,typeof window!="undefined"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var P=this.getNode();this._fire("transformend",{evt:E,target:P}),P&&this._nodes.forEach(R=>{R._fire("transformend",{evt:E,target:R})}),this._movingAnchorName=null}}_fitNodesInto(E,P){var R=this._getNodeRect();const k=1;if(t.Util._inRange(E.width,-this.padding()*2-k,k)){this.update();return}if(t.Util._inRange(E.height,-this.padding()*2-k,k)){this.update();return}var f=new t.Transform;if(f.rotate(s.Konva.getAngle(this.rotation())),this._movingAnchorName&&E.width<0&&this._movingAnchorName.indexOf("left")>=0){const G=f.point({x:-this.padding()*2,y:0});E.x+=G.x,E.y+=G.y,E.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y}else if(this._movingAnchorName&&E.width<0&&this._movingAnchorName.indexOf("right")>=0){const G=f.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,E.width+=this.padding()*2}if(this._movingAnchorName&&E.height<0&&this._movingAnchorName.indexOf("top")>=0){const G=f.point({x:0,y:-this.padding()*2});E.x+=G.x,E.y+=G.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,E.height+=this.padding()*2}else if(this._movingAnchorName&&E.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const G=f.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,E.height+=this.padding()*2}if(this.boundBoxFunc()){const G=this.boundBoxFunc()(R,E);G?E=G:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const b=1e7,T=new t.Transform;T.translate(R.x,R.y),T.rotate(R.rotation),T.scale(R.width/b,R.height/b);const F=new t.Transform,N=E.width/b,I=E.height/b;this.flipEnabled()===!1?(F.translate(E.x,E.y),F.rotate(E.rotation),F.translate(E.width<0?E.width:0,E.height<0?E.height:0),F.scale(Math.abs(N),Math.abs(I))):(F.translate(E.x,E.y),F.rotate(E.rotation),F.scale(N,I));const U=F.multiply(T.invert());this._nodes.forEach(G=>{var Y;const V=G.getParent().getAbsoluteTransform(),K=G.getTransform().copy();K.translate(G.offsetX(),G.offsetY());const Q=new t.Transform;Q.multiply(V.copy().invert()).multiply(U).multiply(V).multiply(K);const tt=Q.decompose();G.setAttrs(tt),this._fire("transform",{evt:P,target:G}),G._fire("transform",{evt:P,target:G}),(Y=G.getLayer())===null||Y===void 0||Y.batchDraw()}),this.rotation(t.Util._getRotation(E.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(E,P){this.findOne(E).setAttrs(P)}update(){var E,P=this._getNodeRect();this.rotation(t.Util._getRotation(P.rotation));var R=P.width,k=P.height,f=this.enabledAnchors(),b=this.resizeEnabled(),T=this.padding(),F=this.anchorSize();const N=this.find("._anchor");N.forEach(U=>{U.setAttrs({width:F,height:F,offsetX:F/2,offsetY:F/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:F/2+T,offsetY:F/2+T,visible:b&&f.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:R/2,y:0,offsetY:F/2+T,visible:b&&f.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:R,y:0,offsetX:F/2-T,offsetY:F/2+T,visible:b&&f.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:k/2,offsetX:F/2+T,visible:b&&f.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:R,y:k/2,offsetX:F/2-T,visible:b&&f.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:k,offsetX:F/2+T,offsetY:F/2-T,visible:b&&f.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:R/2,y:k,offsetY:F/2-T,visible:b&&f.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:R,y:k,offsetX:F/2-T,offsetY:F/2-T,visible:b&&f.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:R/2,y:-this.rotateAnchorOffset()*t.Util._sign(k)-T,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:R,height:k,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const I=this.anchorStyleFunc();I&&N.forEach(U=>{I(U)}),(E=this.getLayer())===null||E===void 0||E.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var E=this.findOne("."+this._movingAnchorName);E&&E.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),n.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(E){var P=r.Node.prototype.clone.call(this,E);return P}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Rr.Transformer=A;function M(w){return w instanceof Array||t.Util.warn("enabledAnchors value should be an array"),w instanceof Array&&w.forEach(function(E){S.indexOf(E)===-1&&t.Util.warn("Unknown anchor name: "+E+". Available names are: "+S.join(", "))}),w||[]}return A.prototype.className="Transformer",(0,l._registerNode)(A),e.Factory.addGetterSetter(A,"enabledAnchors",S,M),e.Factory.addGetterSetter(A,"flipEnabled",!0,(0,o.getBooleanValidator)()),e.Factory.addGetterSetter(A,"resizeEnabled",!0),e.Factory.addGetterSetter(A,"anchorSize",10,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateEnabled",!0),e.Factory.addGetterSetter(A,"rotationSnaps",[]),e.Factory.addGetterSetter(A,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(A,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderEnabled",!0),e.Factory.addGetterSetter(A,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"anchorFill","white"),e.Factory.addGetterSetter(A,"anchorCornerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"borderStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderDash"),e.Factory.addGetterSetter(A,"keepRatio",!0),e.Factory.addGetterSetter(A,"shiftBehavior","default"),e.Factory.addGetterSetter(A,"centeredScaling",!1),e.Factory.addGetterSetter(A,"ignoreStroke",!1),e.Factory.addGetterSetter(A,"padding",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"node"),e.Factory.addGetterSetter(A,"nodes"),e.Factory.addGetterSetter(A,"boundBoxFunc"),e.Factory.addGetterSetter(A,"anchorDragBoundFunc"),e.Factory.addGetterSetter(A,"anchorStyleFunc"),e.Factory.addGetterSetter(A,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(A,"useSingleNodeRotation",!0),e.Factory.backCompat(A,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Rr}var Fr={},po;function Md(){if(po)return Fr;po=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Wedge=void 0;const t=ut(),e=Mt(),r=ft(),i=dt(),a=ft();let n=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Fr.Wedge=n,n.prototype.className="Wedge",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clockwise",!1),t.Factory.backCompat(n,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Fr}var Mr={},vo;function Od(){if(vo)return Mr;vo=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.Blur=void 0;const t=ut(),e=Tt(),r=dt();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(l,u){var _=l.data,p=l.width,m=l.height,v,d,y,S,x,c,h,g,C,A,M,w,E,P,R,k,f,b,T,F,N,I,U,G,Y=u+u+1,V=p-1,K=m-1,Q=u+1,tt=Q*(Q+1)/2,rt=new i,L=null,B=rt,z=null,lt=null,ot=a[u],O=n[u];for(y=1;y<Y;y++)B=B.next=new i,y===Q&&(L=B);for(B.next=rt,h=c=0,d=0;d<m;d++){for(k=f=b=T=g=C=A=M=0,w=Q*(F=_[c]),E=Q*(N=_[c+1]),P=Q*(I=_[c+2]),R=Q*(U=_[c+3]),g+=tt*F,C+=tt*N,A+=tt*I,M+=tt*U,B=rt,y=0;y<Q;y++)B.r=F,B.g=N,B.b=I,B.a=U,B=B.next;for(y=1;y<Q;y++)S=c+((V<y?V:y)<<2),g+=(B.r=F=_[S])*(G=Q-y),C+=(B.g=N=_[S+1])*G,A+=(B.b=I=_[S+2])*G,M+=(B.a=U=_[S+3])*G,k+=F,f+=N,b+=I,T+=U,B=B.next;for(z=rt,lt=L,v=0;v<p;v++)_[c+3]=U=M*ot>>O,U!==0?(U=255/U,_[c]=(g*ot>>O)*U,_[c+1]=(C*ot>>O)*U,_[c+2]=(A*ot>>O)*U):_[c]=_[c+1]=_[c+2]=0,g-=w,C-=E,A-=P,M-=R,w-=z.r,E-=z.g,P-=z.b,R-=z.a,S=h+((S=v+u+1)<V?S:V)<<2,k+=z.r=_[S],f+=z.g=_[S+1],b+=z.b=_[S+2],T+=z.a=_[S+3],g+=k,C+=f,A+=b,M+=T,z=z.next,w+=F=lt.r,E+=N=lt.g,P+=I=lt.b,R+=U=lt.a,k-=F,f-=N,b-=I,T-=U,lt=lt.next,c+=4;h+=p}for(v=0;v<p;v++){for(f=b=T=k=C=A=M=g=0,c=v<<2,w=Q*(F=_[c]),E=Q*(N=_[c+1]),P=Q*(I=_[c+2]),R=Q*(U=_[c+3]),g+=tt*F,C+=tt*N,A+=tt*I,M+=tt*U,B=rt,y=0;y<Q;y++)B.r=F,B.g=N,B.b=I,B.a=U,B=B.next;for(x=p,y=1;y<=u;y++)c=x+v<<2,g+=(B.r=F=_[c])*(G=Q-y),C+=(B.g=N=_[c+1])*G,A+=(B.b=I=_[c+2])*G,M+=(B.a=U=_[c+3])*G,k+=F,f+=N,b+=I,T+=U,B=B.next,y<K&&(x+=p);for(c=v,z=rt,lt=L,d=0;d<m;d++)S=c<<2,_[S+3]=U=M*ot>>O,U>0?(U=255/U,_[S]=(g*ot>>O)*U,_[S+1]=(C*ot>>O)*U,_[S+2]=(A*ot>>O)*U):_[S]=_[S+1]=_[S+2]=0,g-=w,C-=E,A-=P,M-=R,w-=z.r,E-=z.g,P-=z.b,R-=z.a,S=v+((S=d+Q)<K?S:K)*p<<2,g+=k+=z.r=_[S],C+=f+=z.g=_[S+1],A+=b+=z.b=_[S+2],M+=T+=z.a=_[S+3],z=z.next,w+=F=lt.r,E+=N=lt.g,P+=I=lt.b,R+=U=lt.a,k-=F,f-=N,b-=I,T-=U,lt=lt.next,c+=p}}const o=function(u){var _=Math.round(this.blurRadius());_>0&&s(u,_)};return Mr.Blur=o,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Mr}var Or={},_o;function kd(){if(_o)return Or;_o=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.Brighten=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=this.brightness()*255,s=a.data,o=s.length,l;for(l=0;l<o;l+=4)s[l]+=n,s[l+1]+=n,s[l+2]+=n};return Or.Brighten=i,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Or}var kr={},mo;function Nd(){if(mo)return kr;mo=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.Contrast=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=Math.pow((this.contrast()+100)/100,2),s=a.data,o=s.length,l=150,u=150,_=150,p;for(p=0;p<o;p+=4)l=s[p],u=s[p+1],_=s[p+2],l/=255,l-=.5,l*=n,l+=.5,l*=255,u/=255,u-=.5,u*=n,u+=.5,u*=255,_/=255,_-=.5,_*=n,_+=.5,_*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,_=_<0?0:_>255?255:_,s[p]=l,s[p+1]=u,s[p+2]=_};return kr.Contrast=i,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),kr}var Nr={},yo;function Ld(){if(yo)return Nr;yo=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Emboss=void 0;const t=ut(),e=Tt(),r=Pt(),i=dt(),a=function(n){var s=this.embossStrength()*10,o=this.embossWhiteLevel()*255,l=this.embossDirection(),u=this.embossBlend(),_=0,p=0,m=n.data,v=n.width,d=n.height,y=v*4,S=d;switch(l){case"top-left":_=-1,p=-1;break;case"top":_=-1,p=0;break;case"top-right":_=-1,p=1;break;case"right":_=0,p=1;break;case"bottom-right":_=1,p=1;break;case"bottom":_=1,p=0;break;case"bottom-left":_=1,p=-1;break;case"left":_=0,p=-1;break;default:r.Util.error("Unknown emboss direction: "+l)}do{var x=(S-1)*y,c=_;S+c<1&&(c=0),S+c>d&&(c=0);var h=(S-1+c)*v*4,g=v;do{var C=x+(g-1)*4,A=p;g+A<1&&(A=0),g+A>v&&(A=0);var M=h+(g-1+A)*4,w=m[C]-m[M],E=m[C+1]-m[M+1],P=m[C+2]-m[M+2],R=w,k=R>0?R:-R,f=E>0?E:-E,b=P>0?P:-P;if(f>k&&(R=E),b>k&&(R=P),R*=s,u){var T=m[C]+R,F=m[C+1]+R,N=m[C+2]+R;m[C]=T>255?255:T<0?0:T,m[C+1]=F>255?255:F<0?0:F,m[C+2]=N>255?255:N<0?0:N}else{var I=o-R;I<0?I=0:I>255&&(I=255),m[C]=m[C+1]=m[C+2]=I}}while(--g)}while(--S)};return Nr.Emboss=a,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),Nr}var Lr={},bo;function Dd(){if(bo)return Lr;bo=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Enhance=void 0;const t=ut(),e=Tt(),r=dt();function i(n,s,o,l,u){var _=o-s,p=u-l,m;return _===0?l+p/2:p===0?l:(m=(n-s)/_,m=p*m+l,m)}const a=function(n){var s=n.data,o=s.length,l=s[0],u=l,_,p=s[1],m=p,v,d=s[2],y=d,S,x,c=this.enhance();if(c!==0){for(x=0;x<o;x+=4)_=s[x+0],_<l?l=_:_>u&&(u=_),v=s[x+1],v<p?p=v:v>m&&(m=v),S=s[x+2],S<d?d=S:S>y&&(y=S);u===l&&(u=255,l=0),m===p&&(m=255,p=0),y===d&&(y=255,d=0);var h,g,C,A,M,w,E,P,R;for(c>0?(g=u+c*(255-u),C=l-c*(l-0),M=m+c*(255-m),w=p-c*(p-0),P=y+c*(255-y),R=d-c*(d-0)):(h=(u+l)*.5,g=u+c*(u-h),C=l+c*(l-h),A=(m+p)*.5,M=m+c*(m-A),w=p+c*(p-A),E=(y+d)*.5,P=y+c*(y-E),R=d+c*(d-E)),x=0;x<o;x+=4)s[x+0]=i(s[x+0],l,u,C,g),s[x+1]=i(s[x+1],p,m,w,M),s[x+2]=i(s[x+2],d,y,R,P)}};return Lr.Enhance=a,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Lr}var Dr={},So;function Id(){if(So)return Dr;So=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Grayscale=void 0;const t=function(e){var r=e.data,i=r.length,a,n;for(a=0;a<i;a+=4)n=.34*r[a]+.5*r[a+1]+.16*r[a+2],r[a]=n,r[a+1]=n,r[a+2]=n};return Dr.Grayscale=t,Dr}var Ir={},Co;function Gd(){if(Co)return Ir;Co=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.HSL=void 0;const t=ut(),e=Tt(),r=dt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter);const i=function(a){var n=a.data,s=n.length,o=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,_=this.luminance()*127,p,m=o*l*Math.cos(u*Math.PI/180),v=o*l*Math.sin(u*Math.PI/180),d=.299*o+.701*m+.167*v,y=.587*o-.587*m+.33*v,S=.114*o-.114*m-.497*v,x=.299*o-.299*m-.328*v,c=.587*o+.413*m+.035*v,h=.114*o-.114*m+.293*v,g=.299*o-.3*m+1.25*v,C=.587*o-.586*m-1.05*v,A=.114*o+.886*m-.2*v,M,w,E,P;for(p=0;p<s;p+=4)M=n[p+0],w=n[p+1],E=n[p+2],P=n[p+3],n[p+0]=d*M+y*w+S*E+_,n[p+1]=x*M+c*w+h*E+_,n[p+2]=g*M+C*w+A*E+_,n[p+3]=P};return Ir.HSL=i,Ir}var Gr={},wo;function Ud(){if(wo)return Gr;wo=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.HSV=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=a.data,s=n.length,o=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,_,p=o*l*Math.cos(u*Math.PI/180),m=o*l*Math.sin(u*Math.PI/180),v=.299*o+.701*p+.167*m,d=.587*o-.587*p+.33*m,y=.114*o-.114*p-.497*m,S=.299*o-.299*p-.328*m,x=.587*o+.413*p+.035*m,c=.114*o-.114*p+.293*m,h=.299*o-.3*p+1.25*m,g=.587*o-.586*p-1.05*m,C=.114*o+.886*p-.2*m,A,M,w,E;for(_=0;_<s;_+=4)A=n[_+0],M=n[_+1],w=n[_+2],E=n[_+3],n[_+0]=v*A+d*M+y*w,n[_+1]=S*A+x*M+c*w,n[_+2]=h*A+g*M+C*w,n[_+3]=E};return Gr.HSV=i,t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Gr}var Ur={},xo;function Bd(){if(xo)return Ur;xo=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.Invert=void 0;const t=function(e){var r=e.data,i=r.length,a;for(a=0;a<i;a+=4)r[a]=255-r[a],r[a+1]=255-r[a+1],r[a+2]=255-r[a+2]};return Ur.Invert=t,Ur}var Br={},Po;function Vd(){if(Po)return Br;Po=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Kaleidoscope=void 0;const t=ut(),e=Tt(),r=Pt(),i=dt();var a=function(o,l,u){var _=o.data,p=l.data,m=o.width,v=o.height,d=u.polarCenterX||m/2,y=u.polarCenterY||v/2,S,x,c,h=0,g=0,C=0,A=0,M,w=Math.sqrt(d*d+y*y);x=m-d,c=v-y,M=Math.sqrt(x*x+c*c),w=M>w?M:w;var E=v,P=m,R,k,f=360/P*Math.PI/180,b,T;for(k=0;k<P;k+=1)for(b=Math.sin(k*f),T=Math.cos(k*f),R=0;R<E;R+=1)x=Math.floor(d+w*R/E*T),c=Math.floor(y+w*R/E*b),S=(c*m+x)*4,h=_[S+0],g=_[S+1],C=_[S+2],A=_[S+3],S=(k+R*m)*4,p[S+0]=h,p[S+1]=g,p[S+2]=C,p[S+3]=A},n=function(o,l,u){var _=o.data,p=l.data,m=o.width,v=o.height,d=u.polarCenterX||m/2,y=u.polarCenterY||v/2,S,x,c,h,g,C=0,A=0,M=0,w=0,E,P=Math.sqrt(d*d+y*y);x=m-d,c=v-y,E=Math.sqrt(x*x+c*c),P=E>P?E:P;var R=v,k=m,f,b,T=u.polarRotation||0,F,N;for(x=0;x<m;x+=1)for(c=0;c<v;c+=1)h=x-d,g=c-y,f=Math.sqrt(h*h+g*g)*R/P,b=(Math.atan2(g,h)*180/Math.PI+360+T)%360,b=b*k/360,F=Math.floor(b),N=Math.floor(f),S=(N*m+F)*4,C=_[S+0],A=_[S+1],M=_[S+2],w=_[S+3],S=(c*m+x)*4,p[S+0]=C,p[S+1]=A,p[S+2]=M,p[S+3]=w};const s=function(o){var l=o.width,u=o.height,_,p,m,v,d,y,S,x,c,h,g=Math.round(this.kaleidoscopePower()),C=Math.round(this.kaleidoscopeAngle()),A=Math.floor(l*(C%360)/360);if(!(g<1)){var M=r.Util.createCanvasElement();M.width=l,M.height=u;var w=M.getContext("2d").getImageData(0,0,l,u);r.Util.releaseCanvas(M),a(o,w,{polarCenterX:l/2,polarCenterY:u/2});for(var E=l/Math.pow(2,g);E<=8;)E=E*2,g-=1;E=Math.ceil(E);var P=E,R=0,k=P,f=1;for(A+E>l&&(R=P,k=0,f=-1),p=0;p<u;p+=1)for(_=R;_!==k;_+=f)m=Math.round(_+A)%l,c=(l*p+m)*4,d=w.data[c+0],y=w.data[c+1],S=w.data[c+2],x=w.data[c+3],h=(l*p+_)*4,w.data[h+0]=d,w.data[h+1]=y,w.data[h+2]=S,w.data[h+3]=x;for(p=0;p<u;p+=1)for(P=Math.floor(E),v=0;v<g;v+=1){for(_=0;_<P+1;_+=1)c=(l*p+_)*4,d=w.data[c+0],y=w.data[c+1],S=w.data[c+2],x=w.data[c+3],h=(l*p+P*2-_-1)*4,w.data[h+0]=d,w.data[h+1]=y,w.data[h+2]=S,w.data[h+3]=x;P*=2}n(w,o,{polarRotation:0})}};return Br.Kaleidoscope=s,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Br}var Vr={},To;function Hd(){if(To)return Vr;To=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Mask=void 0;const t=ut(),e=Tt(),r=dt();function i(m,v,d){var y=(d*m.width+v)*4,S=[];return S.push(m.data[y++],m.data[y++],m.data[y++],m.data[y++]),S}function a(m,v){return Math.sqrt(Math.pow(m[0]-v[0],2)+Math.pow(m[1]-v[1],2)+Math.pow(m[2]-v[2],2))}function n(m){for(var v=[0,0,0],d=0;d<m.length;d++)v[0]+=m[d][0],v[1]+=m[d][1],v[2]+=m[d][2];return v[0]/=m.length,v[1]/=m.length,v[2]/=m.length,v}function s(m,v){var d=i(m,0,0),y=i(m,m.width-1,0),S=i(m,0,m.height-1),x=i(m,m.width-1,m.height-1),c=v||10;if(a(d,y)<c&&a(y,x)<c&&a(x,S)<c&&a(S,d)<c){for(var h=n([y,d,x,S]),g=[],C=0;C<m.width*m.height;C++){var A=a(h,[m.data[C*4],m.data[C*4+1],m.data[C*4+2]]);g[C]=A<c?0:255}return g}}function o(m,v){for(var d=0;d<m.width*m.height;d++)m.data[4*d+3]=v[d]}function l(m,v,d){for(var y=[1,1,1,1,0,1,1,1,1],S=Math.round(Math.sqrt(y.length)),x=Math.floor(S/2),c=[],h=0;h<d;h++)for(var g=0;g<v;g++){for(var C=h*v+g,A=0,M=0;M<S;M++)for(var w=0;w<S;w++){var E=h+M-x,P=g+w-x;if(E>=0&&E<d&&P>=0&&P<v){var R=E*v+P,k=y[M*S+w];A+=m[R]*k}}c[C]=A===255*8?255:0}return c}function u(m,v,d){for(var y=[1,1,1,1,1,1,1,1,1],S=Math.round(Math.sqrt(y.length)),x=Math.floor(S/2),c=[],h=0;h<d;h++)for(var g=0;g<v;g++){for(var C=h*v+g,A=0,M=0;M<S;M++)for(var w=0;w<S;w++){var E=h+M-x,P=g+w-x;if(E>=0&&E<d&&P>=0&&P<v){var R=E*v+P,k=y[M*S+w];A+=m[R]*k}}c[C]=A>=255*4?255:0}return c}function _(m,v,d){for(var y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],S=Math.round(Math.sqrt(y.length)),x=Math.floor(S/2),c=[],h=0;h<d;h++)for(var g=0;g<v;g++){for(var C=h*v+g,A=0,M=0;M<S;M++)for(var w=0;w<S;w++){var E=h+M-x,P=g+w-x;if(E>=0&&E<d&&P>=0&&P<v){var R=E*v+P,k=y[M*S+w];A+=m[R]*k}}c[C]=A}return c}const p=function(m){var v=this.threshold(),d=s(m,v);return d&&(d=l(d,m.width,m.height),d=u(d,m.width,m.height),d=_(d,m.width,m.height),o(m,d)),m};return Vr.Mask=p,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Vr}var Hr={},Eo;function jd(){if(Eo)return Hr;Eo=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Noise=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=this.noise()*255,s=a.data,o=s.length,l=n/2,u;for(u=0;u<o;u+=4)s[u+0]+=l-2*l*Math.random(),s[u+1]+=l-2*l*Math.random(),s[u+2]+=l-2*l*Math.random()};return Hr.Noise=i,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Hr}var jr={},Ao;function qd(){if(Ao)return jr;Ao=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Pixelate=void 0;const t=ut(),e=Pt(),r=Tt(),i=dt(),a=function(n){var s=Math.ceil(this.pixelSize()),o=n.width,l=n.height,u,_,p,m,v,d,y,S=Math.ceil(o/s),x=Math.ceil(l/s),c,h,g,C,A,M,w,E=n.data;if(s<=0){e.Util.error("pixelSize value can not be <= 0");return}for(A=0;A<S;A+=1)for(M=0;M<x;M+=1){for(m=0,v=0,d=0,y=0,c=A*s,h=c+s,g=M*s,C=g+s,w=0,u=c;u<h;u+=1)if(!(u>=o))for(_=g;_<C;_+=1)_>=l||(p=(o*_+u)*4,m+=E[p+0],v+=E[p+1],d+=E[p+2],y+=E[p+3],w+=1);for(m=m/w,v=v/w,d=d/w,y=y/w,u=c;u<h;u+=1)if(!(u>=o))for(_=g;_<C;_+=1)_>=l||(p=(o*_+u)*4,E[p+0]=m,E[p+1]=v,E[p+2]=d,E[p+3]=y)}};return jr.Pixelate=a,t.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),jr}var qr={},Ro;function Kd(){if(Ro)return qr;Ro=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Posterize=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=Math.round(this.levels()*254)+1,s=a.data,o=s.length,l=255/n,u;for(u=0;u<o;u+=1)s[u]=Math.floor(s[u]/l)*l};return qr.Posterize=i,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),qr}var Kr={},Fo;function Wd(){if(Fo)return Kr;Fo=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.RGB=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=a.data,s=n.length,o=this.red(),l=this.green(),u=this.blue(),_,p;for(_=0;_<s;_+=4)p=(.34*n[_]+.5*n[_+1]+.16*n[_+2])/255,n[_]=p*o,n[_+1]=p*l,n[_+2]=p*u,n[_+3]=n[_+3]};return Kr.RGB=i,t.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),t.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),Kr}var Wr={},Mo;function zd(){if(Mo)return Wr;Mo=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.RGBA=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=a.data,s=n.length,o=this.red(),l=this.green(),u=this.blue(),_=this.alpha(),p,m;for(p=0;p<s;p+=4)m=1-_,n[p]=o*_+n[p]*m,n[p+1]=l*_+n[p+1]*m,n[p+2]=u*_+n[p+2]*m};return Wr.RGBA=i,t.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),t.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a}),Wr}var zr={},Oo;function Yd(){if(Oo)return zr;Oo=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.Sepia=void 0;const t=function(e){var r=e.data,i=r.length,a,n,s,o;for(a=0;a<i;a+=4)n=r[a+0],s=r[a+1],o=r[a+2],r[a+0]=Math.min(255,n*.393+s*.769+o*.189),r[a+1]=Math.min(255,n*.349+s*.686+o*.168),r[a+2]=Math.min(255,n*.272+s*.534+o*.131)};return zr.Sepia=t,zr}var Yr={},ko;function $d(){if(ko)return Yr;ko=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Solarize=void 0;const t=function(e){var r=e.data,i=e.width,a=e.height,n=i*4,s=a;do{var o=(s-1)*n,l=i;do{var u=o+(l-1)*4,_=r[u],p=r[u+1],m=r[u+2];_>127&&(_=255-_),p>127&&(p=255-p),m>127&&(m=255-m),r[u]=_,r[u+1]=p,r[u+2]=m}while(--l)}while(--s)};return Yr.Solarize=t,Yr}var $r={},No;function Xd(){if(No)return $r;No=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.Threshold=void 0;const t=ut(),e=Tt(),r=dt(),i=function(a){var n=this.threshold()*255,s=a.data,o=s.length,l;for(l=0;l<o;l+=1)s[l]=s[l]<n?0:255};return $r.Threshold=i,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),$r}var Lo;function Jd(){if(Lo)return hr;Lo=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.Konva=void 0;const t=_d(),e=md(),r=bd(),i=Sd(),a=Cd(),n=wd(),s=xd(),o=wh(),l=Vs(),u=Ph(),_=Pd(),p=Td(),m=Ed(),v=Ad(),d=Th(),y=Rd(),S=Fd(),x=Md(),c=Od(),h=kd(),g=Nd(),C=Ld(),A=Dd(),M=Id(),w=Gd(),E=Ud(),P=Bd(),R=Vd(),k=Hd(),f=jd(),b=qd(),T=Kd(),F=Wd(),N=zd(),I=Yd(),U=$d(),G=Xd();return hr.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:r.Arrow,Circle:i.Circle,Ellipse:a.Ellipse,Image:n.Image,Label:s.Label,Tag:s.Tag,Line:o.Line,Path:l.Path,Rect:u.Rect,RegularPolygon:_.RegularPolygon,Ring:p.Ring,Sprite:m.Sprite,Star:v.Star,Text:d.Text,TextPath:y.TextPath,Transformer:S.Transformer,Wedge:x.Wedge,Filters:{Blur:c.Blur,Brighten:h.Brighten,Contrast:g.Contrast,Emboss:C.Emboss,Enhance:A.Enhance,Grayscale:M.Grayscale,HSL:w.HSL,HSV:E.HSV,Invert:P.Invert,Kaleidoscope:R.Kaleidoscope,Mask:k.Mask,Noise:f.Noise,Pixelate:b.Pixelate,Posterize:T.Posterize,RGB:F.RGB,RGBA:N.RGBA,Sepia:I.Sepia,Solarize:U.Solarize,Threshold:G.Threshold}}),hr}var Qd=Gi.exports,Do;function Zd(){if(Do)return Gi.exports;Do=1,Object.defineProperty(Qd,"__esModule",{value:!0});const t=Jd();return Gi.exports=t.Konva,Gi.exports}/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(i,a){t.exports=a(dd,Zd())})(ts,function(r,i){return function(a){var n={};function s(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return a[o].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=a,s.c=n,s.d=function(o,l,u){s.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:u})},s.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,l){if(l&1&&(o=s(o)),l&8||l&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),l&2&&typeof o!="string")for(var _ in o)s.d(u,_,function(p){return o[p]}.bind(null,_));return u},s.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(l,"a",l),l},s.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},s.p="",s(s.s=2)}([function(a,n){a.exports=r},function(a,n){a.exports=i},function(a,n,s){a.exports=s(3)},function(a,n,s){s.r(n);var o=s(0),l=s(1),u=s.n(l);function _(f){if(!u.a.autoDrawEnabled){var b=f.getLayer()||f.getStage();b&&b.batchDraw()}}var p={key:!0,style:!0,elm:!0,isRootInsert:!0},m=".vue-konva-event";function v(f,b,T,F){b===void 0&&(b={}),T===void 0&&(T={});var N=f.__konvaNode,I={},U=!1;for(var G in T)if(!p[G]){var Y=G.slice(0,2)==="on",V=T[G]!==b[G];if(Y&&V){var K=G.substr(2).toLowerCase();K.substr(0,7)==="content"&&(K="content"+K.substr(7,1).toUpperCase()+K.substr(8)),N.off(K+m,T[G])}var Q=!b.hasOwnProperty(G);Q&&N.setAttr(G,void 0)}for(var tt in b)if(!p[tt]){var rt=tt.slice(0,2)==="on",L=T[tt]!==b[tt];if(rt&&L){var B=tt.substr(2).toLowerCase();B.substr(0,7)==="content"&&(B="content"+B.substr(7,1).toUpperCase()+B.substr(8)),b[tt]&&(N.off(B+m),N.on(B+m,b[tt]))}!rt&&(b[tt]!==T[tt]||F&&b[tt]!==N.getAttr(tt))&&(U=!0,I[tt]=b[tt])}U&&(N.setAttrs(I),_(N))}var d="v";function y(f){function b(T){return T.__konvaNode?T:T.parent?b(T.parent):(console.error("vue-konva error: Can not find parent node"),{})}return b(f.parent)}function S(f){if(f!=null&&f.component)return f.component.__konvaNode||S(f.component.subTree)}function x(f){var b=f.el,T=f.component,F=S(f);if(b!=null&&b.tagName&&T&&!F){var N=b&&b.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+N+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return F}function c(f){var b=[];return f.children&&f.children.forEach(function(T){!T.component&&Array.isArray(T.children)&&T.children.forEach(function(F){!F.component&&Array.isArray(F.children)?b.push.apply(b,F.children):b.push(F)}),T.component&&b.push(T)}),b}function h(f,b){var T=c(f),F=[];T.forEach(function(I){var U=x(I);U&&F.push(U)});var N=!1;F.forEach(function(I,U){I.getZIndex()!==U&&(I.setZIndex(U),N=!0)}),N&&_(b)}function g(){return g=Object.assign||function(f){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&(f[F]=T[F])}return f},g.apply(this,arguments)}var C={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(b,T){var F=T.attrs,N=T.slots,I=T.expose;T.emits;var U=Object(o.getCurrentInstance)(),G=Object(o.reactive)({}),Y=Object(o.ref)(null),V=new window.Konva.Stage({width:b.config.width,height:b.config.height,container:document.createElement("div")});U.__konvaNode=V,tt();function K(){return U.__konvaNode}function Q(){return U.__konvaNode}function tt(){var rt=G||{},L=g({},F,b.config);v(U,L,rt,b.__useStrictMode),Object.assign(G,L)}return Object(o.onMounted)(function(){Y.value.innerHTML="",V.container(Y.value),tt()}),Object(o.onUpdated)(function(){tt(),h(U.subTree,V)}),Object(o.onBeforeUnmount)(function(){V.destroy()}),Object(o.watch)(function(){return b.config},tt,{deep:!0}),I({getStage:Q,getNode:K}),function(){var rt;return Object(o.h)("div",{ref:Y},(rt=N.default)===null||rt===void 0?void 0:rt.call(N))}}};function A(){return A=Object.assign||function(f){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&(f[F]=T[F])}return f},A.apply(this,arguments)}var M=".vue-konva-event",w={Group:!0,Layer:!0,FastLayer:!0,Label:!0},E=function(f){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(T,F){var N=F.attrs,I=F.slots,U=F.expose,G=Object(o.getCurrentInstance)(),Y=Object(o.reactive)({}),V=window.Konva[f];if(!V){console.error("vue-konva error: Can not find node "+f);return}var K=new V;G.__konvaNode=K,G.vnode.__konvaNode=K,rt();function Q(){return G.__konvaNode}function tt(){return G.__konvaNode}function rt(){var B={};for(var z in G.vnode.props)z.slice(0,2)==="on"&&(B[z]=G.vnode.props[z]);var lt=Y||{},ot=A({},N,T.config,B);v(G,ot,lt,T.__useStrictMode),Object.assign(Y,ot)}Object(o.onMounted)(function(){var B=y(G).__konvaNode;B.add(K),_(K)}),Object(o.onUnmounted)(function(){_(K),K.destroy(),K.off(M)}),Object(o.onUpdated)(function(){rt(),h(G.subTree,K)}),Object(o.watch)(function(){return T.config},rt,{deep:!0}),U({getStage:tt,getNode:Q});var L=w[f];return L?function(){var B;return Object(o.h)("template",{},(B=I.default)===null||B===void 0?void 0:B.call(I))}:function(){return null}}}};typeof window!="undefined"&&!window.Konva&&s(1);var P=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],R=[{name:"Stage",component:C}].concat(P.map(function(f){return{name:f,component:E(f)}})),k={install:function(b,T){var F=d;T&&T.prefix&&(F=T.prefix),R.forEach(function(N){b.component(""+F+N.name,N.component)})}};n.default=k}]).default})})(yh);var t0=yh.exports;const w0=ud(t0);export{sf as A,Ms as B,hf as C,ys as D,bu as E,kt as F,Fs as G,mi as H,Os as I,Ls as T,w0 as V,vl as a,ri as b,Ci as c,pl as d,tn as e,$l as f,fe as g,Ce as h,Rt as i,xs as j,wt as k,cn as l,jl as m,_s as n,un as o,Rl as p,cu as q,Je as r,nf as s,ad as t,gs as u,dh as v,Le as w,yu as x,_u as y,fn as z};
